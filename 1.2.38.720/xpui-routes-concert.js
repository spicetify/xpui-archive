"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{73462:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(30758),i=n(73351),a=n(54925),s=n(96855),o=n(7104),c=n(42799),l=n(69880);const u="MUiWCNTfb6FcSwVPvQ1V",d="_eSrMs5LTUjW7l0vfuBg",m="UAk3bMhekwJTV_wIyfsT",v="X9w6LPfKsZHMCs38sVIQ",h="NXn5KjeUOjLGlAfS1Gao",f="N0wgFMDDvCiby4QB5kLJ",g="nloNe2BLRHjz9dxlwfLU",x="FyD0hF1e2PKzRxQ6sYDQ",p="GR08E4L_rOGljyQQX30R";var j=n(86070);const y=(0,r.memo)((function(e){var t=e.uri,n=e.title,r=e.imageUrl,y=e.date,b=e.subTitle,N=e.firstParty,S=e.onClick,_=y?(0,l.l4)(y):void 0;return(0,j.jsx)(o.Link,{to:t,className:u,"data-testid":"concert-card",onClick:S,children:(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)(c.b,{children:(0,j.jsx)("div",{role:"img",className:p,style:{backgroundImage:"url(".concat(r,")")},children:!r&&(0,j.jsx)(i.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),_&&(0,j.jsxs)("time",{className:m,dateTime:y,children:[(0,j.jsx)(a.E,{as:"div",variant:"bodySmall",children:(0,l.tj)(_)}),(0,j.jsx)(a.E,{as:"div",variant:"bodyMediumBold",children:(0,l.Py)(_)})]}),(0,j.jsxs)("div",{className:v,dir:"auto",children:[(0,j.jsx)(a.E,{as:"h2",variant:"bodyMedium",className:h,children:n}),(0,j.jsxs)("div",{className:f,children:[N&&(0,j.jsx)("span",{className:x,children:(0,j.jsx)(s.D,{size:"small"})}),(0,j.jsx)(a.E,{as:"span",className:g,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:b})]})]})]})})}))},49153:(e,t,n)=>{n.d(t,{bU:()=>u,fD:()=>c,he:()=>l,nm:()=>s});n(60905),n(51725),n(78381),n(38858),n(62172),n(98168),n(9332),n(21932),n(60850),n(21256),n(54436),n(66874),n(83892),n(69645),n(9981),n(31840),n(45991),n(36490),n(66230),n(5464),n(93902),n(64992),n(4207);var r=n(42534);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e,t){if(!e)return"/concerts";var n=null==t?void 0:t.normalize().replaceAll(/\W+/g,"-");return n?"/concerts/location/".concat(e,"-").concat(n):"/concerts/location/".concat(e)},o=10;function c(e){if(0===e.length)return[];if(0===e[0].events.length)return[];var t,n=[],r={date:e[0].events[0].openingDate.slice(0,o),events:[]},a=i(e);try{for(a.s();!(t=a.n()).done;){var s,c=i(t.value.events);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=l.openingDate.slice(0,o);r.date!==u&&(n.push(r),r={date:u,events:[]}),r.events.push(l)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return n.push(r),n}var l=function(e){return e.ticketers.some((function(e){return"spotify"===e.partnerDisplayName.toLowerCase()}))},u=function(e){return(0,r.x)(e,{representation:"date"})}},23162:(e,t,n)=>{n.d(t,{o:()=>m});var r=n(26017),i=n(98111),a=n(95514),s=n(16247),o=n.n(s),c=n(56761),l=n(45701),u=function(){var e=(0,a.A)(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.aw)(c.n.getInstance(),t,n);case 2:return i=e.sent,e.abrupt("return",null===(r=i.body)||void 0===r?void 0:r.found[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(e){var t=(0,r.A)(e.queryKey,2),n=(t[0],t[1]),i=n.username,a=n.concertUri;return u(i,a)},m=function(e){var t=["concertInCollection",e];return(0,i.I)({queryKey:t,queryFn:d,retry:!1,enabled:!!e.username})}},35231:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Dt});n(93752),n(84008),n(10459),n(83892),n(69645),n(93902),n(49604),n(50252);var r=n(61022),i=n(54925),a=n(76495),s=n(78221),o=n(59081),c=n(12475),l=n(85107),u=n(47872),d=n(82930),m=n(98849),v=n(54212),h=n(19968),f=n(11182),g=n(46317),x=n(92373),p=n(82035),j=n(81226),y=(n(60905),n(94238),n(63619),n(41679),n(81443),n(74457),n(6844),n(77458),n(63624),n(7410),n(50247),n(88190),n(30758)),b=n(7771),N=n(61957),S=n(90745),_=n(1409),k=n(8218),C=n(7104),w=n(49153),I=n(43407),R=n(17175),O=n(96674);const A="DT8qnb2n6r8T68jLVthh",E="zTsWYsr2n9I1LMmEDGTU",D="qWd4xt94mckHYR2xmAKj",U="SkMjjVu2vVUOX8DzcDSo",M="tyNr9rDKx_AdxYH5e_JY",P="od7mn8s0l5iqP3Svx0AV";var T=n(86070);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,j.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const B=(0,y.memo)((function(e){var t,n,r,a=e.location,s=e.showTime,c=e.ageRestriction,l=e.htmlDescription,u=e.doorsOpenTime,d=e.spec,m=(0,I.s)(),v=(0,_.NC)(R.Zx),h=a.metroAreaLocation?(0,w.nm)(null===(t=a.metroAreaLocation)||void 0===t?void 0:t.geonameId,null===(n=a.metroAreaLocation)||void 0===n?void 0:n.fullName):null;return(0,T.jsxs)("div",{className:A,children:[(null==l?void 0:l.trim())&&(0,T.jsxs)("div",{className:E,children:[(0,T.jsx)(i.E,{as:"h3",variant:"titleSmall",className:D,children:o.Ru.get("artist.about")}),(0,T.jsx)(k.q,{html:l,onTimeStampClick:function(){}})]}),(0,T.jsxs)("div",{className:E,children:[(0,T.jsx)(i.E,{as:"h3",variant:"titleSmall",className:D,children:o.Ru.get("tracklist.header.venue")}),(0,T.jsxs)("div",{className:P,children:[(0,T.jsx)(b.t,{className:U}),(0,T.jsxs)("div",{children:[(0,T.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",className:M,children:a.name}),(0,T.jsx)(i.E,{as:"p",variant:"bodyMedium",children:(0,O.im)(L(L({},a),{},{name:""}))})]})]}),(0,T.jsxs)("div",{className:P,children:[(0,T.jsx)(N.p,{className:U}),(0,T.jsxs)("div",{children:[(0,T.jsxs)(i.E,{as:"h4",variant:"bodyMediumBold",className:M,children:[u&&o.Ru.get("concert.door_time",o.Ru.formatDate(u,{timeStyle:"short"})),u&&" • ",o.Ru.get("concert.show_time",o.Ru.formatDate(s,{timeStyle:"short"}))]}),(null==c?void 0:c.trim())&&(0,T.jsx)(i.E,{as:"p",variant:"bodyMedium",children:c})]})]}),v&&h&&(0,T.jsxs)("div",{className:P,children:[(0,T.jsx)(S.T,{className:U}),(0,T.jsx)(C.default,{to:h,onClick:function(){return e=h,t=d.concertLocationLinkFactory().hitUiNavigate({destination:e}),void m.logInteraction(t);var e,t},children:(0,T.jsx)(i.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:o.Ru.get("concert.see_more_events_in_location",null===(r=a.metroAreaLocation)||void 0===r?void 0:r.fullName)})})]})]})]})}));n(67560);var V=n(78041),z=n(80049),q=n(60828),G=n(63336),K=n(34478),W=n(9064),Y=n(60103),Q=n(16007),Z=n(90464),H=y.memo((function(e){var t=e.uri,n=(0,W.o)(t).spec;return(0,T.jsx)(K.pZ,{value:"concert",children:(0,T.jsxs)(G.W,{children:[(0,T.jsx)(Z.h,{children:(0,T.jsx)(Y.m,{spec:n,uri:t,displayText:o.Ru.get("context-menu.copy-concert-link")})}),(0,T.jsx)(Q.q,{spec:n,uri:t})]})})})),X=n(71526),J=n(26017),$=n(45976),ee=n(34848),te=n(99580),ne=n(29318),re=n(81874),ie=n(13147),ae=n(56761),se=n(45701),oe=n(22865),ce=n(23162),le=n(65775);const ue="x6zNCqcdrTezhaUq6pck",de="ZcbYxrNgxYr3SbEDBTYc",me="_vV79k5wVj4ojQrGsBb1",ve="rdv_h11KFhUaePKRhMCV",he="Iq0_yrjNiWn8wRH7aDph",fe="cywtrgfOWVwmo7QagmNV",ge="_vCmAsTSGBADcknU2Mzz",xe="Y6ilq5IfXWe4NCTIEAQs",pe="F0GSgR3ItvuSGr62Oe5g",je="LtnM_4Oyo1HSd2O3TmCE",ye="IQqSOBxm76WfDmGIj1DU",be="FSRM6nxcxudGRBZa4PTT",Ne="ptXgOTvLktMzK0gfIr3K",Se="Y2Rtthdu0TlFAE_wU0Ah",_e="ntlY4xYsXqEM8EWs1uvk",ke="a4SDu_eWa3Lmy8zYJJOU",Ce="rkyLixjACVqakDzW70Fj",we="QktlqjloKFGPU6VeCdJB",Ie="D5ikxKFFy7OrZoPNlsxA",Re="_OGSfzdUucEdm0ll_tF7",Oe="NoeAvmXKTUNWhszGUnHk",Ae="YmnPLOjioNCevJtMZ0WW",Ee="y8RckB3uXs02SxhOZkH0",De="PnjkxsPxdfZjXVMFaK4X",Ue="USYJQ5misC_yxAwGf2i_",Me="LXNtpDfChMRAPEOEhNGW",Pe="nfjG30FTqx4BgHijkNnt",Te="B6WEG6LOQLlkS_qAvKTq",Fe="pjNrzKzBuV7XUPky3ier",Le="i90BSV7_cgYaY8UBFCqg",Be="TkfBKkvG2fmebTrGLIxi",Ve="Cu2TG7TTa2wwKrEpEsKY";const ze=(0,y.memo)((function(e){var t=e.concertUri,n=e.entitySpec,r=(0,y.useMemo)((function(){return n.interestedButtonFactory()}),[n]),i=(0,oe.t)(r),a=(0,I.s)(),c=(0,le.d)().enqueueSnackbar,l=(0,$.d4)(ie.F6),u=(0,ce.o)({username:l,concertUri:t}),d=u.data,m=u.isLoading,v=(0,y.useState)(),h=(0,J.A)(v,2),f=h[0],g=h[1],x=void 0===f?d:f,p=(0,s.o_)(t);return(0,T.jsx)(re.Zp,{label:o.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,T.jsx)(ee.n,{ref:i,size:"small",iconLeading:x?te.i:ne.u,className:Oe,"aria-checked":x,disabled:m,onClick:function(){if(!m)if(x){var e=r.hitRemoveInterest();e&&a.logInteraction(e),g(!1),c(o.Ru.get("concerts_removed-from-your-saved-events")),(0,se.Jr)(ae.n.getInstance(),p.id)}else{var t=r.hitAddInterest();t&&a.logInteraction(t),g(!0),c(o.Ru.get("concerts_added-to-your-saved-events")),(0,se.m9)(ae.n.getInstance(),p.id)}},children:o.Ru.get("concerts_interested")})})}));n(66874);var qe=n(32303),Ge=n(69880),Ke=n(54509),We=n(99604),Ye=n(694);const Qe=(0,y.memo)((function(e){var t=e.concertUri,n=e.offer,r=e.position,a=e.spec,s=e.onRemindMe,c=n.soldOut||(0,Ge.m7)(n.endDateIsoString),l="Spotify"===n.providerName,u=(0,Ge.PR)(n.startDateIsoString),d=u?void 0:n.url,m=(0,I.s)(),v=(0,Ke.W)(),h=(0,y.useMemo)((function(){return a.ticketProviderCellFactory({identifier:n.providerName,position:r,uri:n.url})}),[a,n.providerName,r,n.url]),f=(0,oe.t)(h),g=(0,y.useMemo)((function(){if(c)return(0,T.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Me,children:o.Ru.get("concerts.soldout")});if(u){var e=n.startDateIsoString&&new Date(n.startDateIsoString);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:De,children:o.Ru.get("concerts.tickets_on_sale_soon")}),e&&(0,T.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Te,children:o.Ru.get("concerts.ticket_date_time",(0,Ge.Y)(e),(0,Ge.WB)(e))})]})}var t={"on-sale":o.Ru.get("concerts.on_sale"),presale:o.Ru.get("concerts.presale")};return(0,T.jsxs)(T.Fragment,{children:[t[n.saleType]&&(0,T.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:De,children:t[n.saleType]}),l&&n.minPrice&&(0,T.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ee,children:o.Ru.get("concerts.ticket_price",n.minPrice)})]})}),[c,u,n.saleType,n.minPrice,n.startDateIsoString,l]),x=(0,y.useMemo)((function(){return c?null:(u&&(qe.$,o.Ru.get("concerts.remind_me")),(0,T.jsx)(qe.$,{className:Ae,iconTrailing:We.p,size:"small",children:l?o.Ru.get("concert_buy_tickets"):o.Ru.get("concert_find_tickets")}))}),[c,u,l,s]);return(0,T.jsxs)("a",{href:d,className:ye,target:"_blank",ref:f,onClick:function(){var e=h.hitNavigateToExternalUri({destination:n.url});e&&m.logInteraction(e),v({targetUri:t,intent:"find-concert",type:"click"})},children:[(0,T.jsx)("div",{className:be,children:(0,T.jsx)(Ye._,{loading:"eager",src:n.providerImageUrl,height:"100%",width:"100%",className:Ne,children:(0,T.jsx)(S.T,{className:Se,size:"medium"})})}),(0,T.jsxs)("div",{className:_e,children:[(0,T.jsxs)("div",{dir:"auto",className:Ue,children:[g,(0,T.jsx)(i.E,{as:"p",semanticColor:"textSubdued",children:n.providerName})]}),x]})]})}));const Ze=(0,y.memo)((function(e){var t=e.concertUri,n=e.offers,r=e.entitySpec,a=(0,y.useMemo)((function(){return r.ticketProviderListFactory()}),[r]),s=(0,oe.t)(a);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(i.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert.header.tickets_available_on")}),(0,T.jsx)("div",{ref:s,className:pe,children:n.map((function(e,n){return(0,T.jsx)(Qe,{concertUri:t,offer:e,position:n,onRemindMe:function(){},spec:a},e.url)}))}),(0,T.jsx)(i.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:je,children:o.Ru.get("events_page.disclaimer")})]})}));n(98168),n(51945),n(60850),n(39921),n(36490),n(4207),n(61818),n(42858),n(64334),n(9433),n(26308),n(84815);var He=n(91981),Xe=n(19919);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var $e=function(e){var t=e.locationName,n=e.latitude,r=e.longitude,a=e.onClick,s=new URL("https://maps.google.com/");return s.searchParams.set("q",t),n&&r&&s.searchParams.set("ll","".concat(n,",").concat(r)),(0,T.jsx)("a",{href:s.href,target:"_blank",onClick:function(){return null==a?void 0:a(s.href)},children:(0,T.jsx)(i.E,{as:"h3",variant:"titleSmall",children:t})})};const et=(0,y.memo)((function(e){var t;if((0,_.NC)(Xe.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){var n=e.venue.data.uri;return(0,T.jsx)(He.A,{to:n,onClick:function(){var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e,n)},children:(0,T.jsx)(i.E,{as:"h3",variant:"titleSmall",children:e.locationName})})}return(0,T.jsx)($e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,j.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}));const tt=(0,y.memo)((function(e){var t,n,r=e.concert,a=e.entitySpec,s=(0,I.s)(),c=(0,X.V)(),l=(0,Ge.l4)(r.startDateIsoString);if((0,Ge.m7)(r.startDateIsoString))return(0,T.jsxs)("div",{className:xe,children:[(0,T.jsx)(i.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert_event_ended")}),(0,T.jsx)(i.E,{variant:"bodyMedium",children:(0,T.jsx)(C.default,{to:"spotify:concerts",children:o.Ru.get("concert_past_message")})})]});return(0,T.jsxs)("div",{className:xe,children:[(0,T.jsx)(i.E,{as:"h3",variant:"titleSmall",className:Pe,children:(0,T.jsx)(et,{venue:r.venue,locationName:(0,O.im)(r.location),latitude:null===(t=r.location.coordinates)||void 0===t?void 0:t.latitude,longitude:null===(n=r.location.coordinates)||void 0===n?void 0:n.longitude})}),(0,T.jsx)(i.E,{as:"h3",variant:"bodySmall",className:Ie,children:[(0,Ge.Y)(l),(0,Ge.WB)(l)].join(" • ")}),(0,T.jsxs)("div",{className:ue,children:[!c&&(0,T.jsx)(ze,{concertUri:r.uri,entitySpec:a}),(0,T.jsx)(z.w,{uri:r.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:function(){var e=a.shareEventButtonFactory({uri:r.uri}).hitShare({entityToBeShared:r.uri,shareId:r.uri});e&&s.logInteraction(e)},className:Fe,ariaLabel:o.Ru.get("concerts_share_with_friends")}),(0,T.jsx)(q.b,{menu:(0,T.jsx)(H,{uri:r.uri}),onShow:function(){var e=a.contextMenuButtonFactory().hitUiReveal();e&&s.logInteraction(e)},children:(0,T.jsx)(V.e,{size:"large"})})]}),(0,T.jsx)(Ze,{concertUri:r.uri,offers:r.offers.items,entitySpec:a})]})}));var nt=n(93209),rt=(n(51725),n(59896)),it=n(94331),at=n(7766),st=(n(48224),n(45286)),ot=function(e,t){return new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime()},ct=function(e){var t,n,r,i,a=e.artist,s=e.spec,c=(0,I.s)(),l=a.goods.events.concerts.items.filter((function(e){return e.nearUser})).sort(ot).shift(),u=l&&(n=l,i=o.Ru.formatDate((0,Ge.l4)(null==n?void 0:n.date.isoString),{day:"numeric",month:"short"}),null!==(r=n.venue.location)&&void 0!==r&&r.name?"".concat(i,", ").concat(n.venue.location.name):i),d=null===(t=a.goods.events.userLocation)||void 0===t?void 0:t.name,m="".concat(a.uri,":concerts");return(0,T.jsxs)("div",{className:Be,children:[l&&d&&(0,T.jsxs)("div",{className:Ve,children:[(0,T.jsx)(st.Z,{children:o.Ru.get("concerts.next_concert_near_location_colon",d)}),(0,T.jsx)(C.default,{to:l.uri,onClick:function(){return e=l.uri,t=s.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e}),void c.logInteraction(t);var e,t},children:(0,T.jsx)(st.Z,{semanticColor:"textSubdued",children:u})})]}),(0,T.jsxs)("div",{className:Ve,children:[(0,T.jsx)(st.Z,{children:o.Ru.get("concerts.on_tour_colon")}),(0,T.jsx)(C.default,{to:m,onClick:function(){var e=s.artistEventsLinkFactory({uri:m}).hitUiNavigate({destination:m});c.logInteraction(e)},children:(0,T.jsx)(st.Z,{semanticColor:"textSubdued",children:o.Ru.get("concerts.view_all_upcoming_concerts_count",a.goods.events.concerts.totalCount)})})]})]})},lt=n(42799);const ut="FjO33VzGE6gfBjmL653W",dt="_NcmNLWwFe2sPY79b4Qa",mt="akNxAcOtC3FYI8sqvJjD",vt="mUE9LjVEFQPKle8deylh",ht="Vf1WyewhhIsg7A_HPmBJ",ft="XY8pb4mCvOicd35GIUMg",gt="_KEuwafdCwVU1rKBhfQz";var xt=(0,y.memo)((function(e){var t=e.imageUri,n=e.name,r=e.uri,a=e.headliner,s=e.onClick,c=(0,T.jsxs)(C.Link,{to:r,className:dt,onClick:s,children:[t?(0,T.jsx)(lt.b,{children:(0,T.jsx)("div",{"data-testid":"image-container",className:gt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat(t,")")}})}):null,(0,T.jsxs)("div",{className:mt,children:[a&&(0,T.jsx)("div",{className:ht,children:(0,T.jsx)(i.E,{as:"h4",variant:"bodySmallBold",className:ft,children:o.Ru.get("concert.label.headliner")})}),(0,T.jsx)(i.E,{as:"h2",variant:"titleMedium",className:vt,children:n})]})]});return(0,T.jsx)("div",{className:ut,children:c})}));const pt=xt;const jt=(0,y.memo)((function(e){var t,n=e.artist,r=e.position,i=e.lineupSpec,a=(0,y.useMemo)((function(){return i.artistRowFactory({position:r,uri:n.uri})}),[i,r,n.uri]),s=(0,I.s)(),c=(0,_.NC)(Xe.DFH),l=n.relatedContent.featuringV2.items.flatMap((function(e){var t=e.data;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),u=n.discography.popularReleasesAlbums.items,d=null===(t=n.visuals.avatarImage)||void 0===t||null===(t=t.sources)||void 0===t?void 0:t[0],m=(0,T.jsx)(pt,{uri:n.uri,name:n.profile.name,imageUri:null==d?void 0:d.url,headliner:0===r,onClick:function(){var e=null==a?void 0:a.artistCardFactory().hitUiNavigate({destination:n.uri});e&&s.logInteraction(e)}},n.uri),v=l.map((function(e,t){var n,r="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,T.jsx)(it.B,{index:t,uri:e.uri,name:e.name,images:null===(n=e.images.items[0])||void 0===n?void 0:n.sources,description:e.description||"",authorName:r},e.uri)})),h=u.map((function(e,t){var n,r=e.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}}));return(0,T.jsx)(rt.a,{uri:e.uri,index:t,artists:r,images:(null===(n=e.coverArt)||void 0===n?void 0:n.sources)||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,T.jsxs)(K.pZ,{value:"headered-grid",index:r,children:[(0,T.jsx)(at.$,{title:0===r?o.Ru.get("concert.lineup"):"",total:2+v.length+h.length,seeAllUri:n.uri,seeAllLabel:o.Ru.get("view.see-all"),onClickShelfSeeAll:function(){var e=null==a?void 0:a.seeDiscographyLinkFactory().hitUiNavigate({destination:n.uri});e&&s.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[m,null].concat((0,nt.A)(v),(0,nt.A)(h)),className:Le}),c&&(0,T.jsx)(ct,{artist:n,spec:a})]},n.uri)}));const yt=(0,y.memo)((function(e){var t=e.artists,n=e.entitySpec,r=(0,y.useMemo)((function(){return n.lineupArtistsFactory()}),[n]),i=(0,oe.t)(r);return(0,T.jsx)("div",{ref:i,className:ke,children:t.flatMap((function(e,t){if("Artist"!==e.data.__typename)return[];var n=e.data;return[(0,T.jsx)(jt,{artist:n,position:t,lineupSpec:r},n.uri)]}))})}));var bt=n(27989);const Nt="Hfc2oes6xv_aDZe9NiT1",St="SHue2Uo0VFHp8utelad9",_t="RR0j6Ja2HpvGlL7Hq2wg";const kt=(0,y.memo)((function(e){return(0,T.jsxs)(C.Link,{to:"spotify:concerts",className:Nt,onClick:e.onClick,children:[(0,T.jsx)(lt.b,{children:(0,T.jsx)("div",{className:_t,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat("https://concerts.spotifycdn.com/ConcertHubCard.png",")")}})}),(0,T.jsx)("div",{className:St,children:(0,T.jsx)(i.E,{as:"h2",variant:"titleSmall",children:o.Ru.get("concerts_browse_more")})})]})}));var Ct=n(73462),wt=(0,y.memo)((function(e){var t,n=e.concert,r=e.position,i=e.recommendedSpec,a=(0,I.s)(),s=n.artists.items.flatMap((function(e){return"Artist"===e.data.__typename?[e.data]:[]})),o=s.map((function(e){return e.profile.name})),c=(0,O.tI)(n.title,n.festival,o)?n.title:(0,O.Ac)(o),l=null===(t=s[0])||void 0===t||null===(t=t.visuals.avatarImage)||void 0===t?void 0:t.sources[0];return(0,T.jsx)(Ct.A,{uri:n.uri,title:c,date:n.startDateIsoString,subTitle:(0,O.im)(n.location),imageUrl:null==l?void 0:l.url,firstParty:n.firstParty,onClick:function(){var e=null==i?void 0:i.concertCardFactory({position:r,uri:n.uri}).hitUiNavigate({destination:n.uri});e&&a.logInteraction(e)}})}));const It=(0,y.memo)((function(e){var t=e.relatedConcerts,n=e.entitySpec,r=(0,y.useMemo)((function(){return n.recommendedConcertsFactory()}),[n]),i=(0,I.s)(),a=(0,oe.t)(r),s=t.items.flatMap((function(e){return"ConcertV2"===e.data.__typename?[e.data]:[]}));if(0===s.length)return null;return(0,T.jsx)("div",{ref:a,className:we,"data-testid":"concert-recommendations",children:(0,T.jsx)(K.pZ,{value:"headered-grid",children:(0,T.jsxs)(at.$,{title:o.Ru.get("concert.similar_events"),total:t.totalCount,className:Re,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:o.Ru.get("view.see-all"),colGap:(0,bt.po)("base"),withEncoreCards:!1,children:[(0,T.jsx)(kt,{onClick:function(){var e=null==r?void 0:r.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&i.logInteraction(e)}},"browse"),s.map((function(e,t){return(0,T.jsx)(wt,{position:t,concert:e,recommendedSpec:r},e.uri)}))]})})})}));var Rt=n(37686),Ot=n(28937),At=new Rt.l("concert","query","a3ed35c5dab1ccb9dc41018822adb997e77f34bf12b2ee7f92ffcc5469ce7ae3",null),Et=function(e){var t,n,r,g=e.concert,j=(0,p.r)(a.b,{data:{identifier:null===(t=(0,s.o_)(g.uri))||void 0===t?void 0:t.id,uri:g.uri}}).spec,y=g.artists.items.flatMap((function(e){return"Artist"===e.data.__typename?[e.data]:[]})),b=y[0].visuals.headerImage;(0,x.z)(null==b||null===(n=b.extractedColors)||void 0===n?void 0:n.colorDark.hex);var N=y.map((function(e){return e.profile.name})),S=(0,O.tI)(g.title,g.festival,N)?g.title:(0,O.re)(N),_=(0,Ge.l4)(g.startDateIsoString);return(0,T.jsxs)("section",{className:he,children:[(0,T.jsx)(l.Q,{children:o.Ru.get("concert.entity_metadata.title",g.title,g.location.city,g.location.name)}),(0,T.jsxs)(d.z,{backgroundImages:null==b?void 0:b.sources,children:[(0,T.jsxs)(m.Y,{children:[(0,T.jsx)(u.Z,{children:(0,T.jsx)("div",{className:de,children:(0,T.jsx)(i.E,{as:"h3",variant:"titleSmall",className:me,children:(0,Ge.Fn)(_)})})}),(0,T.jsx)(f.mm,{className:fe,children:S})]}),(0,T.jsx)(v.h,{children:(0,T.jsx)("div",{className:Ce,children:(0,T.jsx)(h.X,{text:S})})})]}),(0,T.jsxs)("div",{className:ve,children:[(0,T.jsx)(c.K,{backgroundColor:null==b||null===(r=b.extractedColors)||void 0===r?void 0:r.colorDark.hex}),(0,T.jsxs)("div",{className:ge,children:[(0,T.jsx)(tt,{concert:g,entitySpec:j}),(0,T.jsx)(yt,{artists:g.artists.items,entitySpec:j}),(0,T.jsx)(B,{location:g.location,showTime:_,htmlDescription:g.htmlDescription,ageRestriction:g.ageRestriction,doorsOpenTime:g.doorsOpenTimeIsoString?(0,Ge.l4)(g.doorsOpenTimeIsoString):null,spec:j}),(0,T.jsx)(It,{relatedConcerts:g.relatedConcerts,entitySpec:j})]})]})]})};const Dt=function(){var e,t,n=(0,r.g)().concertId,i="spotify:concert:".concat(n),a=(e={uri:i},(0,Ot.I)(At,e,t)),s=a.loading,c=a.error,l=a.data;return s?(0,T.jsx)(g.A,{hasError:!1,errorMessage:""}):c||"ConcertV2"!==(null==l?void 0:l.concert.__typename)?(0,T.jsx)(g.A,{hasError:!0,errorMessage:o.Ru.get("concert.error.concert_not_found_title")}):(0,T.jsx)(Et,{concert:l.concert})}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map