"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3111],{7315:(e,t,r)=>{r.d(t,{l:()=>I});var n=r(24255),i=r(14942),l=(r(93019),r(84196),r(59496)),a=r(84875),o=r.n(a),s=r(47071),u=r(67787),c=r(72550),d=r(49023),p=r(1929);r(89004);function g(){var e=(0,l.useRef)(0);return(0,l.useCallback)((function(t){var r=t.currentTarget,n=r.style.scrollBehavior,i=!1,l=r.scrollLeft,a=t.clientX,o=0;function s(){cancelAnimationFrame(e.current),document.removeEventListener("wheel",u)}function u(){s(),r.style.scrollBehavior=n}function c(){r.scrollLeft+=o,o*=.95,Math.abs(o)>.5?e.current=requestAnimationFrame(c):u()}r.style.userSelect="none",r.style.scrollBehavior="auto",s();var d=function(e){var t=e.clientX-a;Math.abs(t)>10&&(i=!0);var n=r.scrollLeft;r.scrollLeft=l-t,o=r.scrollLeft-n};document.addEventListener("mousemove",d),document.addEventListener("mouseup",(function(){var t=function(e){e.preventDefault(),e.stopImmediatePropagation()};!0===i&&(r.addEventListener("click",t,{once:!0,capture:!0}),setTimeout((function(){r.removeEventListener("click",t,{capture:!0})}))),r.style.removeProperty("user-select"),document.removeEventListener("mousemove",d),s(),e.current=requestAnimationFrame(c),document.addEventListener("wheel",u,{once:!0})}),{once:!0})}),[])}const f="bMurPtRDRv5LuN78MTVG",y="KjPUGV8uMbl_0bvk9ePv",b="MUloQuW1xQawwVs0mDp4",m="OlnSvEViCZ_vVdnc3mSQ",v="FjMPyh7lOujDVYQRvp0H",x="ijZQH9pePkbB2MbJHCJV",h="XTk61Y8OkBdUT6Wj4F6i",j="VfDGbMWaJe9rcefizTNk";var D,O=r(4637);function w(e,t){(0,d.Bu)(e,t),t.scrollIntoView({block:"end",inline:"center"})}function P(e,t){var r=e.querySelector('[tabindex="0"]')||e.firstElementChild;r&&r instanceof HTMLElement&&(t===D.RIGHT&&r.nextElementSibling instanceof HTMLElement?w(r,r.nextElementSibling):t===D.LEFT&&r.previousElementSibling instanceof HTMLElement&&w(r,r.previousElementSibling))}!function(e){e[e.LEFT=-1]="LEFT",e[e.RIGHT=1]="RIGHT"}(D||(D={}));var I=function(e){var t,r=e.children,a=e.className,d=e.showButtons,w=void 0===d||d,I=e.ariaLabel,T=(0,l.useRef)(null),E=(0,l.useRef)(null),S=(0,l.useState)(!1),C=(0,i.Z)(S,2),L=C[0],R=C[1],Z=(0,l.useState)(!1),k=(0,i.Z)(Z,2),A=k[0],N=k[1],F=(0,l.useCallback)((function(){if(T.current&&E.current){var e=T.current,t=E.current,r=e.scrollWidth-e.clientWidth,n=Math.abs(e.scrollLeft),i=n<1?Math.floor(n):Math.ceil(n),l=t.offsetWidth>e.clientWidth;N(l&&0!==i),R(l&&i<r)}}),[]);(0,p.y)({refOrElement:E,observeOnly:"width",onResize:F}),(0,p.y)({refOrElement:T,observeOnly:"width",onResize:F});var U=l.Children.toArray(r).length;(0,l.useEffect)(F,[U,F]);var _,M,B,J=(0,l.useCallback)((function(e){var t=e*(T.current.clientWidth/2);T.current.scrollBy({left:t}),F()}),[F]),z=(0,c.S)(),K=(0,l.useCallback)((function(e){"ArrowLeft"===e.key?(e.preventDefault(),P(T.current,z?D.RIGHT:D.LEFT)):"ArrowRight"===e.key&&(e.preventDefault(),P(T.current,z?D.LEFT:D.RIGHT))}),[z]),H=z?L:A,Y=z?A:L,W=g(),V=(_=(0,l.useRef)(!0),M=(0,l.useRef)(null),B=(0,l.useRef)(null),(0,l.useCallback)((function(e){if(e.deltaY){var t=e.currentTarget;_.current&&(_.current=!1,M.current=t.style.scrollBehavior,t.style.scrollBehavior="auto"),t.scrollLeft+=e.deltaY+e.deltaX,B.current&&clearTimeout(B.current),B.current=setTimeout((function(){var e;_.current=!0,t.style.scrollBehavior=null!==(e=M.current)&&void 0!==e?e:""}),100)}}),[]));return(0,O.jsxs)("div",{className:o()(f,a),children:[(0,O.jsx)("div",{ref:T,className:o()(y,(t={},(0,n.Z)(t,m,Y&&!H),(0,n.Z)(t,b,H&&!Y),(0,n.Z)(t,v,H&&Y),t)),onScroll:F,onKeyDown:K,onMouseDown:W,onWheel:V,role:"list","aria-label":I,tabIndex:0,children:(0,O.jsx)("div",{ref:E,children:r})}),w&&(0,O.jsxs)("div",{className:x,dir:"ltr",children:[(0,O.jsx)("button",{className:o()(h,(0,n.Z)({},j,H)),tabIndex:-1,onClick:function(){return J(D.LEFT)},children:(0,O.jsx)(s.e,{semanticColor:"textBase",iconSize:16})}),(0,O.jsx)("button",{className:o()(h,(0,n.Z)({},j,Y)),tabIndex:-1,onClick:function(){return J(D.RIGHT)},children:(0,O.jsx)(u.V,{semanticColor:"textBase",iconSize:16})})]})]})}},17968:(e,t,r)=>{r.d(t,{S:()=>d});r(79075),r(26870),r(33208),r(93019),r(86978),r(98618),r(40905),r(79410),r(21105),r(72753);var n=r(24255),i=r(87906),l=r(29260);const a="fRZRXRIV2YBCFLYgwDAr";var o=r(4637),s=["iconSize"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.iconSize,r=void 0===t?64:t,n=(0,i.Z)(e,s);return(0,o.jsx)("div",{className:a,children:(0,o.jsx)(l._,c(c({iconSize:r},n),{},{semanticColor:"textBrightAccent","aria-hidden":!0}))})}},70254:(e,t,r)=>{r.r(t),r.d(t,{YourLibraryX:()=>bl});var n=r(46220),i=r(88769),l=r(24255),a=r(87906),o=r(14942),s=r(26533),u=r.n(s),c=(r(33208),r(93019),r(47408),r(67432),r(65232),r(79075),r(26870),r(86978),r(98618),r(40905),r(79410),r(21105),r(72753),r(59496)),d=r(84875),p=r.n(d),g=r(89130),f=r(77646),y=r(17657),b=r(72102),m=r(47018),v=r(24896),x=r(55185),h=r(4103),j=r(36621),D=r(50683),O=r(1929),w=r(85864),P=r(37833),I=r(84563),T=r(10277),E=r(76253),S=r(16020),C=r(33892),L=r(22056);const R="wW9brXu3G3dR9CQ77Tyk",Z="sgpkGFrp4dcnre_TJtaI";var k=r(4637),A=function(e){var t=e.className;return(0,k.jsx)("section",{className:p()(R,t),children:(0,k.jsxs)("div",{className:Z,children:[(0,k.jsx)(C.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:L.ag.get("web-player.your-library-x.empty-state-folder-title")}),(0,k.jsx)(C.D,{as:"p",variant:"mesto",semanticColor:"textBase",children:L.ag.get("web-player.your-library-x.empty-state-folder-subtitle")})]})})},N=r(81434),F=r(42382),U=r(93711);const _="xi3ytXbuSuzCYy5LwjFu",M="OcOr6YadMDDeh_NPgClX",B="eL94fWmhg6WbrdKZfGEW";var J=(0,c.memo)((function(e){var t=e.message,r=e.title,n=e.linkTitle,i=e.linkTo,l=e.onClick,a=e.className;return(0,k.jsxs)("section",{className:p()(_,a),children:[(0,k.jsxs)("div",{className:M,children:[(0,k.jsx)(C.D,{variant:"balladBold",semanticColor:"textBase",children:r}),(0,k.jsx)(C.D,{variant:"mesto",semanticColor:"textBase",children:t})]}),(0,k.jsx)("div",{className:B,children:n&&(i||l)&&(0,k.jsx)(F.D,{className:B,as:l?"button":void 0,colorSet:"invertedLight",href:i,onClick:l,component:U.Z,buttonSize:"sm",children:n})})]})})),z=function(e){var t=e.className,r=(0,N.K)().createPlaylist,n=(0,c.useCallback)((function(){r()}),[r]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(J,{onClick:n,linkTitle:L.ag.get("web-player.your-library-x.empty-state-playlists-cta"),title:L.ag.get("web-player.your-library-x.empty-state-playlists-title"),message:L.ag.get("web-player.your-library-x.empty-state-playlists-subtitle"),className:t}),(0,k.jsx)(J,{linkTo:"/genre/podcasts-web",linkTitle:L.ag.get("web-player.your-library-x.empty-state-podcasts-browse"),title:L.ag.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:L.ag.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated"),className:t})]})};r(3761),r(97274);const K="JouuH90_RNAdTj0ZjcCA",H="YtlFVHxvaGSz4vJdDdEa",Y="spFG_i1jkxOkxb1_SaLJ",W="_8ZKfG3dOxfcr9Yyy5cv";var V=function(e){var t=e.query,r=e.className;return(0,k.jsxs)("div",{className:p()(K,r),"data-testid":"no-search-results-view",children:[(0,k.jsx)(C.D,{as:"h1",variant:"cello",className:H,children:L.ag.get("web-player.your-library-x.empty-results-title-short").split(/(\{0\})/).map((function(e,r){return"{0}"===e?(0,k.jsx)("span",{className:Y,children:(0,k.jsx)("span",{className:W,children:t})},r):e}))}),(0,k.jsx)(C.D,{as:"h2",variant:"mesto",children:L.ag.get("web-player.your-library-x.empty-results-text-short")})]})},G=r(69663);const X="yrUQENj0tMcKDW5v0mfb",Q="jsT0vJ8rWXPMeoFsMdNK";var q=function(e){var t=e.onClick;return(0,k.jsxs)("div",{className:X,children:[(0,k.jsx)("div",{className:"icon",children:(0,k.jsx)(G.l,{iconSize:48,semanticColor:"textBase"})}),(0,k.jsxs)("div",{className:Q,children:[(0,k.jsx)(C.D,{as:"h2",variant:"canon",semanticColor:"textBase",children:L.ag.get("web-player.your-library-x.error-title")}),(0,k.jsx)(C.D,{as:"p",variant:"mesto",semanticColor:"textBase",children:L.ag.get("web-player.your-library-x.error-body")})]}),(0,k.jsx)("div",{children:(0,k.jsx)(F.D,{onClick:t,colorSet:"invertedLight",buttonSize:"sm",children:L.ag.get("web-player.your-library-x.error-button")})})]})},$=(0,c.createContext)(null),ee=(r(58549),r(24353),r(85675),r(3726),r(52336));var te=function(e){var t=e.children,r=function(){var e=(0,ee.z)("ylx-expanded-folders",[]),t=(0,o.Z)(e,2),r=t[0],i=t[1],l=(0,c.useCallback)((function(e){return r.includes(e)}),[r]),a=(0,c.useCallback)((function(e,t){var l=r.indexOf(e);if(t){if(-1!==l)return;i([].concat((0,n.Z)(r),[e]))}else{if(-1===l)return;i(r.filter((function(t){return t!==e})))}}),[r,i]);return{expandedFolders:r,getIsFolderExpanded:l,setIsFolderExpanded:a}}();return(0,k.jsx)($.Provider,{value:r,children:t})};const re="ojrThQm1wxR2gZ6GntJB",ne="B_HdWVSEWPHaOf9LQAtC",ie="gZplxgNB9LuihIyWEGG6",le="Pns6F5g4OEwEpdmOWTLg",ae="rTLczxlwElfe8CeNpuh6",oe="_XBlEstA77PgWTJzWbe1",se="raKUx1vRBRjpm8xR2bIV";var ue,ce=function(){return(0,k.jsxs)("div",{className:p()(oe,se),children:[(0,k.jsx)(C.D,{variant:"finaleBold",semanticColor:"textSubdued",children:L.ag.get("web-player.your-library-x.expanded-list-header.title")}),(0,k.jsx)(C.D,{variant:"finaleBold",semanticColor:"textSubdued",children:L.ag.get("web-player.your-library-x.expanded-list-header.date-added")}),(0,k.jsx)(C.D,{variant:"finaleBold",semanticColor:"textSubdued",children:L.ag.get("web-player.your-library-x.expanded-list-header.played-at")})]})},de=(r(78390),r(25750),r(74895)),pe=r(69478),ge=r(7315),fe=r(49023),ye=r(25679),be=(r(16109),r(86720),r(98372),r(89004),r(6201),r(27586),r(15970),r(81285),r(56110),r(69012),r(95518),r(97009)),me=r(72550),ve=r(47360),xe=[m.JM.TRACK,m.JM.LOCAL_TRACK,m.JM.ALBUM,m.JM.ARTIST,m.JM.PLAYLIST,m.JM.PLAYLIST_V2,m.JM.FOLDER,m.JM.EPISODE,m.JM.SHOW];!function(e){e.ON="on",e.BEFORE="before",e.AFTER="after"}(ue||(ue={}));var he=(0,ve.y)(ue);function je(e){return xe.includes(e)}function De(e,t,r,n,i){if(e.defaultPrevented)return null;var l=r.includes(ue.BEFORE),a=r.includes(ue.AFTER),o=ue.ON;if(t instanceof HTMLElement&&(l||a)){var s=t.getBoundingClientRect(),u=s.top,c=s.height,d=s.left,p=s.width,g=s.right,f=r.includes(ue.ON);if("horizontal"===n)if(f&&l)(i?e.clientX>Math.round(g)-p/4:e.clientX<Math.round(d)+p/4)&&(o=ue.BEFORE);else o=(i?e.clientX>Math.round(g)-p/2:e.clientX<Math.round(d)+p/2)?ue.BEFORE:ue.AFTER;else"vertical"===n&&(f&&l?e.clientY<Math.round(u)+c/4&&(o=ue.BEFORE):o=e.clientY<Math.round(u)+c/2?ue.BEFORE:ue.AFTER)}return r.includes(o)?o:null}var Oe=r(54465),we=(r(46897),r(92199),r(38136),r(53987),r(43316),r(73630),r(53903),r(21586)),Pe=r(53676);function Ie(e,t){var r,n;return Array.from(null!==(r=null===(n=e.dataTransfer)||void 0===n?void 0:n.types)&&void 0!==r?r:[]).filter(Pe.Fu).filter((function(e){var r=Pe.UD[e];return!!je(r)&&t.includes(r)})).map((function(e){return Pe.UD[e]})).filter(je)}r(73566),r(41631);var Te=r(11329);function Ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e){var t=function(e,t){if("object"!==(0,Oe.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==(0,Oe.Z)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,Oe.Z)(t)?t:String(t)}function Le(e,t,r){var i,o=Ie(e,t),s=function(e,t){return e.split(/[\s,;]+/g).map((function(e){return(0,m.EC)(null==e?void 0:e.trim())})).filter(Te.K).reduce((function(e,r){var n;return je(r.type)&&t.includes(r.type)?(e[n=r.type]||(e[n]=[]),e[r.type].push(r.toURI()),e):e}),{})}(null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("text/plain"),t),u=Array.from(new Set([].concat((0,n.Z)(Object.keys(s)),(0,n.Z)(o)))).filter(je),c=Object.fromEntries(u.map((function(t){var r,i,l,a,o=null!==(r=s[t])&&void 0!==r?r:[],u=null!==(i=null===(l=e.dataTransfer)||void 0===l||null===(a=l.getData(we.aN[t]))||void 0===a?void 0:a.split("\n").filter(Boolean))&&void 0!==i?i:[];return[t,Array.from(new Set([].concat((0,n.Z)(u),(0,n.Z)(o))))]})));if(r){var d,p,g=m.JM.PLAYLIST,f=(c[g],(0,a.Z)(c,[g].map(Ce))),y=Array.from(new Set([].concat((0,n.Z)(null!==(d=c[m.JM.PLAYLIST_V2])&&void 0!==d?d:[]),(0,n.Z)((null!==(p=c[m.JM.PLAYLIST])&&void 0!==p?p:[]).map(Re)))));return Se(Se({},f),y.length?(0,l.Z)({},m.JM.PLAYLIST_V2,y):null)}return c}function Re(e){var t=(0,m.EC)(e);return(null==t?void 0:t.type)===m.JM.PLAYLIST?(0,m.FW)(t.id).toURI():e}const Ze={droppableUriTypes:"album artist episode folder playlist playlist-v2 show track local",useDropTarget:"ufICQKJq0XJE5iiIsZfj","useDropTarget--album":"vOp2HlcPkxOHebo3If32","useDropTarget--artist":"VNdHKKznHkpJ0VHoDmai","useDropTarget--episode":"ETclQEbcAcQdGdSioHaJ","useDropTarget--folder":"cuH8l_VHkTiz_NYVslQe","useDropTarget--playlist":"kXEKypZEUzxx9rNJy09C","useDropTarget--playlist-v2":"eZnAGhYcXE4Bt0a7958z","useDropTarget--show":"ratGUXdpLCkyXZNaJryg","useDropTarget--track":"caTDfb6Oj7a5_8jBLUSo","useDropTarget--local":"aRyoyQFJkzhoSOnf2ERM"};function ke(e){var t=e.uri,r=e.allowedURITypesByDropPosition,n=e.onDrop,i=e.onLongDragOver,l=e.longDragOverTimeout,a=void 0===l?1e3:l,s=e.reorderDirection,u=void 0===s?"vertical":s,d=(0,b.NY)((function(){return r}),[r]),p=(0,me.S)(),g=(0,be.m1)(),f=!!t&&1===g.length&&g[0]===t,y=Object.values(d).every((function(e){return e.includes(m.JM.PLAYLIST_V2)&&!e.includes(m.JM.PLAYLIST)})),v=(0,c.useState)(null),x=(0,o.Z)(v,2),h=x[0],j=x[1],D=(0,c.useCallback)((function(e){return f?[]:Object.entries(d).filter((function(t){var r=(0,o.Z)(t,2),n=(r[0],r[1]);return Ie(e,n).length>0})).map((function(e){return(0,o.Z)(e,1)[0]})).filter(he)}),[f,d]),O=(0,c.useRef)(0),w=(0,c.useRef)(null),P=(0,c.useRef)(null),I=(0,c.useCallback)((function(){O.current=0,w.current=null,j(null),P.current&&(window.clearTimeout(P.current),P.current=null)}),[]);(0,c.useEffect)((function(){return I}),[I]);var T=(0,c.useCallback)((function(e){var t=D(e);t.length&&(j(De(e,w.current,t,u,p)),e.dataTransfer&&!e.defaultPrevented&&(e.dataTransfer.dropEffect=t.includes(ue.ON)?"copy":"move"),e.preventDefault())}),[D,p,u]),E=(0,c.useCallback)((function(e){if(D(e).length&&(e.preventDefault(),1==++O.current&&e.target instanceof HTMLElement)){w.current=e.target;var t=function e(){w.current&&document.contains(w.current)||(I(),document.removeEventListener("dragenter",e))};document.addEventListener("dragenter",t),document.addEventListener("dragend",(function(){document.removeEventListener("dragenter",t),I()}),{once:!0}),i&&(P.current=window.setTimeout(i,a))}}),[D,i,a,I]),S=(0,c.useCallback)((function(e){D(e).length&&0==--O.current&&I()}),[D,I]),C=(0,c.useCallback)((function(e){var t=De(e,w.current,D(e),u,p);if(!e.defaultPrevented&&t){var r,i=Le(e,null!==(r=d[t])&&void 0!==r?r:[],y);Object.keys(i).length&&n&&(n(i,t),e.preventDefault())}I()}),[D,u,p,I,d,y,n]);return{dropPosition:h,className:(0,c.useMemo)((function(){var e;return"".concat(Ze.useDropTarget," ").concat(null===(e=Array.from(new Set(Object.values(d).flat())))||void 0===e?void 0:e.map((function(e){var t;return null!==(t=Ze["useDropTarget--".concat(e)])&&void 0!==t?t:""})).join(" "))}),[d]),onDragEnter:E,onDragLeave:S,onDragOver:T,onDrop:C}}const Ae="oLOECYtBhVmBtyisKwew",Ne="as7TWnIA1jnumFte_u0R",Fe="tXkgloQ88DHF_inQE69J",Ue="g581mszC8syz99uMMWsr",_e="V57QBvW1q79gFmT8NBvz";var Me=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetURITypes","className","ChipComponent","innerRef"],Be=["className","dropPosition"];function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ke={marginBlockEnd:0,willChange:"transform, opacity"},He=function(e){var t,r=e.filterId,n=e.isPrimaryFilter,i=e.isPlaceholder,o=e.resetFilterIds,s=e.toggleFilterId,u=e.allowedDropTargetURITypes,d=void 0===u?xe:u,g=e.className,f=e.ChipComponent,y=void 0===f?ye.A:f,b=e.innerRef,m=(0,a.Z)(e,Me),v=m.selected,x=(0,c.useCallback)((function(){!r||v&&n?o():s(r)}),[r,v,n,o,s]),h=(0,c.useCallback)((function(e){e.detail>1||i||x()}),[i,x]),j=ke({allowedURITypesByDropPosition:(0,l.Z)({},ue.ON,d),onLongDragOver:x}),D=j.className,O=j.dropPosition,w=(0,a.Z)(j,Be);return(0,k.jsx)(y,ze(ze(ze(ze({},m),{},{"aria-label":m["aria-label"]},w),O===ue.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(g,D,(t={},(0,l.Z)(t,Ne,O===ue.ON),(0,l.Z)(t,_e,i),t)),onClick:h,selectedColorSet:O===ue.ON?"invertedDark":"invertedLight",secondary:v&&!n,style:Ke,ref:b}))},Ye=(r(95410),r(57782),function(e){(0,de.ST)({onUpdate:function(t){e.style.opacity=t.toString()}})}),We=function(e,t,r){return(0,de.ST)({onUpdate:function(t){e.style.opacity=(1-Number(t)).toString()},onComplete:r}),function(){e.style.opacity="",r()}},Ve=function(e){var t=e.hideEnteringElements,r=e.animateEnteringElements,n=e.animateExitingElements,i=e.animateFlippedElements;t(),n(),i(),r()},Ge=[{id:"p1",name:"Playlists"},{id:"p2",name:"Podcasts & Shows"},{id:"p3",name:"Artists"},{id:"p4",name:"Albums"}],Xe=(0,c.memo)((function(e){var t=e.availableFilters,r=e.selectedFilters,i=e.toggleFilterId,l=e.resetFilterIds,a=e.className,o=!(r||t),s=o?Ge:[].concat((0,n.Z)(null!=r?r:[]),(0,n.Z)(null!=t?t:[])),u=(0,c.useRef)(null),d=(0,c.useCallback)((function(){var e,t;(0,fe.Bu)(u.current,(null===(e=u.current)||void 0===e?void 0:e.nextElementSibling)instanceof HTMLElement?null===(t=u.current)||void 0===t?void 0:t.nextElementSibling:null),l()}),[l]);return(0,k.jsx)(de.U5,{flipKey:s.map((function(e){return e.id})).join("|"),handleEnterUpdateDelete:Ve,children:(0,k.jsxs)(ge.l,{className:a,children:[!(null==r||!r.length)&&(0,k.jsx)(de.$3,{flipId:"clear-filter",onAppear:Ye,onExit:We,translate:!0,opacity:!0,children:(0,k.jsx)(He,{resetFilterIds:d,toggleFilterId:i,allowedDropTargetURITypes:gl,ChipComponent:pe.w,"aria-label":"Clear",innerRef:u})},"clear-filter"),s.map((function(e,t){var n=null==r?void 0:r.includes(e),a=0===t;return(0,k.jsx)(de.$3,{flipId:e.id,onAppear:Ye,onExit:We,translate:!0,opacity:!0,children:(0,k.jsx)(He,{filterId:e.id,isPrimaryFilter:a,isPlaceholder:o,resetFilterIds:l,toggleFilterId:i,selected:n,children:e.name})},e.id)}))]})})})),Qe=r(91682),qe=(0,c.createContext)({openedFolderUri:"",pushFolder:function(){},popFolder:function(){},resetFolder:function(){}}),$e=function(e){var t=e.children,r=(0,c.useContext)(Qe.fo).setFilter,n=(0,ee.z)("opened-folder-uri",void 0),i=(0,o.Z)(n,2),l=i[0],a=i[1],s=(0,c.useRef)([null!=l?l:""]),u=(0,c.useCallback)((function(e){a(e),r("")}),[a,r]),d=(0,c.useCallback)((function(e){s.current.push(e),u(s.current.at(-1))}),[u]),p=(0,c.useCallback)((function(){s.current.pop();var e=s.current.at(-1);return u(e),e}),[u]),g=(0,c.useCallback)((function(){s.current=[""],u("")}),[u]);return(0,k.jsx)(qe.Provider,{value:{openedFolderUri:l,pushFolder:d,popFolder:p,resetFolder:g},children:t})},et=r(24581),tt=r(25192),rt=r(19397),nt=r(95441),it=r(89199);const lt="eB4weTwpV1CJo1Ycry5o",at="DHzyoCWhWjunaSpGo3fm",ot="R7bnv14gXI2ndBOqFvCf",st="IyHaBob4EvHvpR1d0aMt";var ut=function(e){var t=e.index;return(0,k.jsx)(rt.id,{columnIndex:0,children:(0,k.jsx)(tt.Z,{className:lt,media:(0,k.jsx)(nt.x,{images:[],FallbackComponent:function(){return(0,k.jsx)(it.t,{type:void 0,iconSize:64})}}),variant:"naked",id:t,title:""})})},ct=r(23731),dt=r(51690),pt=r(74964),gt=r(96714),ft=r(96234),yt=r(3777),bt=r(68765),mt=r(4899),vt=r(65514);function xt(e,t){if(e){if((0,fe.lK)(e)){var r=e.querySelector('[tabindex="0"]');t===vt.N.UP&&(0,fe.Bu)(r,ht(e,r,vt.N.UP)),t===vt.N.DOWN&&(0,fe.Bu)(r,ht(e,r,vt.N.DOWN)),t===vt.N.RIGHT&&(0,fe.Bu)(r,jt(r,vt.N.RIGHT)),t===vt.N.LEFT&&(0,fe.Bu)(r,jt(r,vt.N.LEFT))}}else console.error("No list element found. Canceling moving focus")}function ht(e,t,r){var n=t.closest('li[role="row"]');if(!n)return t;var i=n,l=Array.from(e.querySelectorAll('li[role="row"]')),a=l.indexOf(n);if(a<0)return t;if(r===vt.N.UP){var o;if(document.activeElement===e)return null!==(o=i=l[l.length-1])&&void 0!==o?o:t;var s=a-1;i=l[s],s-=1}else if(r===vt.N.DOWN){var u;if(document.activeElement===e)return null!==(u=i=l[0])&&void 0!==u?u:t;var c=a+1;i=l[c],c+=1}return i||t}function jt(e,t){var r=e.closest('li[role="row"]');if(!r)return e;var n=Array.from(r.querySelectorAll("a[href], button")),i=n.indexOf(e),l=0;if(t===vt.N.RIGHT&&i-1!==n.length)l=i+1;else{if(t===vt.N.LEFT&&-1===i)return r;if(t===vt.N.LEFT&&0!==i)l=i-1;else if(t===vt.N.LEFT&&0===i)return r}return n.at(l)||e}var Dt=["onKeyDown","children"];function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Pt=function(e){var t=e.onKeyDown,r=e.children,n=(0,a.Z)(e,Dt),i=(0,c.useRef)(null),l=(0,c.useCallback)((function(e){var r;null!==(r=i.current)&&void 0!==r&&r.contains(e.target)&&("ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),document.documentElement.classList.remove("no-focus-outline")),"ArrowUp"===e.key&&xt(i.current,vt.N.UP),"ArrowDown"===e.key&&xt(i.current,vt.N.DOWN),"ArrowRight"===e.key&&xt(i.current,vt.N.RIGHT),"ArrowLeft"===e.key&&xt(i.current,vt.N.LEFT),null==t||t(e))}),[t]),o=(0,c.useCallback)((function(e){if(i.current){var t=e.target,r=i.current.querySelector('[tabindex="0"]');t.closest('li[role="row"]')&&t!==r&&(0,fe.Bu)(r,t,{preventScroll:!0})}}),[]);return(0,k.jsx)("ul",wt(wt({role:"treegrid",ref:i,onKeyDown:l,onFocus:o,tabIndex:0},n),{},{children:r}))},It=r(77722),Tt=["children","innerRef"];function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ct=function(e){var t=e.children,r=e.innerRef,n=(0,a.Z)(e,Tt),i=(0,c.useRef)(null),l=null!=r?r:i;return(0,It.O)(l),(0,k.jsx)("li",St(St({ref:l,role:"row"},n),{},{children:t}))},Lt=r(55540),Rt=(r(86499),r(92053)),Zt=["dropPosition","className"];function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var At={state:{preventMoveFocus:!0}};function Nt(e){var t,r,n=e.uri,i=e.to,o=void 0===i?(null===(t=(0,m.EC)(n))||void 0===t?void 0:t.toURLPath(!0))||"":i,s=e.handleNavigate,u=e.dragLabel,d=e.allowedDropTargetURITypesByDropPosition,p=void 0===d?{}:d,g=e.onDropTargetDrop,f=e.onLongDragOver,y=e.openDeleteDialog,b=e.togglePlay,v=e.isItemInGrid,x=(0,Rt.s0)(),h=(0,c.useCallback)((function(){x(o,At)}),[x,o]),j=(0,c.useCallback)((function(e){e.preventDefault(),s?s():o&&x(o,At)}),[s,x,o]),D=(0,c.useCallback)((function(){null==b||b()}),[b]),O=!(null===(r=(0,Rt.bS)(o))||void 0===r||!r.pattern.end),w=(0,we.O1)([n],u),P=ke({uri:n,allowedURITypesByDropPosition:p,onDrop:g,onLongDragOver:null!=f?f:h,reorderDirection:v?"horizontal":"vertical"}),I=P.dropPosition,T=P.className,E=(0,a.Z)(P,Zt);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isActive:O,onClick:j,onDoubleClick:D,draggable:!!u,onDragStart:w,onKeyDown:(0,c.useCallback)((function(e){e.repeat||("Backspace"!==e.key&&"Delete"!==e.key||!y||y(),"Enter"===e.key&&e.shiftKey&&b&&(e.preventDefault(),b()))}),[y,b]),dropPosition:I,dropTargetClassName:T},E)}var Ft=["isActive","onClick","onDoubleClick","draggable","onDragStart","onKeyDown","dropPosition","dropTargetClassName"];function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mt=(0,c.memo)((function(e){var t,r,n=e.uri,i=e.to,o=void 0===i?(null===(t=(0,m.EC)(n))||void 0===t?void 0:t.toURLPath(!0))||"":i,s=e.handleNavigate,u=e.dragLabel,c=e.title,d=e.subtitle,g=e.media,f=e.allowedDropTargetURITypesByDropPosition,y=e.onDropTargetDrop,b=e.onLongDragOver,v=e.menu,x=e.leading,h=Nt({uri:n,to:o,handleNavigate:s,dragLabel:u,allowedDropTargetURITypesByDropPosition:f,onDropTargetDrop:y,openDeleteDialog:e.openDeleteDialog,onLongDragOver:b,togglePlay:e.togglePlay,isItemInGrid:!0}),j=h.isActive,D=h.onClick,O=h.onDoubleClick,w=h.draggable,P=h.onDragStart,I=h.onKeyDown,T=h.dropPosition,E=h.dropTargetClassName,S=(0,a.Z)(h,Ft);return(0,k.jsx)(Ct,{draggable:w,onDragStart:P,onKeyDown:I,className:p()(E,(r={},(0,l.Z)(r,Ae,T===ue.ON),(0,l.Z)(r,Fe,T===ue.BEFORE),(0,l.Z)(r,Ue,T===ue.AFTER),r)),children:(0,k.jsx)(Lt._P,{menu:v,children:(0,k.jsx)(tt.Z,_t({id:n,title:c,subtitle:d,media:g,size:"sm",leading:x,className:lt,variant:j?"tinted":void 0,onClick:D,isNavigational:!0,onDoubleClick:O},S))})})})),Bt=r(56777),Jt=r(60378),zt=r(47247),Kt=r(12323),Ht=function(e){var t=e.name,r=e.uri,n=e.togglePlay,i=(0,mt.cR)(r).isPlaying;return(0,k.jsx)("div",{className:p()(ot,(0,l.Z)({},st,i)),children:(0,k.jsx)(Kt.f,{isPlaying:i,onClick:function(){null==n||n()},ariaPlayLabel:L.ag.get("playlist.a11y.play",t),ariaPauseLabel:L.ag.get("playlist.a11y.pause",t)})})};const Yt="d33vqKRxohS9RxzCic1D",Wt="ZUzy5TtIl2579Z_565D4",Vt="LSrBzBljgLeDhcm3Soye",Gt="EBKizbzU46tT7N9XM_wi",Xt="G7aCptcOZswI1fN6dGkO";var Qt=function(e){var t=e.title,r=e.type,n=e.images,i=e.isCircular;return(0,k.jsx)(Bt.O,{images:n,shape:i?Bt.K.CIRCLE:Bt.K.ROUNDED_CORNERS,size:zt.m$.SIZE_48,iconSize:24,type:r,title:t,className:Wt})},qt=function(e){var t=e.title,r=e.type,n=e.uri,i=e.images,l=e.isCircular,a=e.togglePlay;return(0,k.jsx)("div",{className:at,children:(0,k.jsx)(nt.x,{images:i,FallbackComponent:function(){return(0,k.jsx)(Jt.j,{type:r,title:t,iconSize:64})},isCircular:l,children:a&&(0,k.jsx)(Ht,{name:t,uri:n,togglePlay:a})})})},$t=r(40728),er=r(57814),tr=r(78603),rr=r(88107),nr=r(71544);const ir="_ymJNIfklFmogab9uWY1";var lr=function(e){var t=e.folderDepth,r=void 0===t?0:t;return(0,k.jsx)("li",{className:ir,style:{"--ylx-folder-depth":r}})},ar=function(e){var t=e.date;return(0,k.jsx)(C.D,{variant:"mesto",semanticColor:"textSubdued",children:t&&L.ag.formatRelativeDate(new Date(t),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})})},or=r(23636),sr=["uri","to","handleNavigate","title","subtitle","trailing","media","alt","folderDepth","className","dragLabel","allowedDropTargetURITypesByDropPosition","onDropTargetDrop","onLongDragOver","style","menu","openDeleteDialog","togglePlay","addedAt","lastPlayedAt"],ur=["isActive","onClick","onDoubleClick","onDragStart","onKeyDown","dropPosition","dropTargetClassName","draggable"];function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pr=(0,c.memo)((function(e){var t,r=e.uri,n=e.to,i=void 0===n?(null===(t=(0,m.EC)(r))||void 0===t?void 0:t.toURLPath(!0))||"":n,o=e.handleNavigate,s=e.title,u=e.subtitle,c=e.trailing,d=e.media,g=e.alt,f=e.folderDepth,y=e.className,b=e.dragLabel,v=e.allowedDropTargetURITypesByDropPosition,x=e.onDropTargetDrop,h=e.onLongDragOver,j=e.style,D=e.menu,O=e.openDeleteDialog,w=e.togglePlay,P=e.addedAt,I=e.lastPlayedAt,T=(0,a.Z)(e,sr),E=Nt({uri:r,to:i,handleNavigate:o,dragLabel:b,allowedDropTargetURITypesByDropPosition:v,onDropTargetDrop:x,onLongDragOver:h,openDeleteDialog:O,togglePlay:w}),S=E.isActive,C=E.onClick,L=E.onDoubleClick,R=E.onDragStart,Z=E.onKeyDown,A=E.dropPosition,N=E.dropTargetClassName,F=E.draggable,U=(0,a.Z)(E,ur),_=(0,or.U)(),M=_.isCollapsed,B=_.isExpanded,J=(0,k.jsx)($t.w,{className:re,media:M?(0,k.jsx)(yt.default,{to:i,title:g,children:d}):d,title:M?void 0:s,subtitle:M?void 0:u,trailing:M?void 0:c,id:r,variant:S&&!B?"tinted":void 0,padding:er.dly,onClick:B?void 0:C,isNavigational:!B}),z=(0,k.jsx)(rr.E,dr(dr(dr({style:dr({"--ylx-folder-depth":M?0:f},j),draggable:F,onDragStart:R,onDoubleClick:L,className:p()(y,N,(0,l.Z)({},Ae,A===ue.ON))},T),U),{},{onKeyDown:Z,children:(0,k.jsx)(Lt._P,{menu:D,children:B?(0,k.jsxs)(tr.x,{variant:S?"tinted":void 0,onClick:C,isInteractive:!0,padding:"0px",className:oe,children:[J,(0,k.jsx)(ar,{date:P}),(0,k.jsx)(ar,{date:I})]}):J})}));return(0,k.jsxs)(k.Fragment,{children:[A===ue.BEFORE&&(0,k.jsx)(lr,{folderDepth:f}),M?(0,k.jsx)(nr._,{label:(0,k.jsxs)("div",{className:p()("encore-dark-theme",ae),children:[(0,k.jsxs)("div",{children:[s,u]}),c]}),placement:"right",showDelay:0,children:z}):z,A===ue.AFTER&&(0,k.jsx)(lr,{folderDepth:f})]})})),gr=r(70649);const fr="CM1zXw1Wj6mpIkgqDv8F",yr="NsCWGykEz2BcGnM5XJ78";var br=function(){return(0,k.jsx)("span",{className:fr,children:(0,k.jsx)(gr.w,{iconSize:16,semanticColor:"textBrightAccent",className:yr})})},mr=(r(51627),r(9475)),vr=r(29050),xr=function(e){var t=e.leading,r=e.subtitle;return(0,k.jsxs)("div",{className:Vt,children:[t,(0,k.jsx)(mr.o,{lineClamp:1,className:Yt,children:r})]})},hr=function(e){var t=e.leading,r=e.subtitle;return(0,k.jsxs)("div",{className:Vt,children:[t,(0,k.jsx)(vr.u,{lineClamp:1,className:Yt,children:r})]})},jr=r(55348),Dr=r(45740),Or=r(35407),wr={state:{preventMoveFocus:!0}};function Pr(e,t,r,n){var i=(0,c.useContext)(Qe.fo).filter,l=(0,mt.cR)(e).isActive,a=(0,Rt.s0)();return{isActive:l,onClick:(0,c.useCallback)((function(e){e.preventDefault(),n?n():t&&a(t,wr)}),[n,a,t]),highlighter:(0,k.jsx)(ft.o,{autoEscape:!0,searchWords:[i.trim()],textToHighlight:r})}}var Ir=function(e){var t,r=e.uri,n=e.playbackUri,i=void 0===n?r:n,l=e.title,a=e.menu,o=e.to,s=void 0===o?(null===(t=(0,m.EC)(r))||void 0===t?void 0:t.toURLPath(!0))||"":o,u=Pr(i,s,l,e.handleNavigate),c=u.isActive,d=u.onClick,p=u.highlighter;return(0,k.jsx)(Or._,{menu:a,children:(0,k.jsx)(jr.g,{lineClamp:1,className:Yt,semanticColor:c?"textBrightAccent":"textBase",href:s,onClick:d,draggable:!1,children:p})})},Tr=function(e){var t,r=e.uri,n=e.playbackUri,i=void 0===n?r:n,l=e.title,a=e.menu,o=e.to,s=void 0===o?(null===(t=(0,m.EC)(r))||void 0===t?void 0:t.toURLPath(!0))||"":o,u=Pr(i,s,l,e.handleNavigate),c=u.isActive,d=u.onClick,p=u.highlighter;return(0,k.jsx)(Or._,{menu:a,children:(0,k.jsx)(Dr.l,{lineClamp:1,className:Yt,semanticColor:c?"textBrightAccent":"textBase",href:s,onClick:d,children:p})})},Er=r(60353),Sr=function(e){return e.pinned?(0,k.jsx)(Er.t,{semanticColor:"textBrightAccent",iconSize:16,title:L.ag.get("web-player.your-library-x.pinned"),className:Xt}):null};function Cr(e,t){var r,n,i,l,a=e.uri,o=e.artists,s=e.pinned,u=(0,c.useContext)(Qe.fo).filter,d=(0,mt.cR)(a).isPlaying,p=(0,f.I0)();return{isPlaying:d,openDeleteDialog:(0,c.useCallback)((function(){p((0,dt.YU)(a))}),[p,a]),togglePlay:(0,bt.n)({uri:a},{featureIdentifier:"album",referrerIdentifier:"your_library"}).togglePlay,menu:(0,k.jsx)(pt.Y,{uri:a,isPinnable:!0,isPinned:e.pinned,useDialogForUnfollow:!0}),subtitleLeading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Sr,{pinned:s}),(0,k.jsx)(gt.$,{uri:a,size:16,className:Xt})]}),subtitleText:(0,k.jsxs)(k.Fragment,{children:[t&&"".concat(L.ag.get("web-player.your-library-x.type-album")," • "),(0,k.jsx)(yt.Link,{to:null!==(r=null===(n=o.at(0))||void 0===n?void 0:n.uri)&&void 0!==r?r:"",className:Gt,children:(0,k.jsx)(ft.o,{searchWords:[u.trim()],textToHighlight:null!==(i=null===(l=o.at(0))||void 0===l?void 0:l.name)&&void 0!==i?i:""})})]})}}var Lr=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=Cr(t,r),s=o.isPlaying,u=o.openDeleteDialog,c=o.togglePlay,d=o.menu,p=o.subtitleLeading,g=o.subtitleText,f=(0,k.jsx)(Qt,{title:l,type:a,images:i}),y=(0,k.jsx)(Ir,{uri:n,title:l,menu:d}),b=(0,k.jsx)(xr,{leading:p,subtitle:g}),m=s&&(0,k.jsx)(br,{});return(0,k.jsx)(pr,{uri:n,media:f,title:y,subtitle:b,trailing:m,alt:l,dragLabel:l,menu:d,togglePlay:c,openDeleteDialog:u,addedAt:t.addedAt,lastPlayedAt:t.lastPlayedAt})},Rr=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=Cr(t,r),s=o.togglePlay,u=o.menu,c=o.subtitleLeading,d=o.subtitleText,p=o.openDeleteDialog,g=(0,k.jsx)(qt,{title:l,type:a,images:i,uri:n,togglePlay:s}),f=(0,k.jsx)(Tr,{uri:n,title:l,menu:u}),y=(0,k.jsx)(hr,{leading:c,subtitle:d});return(0,k.jsx)(Mt,{uri:n,title:f,subtitle:y,menu:u,dragLabel:l,media:g,togglePlay:s,openDeleteDialog:p})},Zr=r(41001);function kr(e,t){var r=e.uri,n=e.pinned,i=(0,f.I0)();return{togglePlay:(0,bt.n)({uri:r},{featureIdentifier:"artist",referrerIdentifier:"your_library"}).togglePlay,isPlaying:(0,mt.cR)(r).isPlaying,openDeleteDialog:(0,c.useCallback)((function(){i((0,dt.YU)(r))}),[i,r]),menu:(0,k.jsx)(Zr.m,{uri:r,isPinnable:!0,isPinned:e.pinned,useDialogForUnfollow:!0}),subtitleLeading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Sr,{pinned:n}),(0,k.jsx)(gt.$,{uri:r,size:16,className:Xt})]}),subtitleText:t?L.ag.get("web-player.your-library-x.type-artist"):void 0}}var Ar=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=kr(t,r),s=o.togglePlay,u=o.isPlaying,c=o.openDeleteDialog,d=o.menu,p=o.subtitleLeading,g=o.subtitleText,f=(0,k.jsx)(Qt,{title:l,type:a,images:i,isCircular:!0}),y=(0,k.jsx)(Ir,{uri:n,title:l,menu:d}),b=(0,k.jsx)(xr,{leading:p,subtitle:g}),m=u&&(0,k.jsx)(br,{});return(0,k.jsx)(pr,{uri:n,media:f,title:y,subtitle:b,trailing:m,alt:l,dragLabel:l,menu:d,togglePlay:s,openDeleteDialog:c,addedAt:t.addedAt,lastPlayedAt:t.lastPlayedAt})},Nr=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=kr(t,r),s=o.togglePlay,u=o.menu,c=o.subtitleLeading,d=o.subtitleText,p=o.openDeleteDialog,g=(0,k.jsx)(qt,{title:l,type:a,images:i,isCircular:!0,uri:n,togglePlay:s}),f=(0,k.jsx)(Tr,{uri:n,title:l,menu:u}),y=(0,k.jsx)(hr,{leading:c,subtitle:d});return(0,k.jsx)(Mt,{uri:n,title:f,subtitle:y,menu:u,dragLabel:l,media:g,togglePlay:s,openDeleteDialog:p})},Fr=r(81700);function Ur(e,t){var r=e.uri,n=e.authorName,i=e.pinned,l=(0,c.useContext)(Qe.fo).filter,a=(0,f.I0)(),o=(0,mt.cR)(r).isPlaying,s=(0,bt.n)({uri:r},{featureIdentifier:"audiobook",referrerIdentifier:"your_library"}).togglePlay;return{isPlaying:o,openDeleteDialog:(0,c.useCallback)((function(){a((0,dt.YU)(r))}),[a,r]),togglePlay:s,menu:(0,k.jsx)(Fr.X,{uri:r,isPinnable:!0,isPinned:e.pinned,useDialogForUnfollow:!0}),subtitleLeading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Sr,{pinned:i}),(0,k.jsx)(gt.$,{uri:r,size:16,className:Xt})]}),subtitleText:(0,k.jsxs)(k.Fragment,{children:[t&&"".concat(L.ag.get("web-player.your-library-x.type-audiobook")," • "),(0,k.jsx)(ft.o,{searchWords:[l.trim()],textToHighlight:n})]})}}var _r=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=Ur(t,r),s=o.isPlaying,u=o.openDeleteDialog,c=o.togglePlay,d=o.menu,p=o.subtitleLeading,g=o.subtitleText,f=(0,k.jsx)(Qt,{title:l,type:a,images:i}),y=(0,k.jsx)(Ir,{uri:n,title:l,menu:d}),b=(0,k.jsx)(xr,{leading:p,subtitle:g}),m=s&&(0,k.jsx)(br,{});return(0,k.jsx)(pr,{uri:n,media:f,title:y,subtitle:b,trailing:m,alt:l,dragLabel:l,menu:d,togglePlay:c,openDeleteDialog:u,addedAt:t.addedAt,lastPlayedAt:t.lastPlayedAt})},Mr=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=Ur(t,r),s=o.togglePlay,u=o.menu,c=o.subtitleLeading,d=o.subtitleText,p=o.openDeleteDialog,g=(0,k.jsx)(qt,{title:l,type:a,images:i,uri:n,togglePlay:s}),f=(0,k.jsx)(Tr,{uri:n,title:l,menu:u}),y=(0,k.jsx)(hr,{leading:c,subtitle:d});return(0,k.jsx)(Mt,{uri:n,title:f,subtitle:y,menu:u,dragLabel:l,media:g,togglePlay:s,openDeleteDialog:p})},Br=r(31740),Jr=r(65586),zr=r(31805),Kr=r(80123),Hr=r(50023),Yr=(r(66410),r(99654)),Wr=r(24664),Vr=r(21599),Gr=function(e){var t=e.isConfirmationForPlaylist,r=e.onConfirm,n=e.onClose,i=t?L.ag.get("web-player.your-library-x.unpin-confirmation-dialog.title-playlist"):L.ag.get("web-player.your-library-x.unpin-confirmation-dialog.title-folder");return(0,k.jsx)(Vr.Q,{"aria-label":i,titleText:i,descriptionText:t?L.ag.get("web-player.your-library-x.unpin-confirmation-dialog.message-playlist"):L.ag.get("web-player.your-library-x.unpin-confirmation-dialog.message-folder"),onConfirm:r,onClose:n,confirmText:L.ag.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-text"),confirmLabel:t?L.ag.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-playlist"):L.ag.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-folder"),cancelText:L.ag.get("web-player.your-library-x.unpin-confirmation-dialog.cancel-button-text"),allowHTML:!0})};function Xr(e){var t,r=(0,Yr.y)(),l=(0,Wr.P)("ylpin").contains,a=(0,c.useState)(null),s=(0,o.Z)(a,2),d=s[0],p=s[1],g=(0,c.useCallback)(function(){var t=(0,i.Z)(u().mark((function t(r,i,a){var o,s,c,d,g;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r[m.JM.PLAYLIST_V2],s=void 0===o?[]:o,c=r[m.JM.FOLDER],d=void 0===c?[]:c,g=[].concat((0,n.Z)(s),(0,n.Z)(d)),t.t0=!!g.length,!t.t0){t.next=7;break}return t.next=6,l.apply(void 0,(0,n.Z)(g));case 6:t.t0=t.sent.some(Boolean);case 7:if(!t.t0){t.next=14;break}if(!(g.length>1)){t.next=11;break}throw new Error("Reordering multiple pinned items at once is not supported");case 11:p({dropData:r,dropPosition:i,dropTargetUri:a}),t.next=15;break;case 14:e(r,i,a);case 15:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),[l,e]);return{applyDropWithUnpinConfirmation:g,unpinConfirmationDialog:d?(0,k.jsx)(Gr,{isConfirmationForPlaylist:!(null!==(t=d.dropData.folder)&&void 0!==t&&t.length),onClose:function(){return p(null)},onConfirm:(0,i.Z)(u().mark((function t(){var i,l,a,o,s;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=d.dropData,l=i[m.JM.PLAYLIST_V2],a=void 0===l?[]:l,o=i[m.JM.FOLDER],s=void 0===o?[]:o,t.next=3,r.unpin([].concat((0,n.Z)(a),(0,n.Z)(s))[0]);case 3:e(d.dropData,d.dropPosition,d.dropTargetUri),p(null);case 5:case"end":return t.stop()}}),t)})))}):null}}function Qr(){var e=(0,Hr.o)(),t=(0,c.useCallback)(function(){var t=(0,i.Z)(u().mark((function t(r,n){var i;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.contains(r);case 2:if(i=t.sent,1===new Set(i).size){t.next=5;break}throw new Error("Dropping a mix of newly added and moved playlists is not supported");case 5:if(!i[0]){t.next=13;break}if(!(r.length>1)){t.next=9;break}throw new Error("Moving multiple playlists at once is not supported");case 9:return t.next=11,e.move({uri:r[0]},n);case 11:t.next=15;break;case 13:return t.next=15,e.add(r,n);case 15:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),[e]);return t}function qr(){var e=(0,N.K)(),t=e.createPlaylistFromAlbum,r=e.createPlaylistFromTracks,l=(0,Hr.o)(),a=Qr(),o=Xr((0,c.useCallback)((function(e,t,r){var n=e[m.JM.PLAYLIST_V2],i=void 0===n?[]:n,o=e[m.JM.FOLDER],s=void 0===o?[]:o,u={after:{uri:r}};i.length&&a(i,u),s.length&&l.moveFolder({uri:s[0]},u)}),[a,l])),s=o.unpinConfirmationDialog,d=o.applyDropWithUnpinConfirmation,p=(0,c.useCallback)(function(){var e=(0,i.Z)(u().mark((function e(i,l){var a,o,s,c,p,g,f,y,b,v,x,h,j;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i[m.JM.TRACK],o=void 0===a?[]:a,s=i[m.JM.LOCAL_TRACK],c=void 0===s?[]:s,p=i[m.JM.ALBUM],g=void 0===p?[]:p,f=i[m.JM.EPISODE],y=void 0===f?[]:f,b=i[m.JM.PLAYLIST_V2],v=void 0===b?[]:b,x=i[m.JM.FOLDER],h=void 0===x?[]:x,j={after:{uri:l}},v.length||h.length?d(i,ue.ON,l):g.length?t(g[0],j):(o.length||c.length||y.length)&&r([].concat((0,n.Z)(o),(0,n.Z)(c),(0,n.Z)(y)),j);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[d,t,r]);return{unpinConfirmationDialog:s,handleDropOnFolder:p}}var $r=[m.JM.PLAYLIST_V2,m.JM.FOLDER];function en(){var e=(0,Hr.o)(),t=Qr(),r=(0,c.useCallback)(function(){var r=(0,i.Z)(u().mark((function r(n,i,l){var a,o,s,c,d,p;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n[m.JM.PLAYLIST_V2],o=void 0===a?[]:a,s=n[m.JM.FOLDER],c=void 0===s?[]:s,d=i===ue.BEFORE?{before:{uri:l}}:{after:{uri:l}},!(p=c.at(0))){r.next=8;break}return r.next=6,e.moveFolder({uri:p},d);case 6:r.next=10;break;case 8:return r.next=10,t(o,d);case 10:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}(),[e,t]),n=Xr(r),l=n.unpinConfirmationDialog,a=n.applyDropWithUnpinConfirmation,o=(0,c.useCallback)(function(){var e=(0,i.Z)(u().mark((function e(t,r,n){var i,l,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t[m.JM.PLAYLIST_V2],l=void 0===i?[]:i,o=t[m.JM.FOLDER],s=void 0===o?[]:o,!l.length||!s.length){e.next=5;break}throw new Error("Dropping a mix of playlists and folders is not supported");case 5:if(!(s.length>1)){e.next=7;break}throw new Error("Dropping multiple folders is not supported");case 7:a(t,r,n);case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),[a]);return{handleDropBeforeOrAfterRootlistItem:o,unpinConfirmationDialog:l}}function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rn(e){var t=e.uri,r=e.name,n=e.numberOfFolders,a=e.numberOfPlaylists,o=e.pinned,s=e.canReorder,d=(0,c.useContext)(qe).pushFolder,p=(0,f.I0)(),g=(0,bt.n)({uri:t},{featureIdentifier:"folder",referrerIdentifier:"your_library"}).togglePlay,y=qr(),b=y.handleDropOnFolder,v=y.unpinConfirmationDialog,x=en(),h=x.handleDropBeforeOrAfterRootlistItem,j=x.unpinConfirmationDialog,D=(0,T.lh)().renameFolder,O=(0,c.useMemo)((function(){var e;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}((0,l.Z)({},ue.ON,[m.JM.TRACK,m.JM.LOCAL_TRACK,m.JM.ALBUM,m.JM.EPISODE,m.JM.PLAYLIST_V2,m.JM.FOLDER]),s&&(e={},(0,l.Z)(e,ue.BEFORE,$r),(0,l.Z)(e,ue.AFTER,$r),e))}),[s]),w=(0,c.useCallback)(function(){var e=(0,i.Z)(u().mark((function e(r,n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(i=r.folder)||void 0===i?void 0:i.at(0))!==t){e.next=2;break}return e.abrupt("return");case 2:n===ue.ON?b(r,t):n!==ue.BEFORE&&n!==ue.AFTER||h(r,n,t);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[b,h,t]),P=[a>0||!n?L.ag.get("web-player.your-library-x.rows.folder.number-of-playlists",a):null,n>0?L.ag.get("web-player.your-library-x.rows.folder.number-of-folders",n):null].filter(Te.K).join(L.ag.getSeparator()),I=(0,c.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";D(e,t)}),[e,D]),E=(0,c.useCallback)((function(){d(e.uri)}),[e,d]);return{openDeleteDialog:(0,c.useCallback)((function(){p((0,dt.Q2)(t))}),[p,t]),togglePlay:g,menu:(0,k.jsx)(Kr.A,{reference:{uri:t},name:r,isPinnable:!0,isPinned:o,onRename:I}),subtitleLeading:(0,k.jsx)(Sr,{pinned:o}),subtitleText:P,allowedDropTargetURITypesByDropPosition:O,onDropTargetDrop:w,handleNavigate:E,dropOnFolderUnpinConfirmationDialog:v,dropBeforeOrAfterRootlistItemUnpinConfirmationDialog:j}}var nn=function(e){var t,r,n,i,l,a,s=e.libraryItem,u=s.uri,d=s.folderDepth,p=s.name,g=s.type,f=s.isFlattened,y=rn(s),b=y.openDeleteDialog,v=y.togglePlay,x=y.menu,h=y.subtitleLeading,j=y.subtitleText,D=y.allowedDropTargetURITypesByDropPosition,O=y.onDropTargetDrop,w=y.handleNavigate,P=y.dropOnFolderUnpinConfirmationDialog,I=y.dropBeforeOrAfterRootlistItemUnpinConfirmationDialog,T=(n=u,i=(0,c.useContext)($),l=i.getIsFolderExpanded,a=i.setIsFolderExpanded,[(0,c.useMemo)((function(){return l(n)}),[l,n]),(0,c.useCallback)((function(e){a(n,e)}),[a,n])]),E=(0,o.Z)(T,2),S=E[0],C=E[1],R=(0,or.U)().isCollapsed,Z=(0,c.useCallback)((function(){C(!0)}),[C]),A=(0,c.useCallback)((function(e){e.stopPropagation()}),[]),N=(0,c.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),C(!S)}),[C,S]),F=(0,k.jsx)(Qt,{title:p,type:g}),U=(0,k.jsx)(Ir,{uri:u,title:p,menu:x,handleNavigate:w}),_=(0,k.jsx)(xr,{leading:h,subtitle:j}),M=!f&&!R&&(0,k.jsx)(Br.o,{"aria-label":S?L.ag.get("web-player.your-library-x.collapse-folder"):L.ag.get("web-player.your-library-x.expand-folder"),iconOnly:S?Jr.U:zr.i,buttonSize:"sm",condensedAll:!0,onClick:N,onDoubleClick:A,tabIndex:-1,className:ie});return(0,k.jsxs)(k.Fragment,{children:[null!=P?P:I,(0,k.jsx)(pr,{uri:u,to:"/folder/".concat(null!==(t=null===(r=(0,m.EC)(u))||void 0===r?void 0:r.id)&&void 0!==t?t:""),handleNavigate:w,folderDepth:d,media:F,title:U,subtitle:_,trailing:M,alt:p,dragLabel:p,menu:x,allowedDropTargetURITypesByDropPosition:D,onDropTargetDrop:O,onLongDragOver:Z,togglePlay:v,openDeleteDialog:b,addedAt:s.addedAt,lastPlayedAt:s.lastPlayedAt})]})},ln=function(e){var t,r,n=e.libraryItem,i=n.uri,l=n.name,a=n.type,o=rn(n),s=o.togglePlay,u=o.menu,c=o.subtitleLeading,d=o.subtitleText,p=o.onDropTargetDrop,g=o.allowedDropTargetURITypesByDropPosition,f=o.handleNavigate,y=o.openDeleteDialog,b=(0,k.jsx)(qt,{title:l,type:a,uri:i,togglePlay:s}),v=(0,k.jsx)(Tr,{uri:i,title:l,menu:u,handleNavigate:f}),x=(0,k.jsx)(hr,{leading:c,subtitle:d});return(0,k.jsx)(Mt,{uri:i,to:"/folder/".concat(null!==(t=null===(r=(0,m.EC)(i))||void 0===r?void 0:r.id)&&void 0!==t?t:""),handleNavigate:f,media:b,title:v,subtitle:x,menu:u,dragLabel:l,allowedDropTargetURITypesByDropPosition:g,onLongDragOver:f,onDropTargetDrop:p,togglePlay:s,openDeleteDialog:y})},an=r(67618),on=r(23351),sn=r(91824),un=c.memo((function(e){var t=e.uri,r=e.isPinned;return(0,k.jsx)(on.ZP,{value:"generic",children:(0,k.jsx)(an.v,{children:(0,k.jsx)(sn.X,{uri:t,isPinned:r,type:S.p.PLAYLIST})})})})),cn=r(15310);function dn(e,t){var r=e.numberOfSongs,i=e.pinned,a=(0,f.v9)(cn.Gg).user,o=(0,m.wG)(null==a?void 0:a.id).toURI(),s=o,u=o,d=o,p=(0,bt.n)({uri:s},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}).togglePlay,g=(0,c.useContext)(P.H),y=(0,mt.cR)(s).isPlaying,b=(0,c.useMemo)((function(){return(0,l.Z)({},ue.ON,[m.JM.TRACK])}),[]),v=(0,c.useCallback)((function(e){var t=e[m.JM.TRACK],r=void 0===t?[]:t;null!=r&&r.length&&(null==g||g.add.apply(g,(0,n.Z)(r)))}),[g]);return{isPlaying:y,togglePlay:p,menu:(0,k.jsx)(un,{uri:u,isPinned:e.pinned}),subtitleLeading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Sr,{pinned:i}),(0,k.jsx)(gt.$,{uri:d,size:16,className:Xt})]}),subtitleText:(0,k.jsxs)(k.Fragment,{children:[t&&"".concat(L.ag.get("web-player.your-library-x.type-playlist")," • "),L.ag.get("web-player.your-library-x.rows.liked-songs.subtitle",r)]}),onDropTargetDrop:v,allowedDropTargetURITypesByDropPosition:b,playbackUri:s,uri:"spotify:collection:tracks"}}var pn=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.images,i=t.name,l=t.type,a=dn(t,r),o=a.isPlaying,s=a.togglePlay,u=a.menu,c=a.subtitleLeading,d=a.subtitleText,p=a.onDropTargetDrop,g=a.allowedDropTargetURITypesByDropPosition,f=a.playbackUri,y=a.uri,b=(0,k.jsx)(Qt,{title:i,type:l,images:n}),m=(0,k.jsx)(Ir,{uri:y,playbackUri:f,title:i,menu:u}),v=(0,k.jsx)(xr,{leading:c,subtitle:d}),x=o&&(0,k.jsx)(br,{});return(0,k.jsx)(pr,{uri:y,media:b,title:m,subtitle:v,trailing:x,alt:i,dragLabel:i,menu:u,allowedDropTargetURITypesByDropPosition:g,onDropTargetDrop:p,togglePlay:s,addedAt:t.addedAt,lastPlayedAt:t.lastPlayedAt})},gn=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.images,i=t.name,l=t.type,a=dn(t,r),o=a.togglePlay,s=a.menu,u=a.subtitleLeading,c=a.subtitleText,d=a.onDropTargetDrop,p=a.allowedDropTargetURITypesByDropPosition,g=a.playbackUri,f=a.uri,y=(0,k.jsx)(qt,{title:i,type:l,images:n,uri:g,togglePlay:o}),b=(0,k.jsx)(Tr,{uri:f,playbackUri:g,title:i,menu:s}),m=(0,k.jsx)(hr,{leading:u,subtitle:c});return(0,k.jsx)(Mt,{uri:f,title:b,subtitle:m,menu:s,dragLabel:i,allowedDropTargetURITypesByDropPosition:p,onDropTargetDrop:d,media:y,togglePlay:o})},fn=r(39664),yn=r(17968),bn=r(78217),mn=r(34437);function vn(e,t){var r=e.numberOfFiles,n=e.pinned,i=mn.b,l=(0,bn.gB)().uri,a=e.uri;return{playbackUri:i,uri:l,isPlaying:(0,mt.cR)(i).isPlaying,menu:(0,k.jsx)(un,{uri:a,isPinned:e.pinned}),subtitleLeading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Sr,{pinned:n}),(0,k.jsx)(fn.E,{iconSize:16,className:Xt,semanticColor:"textBrightAccent"})]}),subtitleText:"".concat(t?"".concat(L.ag.get("web-player.your-library-x.type-playlist")," • "):"").concat(L.ag.get("web-player.your-library-x.rows.local-files.subtitle",r))}}var xn=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.name,i=vn(t,r),l=i.playbackUri,a=i.uri,o=i.isPlaying,s=i.menu,u=i.subtitleLeading,c=i.subtitleText,d=(0,k.jsx)("div",{className:ne,children:(0,k.jsx)(yn.S,{iconSize:24,title:n})}),p=(0,k.jsx)(Ir,{uri:a,playbackUri:l,title:n,menu:s}),g=(0,k.jsx)(xr,{leading:u,subtitle:c}),f=o&&(0,k.jsx)(br,{});return(0,k.jsx)(pr,{uri:a,media:d,title:p,subtitle:g,trailing:f,alt:n,dragLabel:n,menu:s,addedAt:t.addedAt,lastPlayedAt:t.lastPlayedAt})},hn=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.name,i=t.images,l=vn(t,r),a=l.playbackUri,o=l.uri,s=l.menu,u=l.subtitleLeading,c=l.subtitleText,d=(0,k.jsx)("div",{className:at,children:(0,k.jsx)(nt.x,{images:i,FallbackComponent:yn.S})}),p=(0,k.jsx)(Tr,{uri:o,playbackUri:a,title:n,menu:s}),g=(0,k.jsx)(hr,{leading:u,subtitle:c});return(0,k.jsx)(Mt,{uri:o,title:p,subtitle:g,menu:s,media:d})},jn=r(3624),Dn=r(74136);function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pn(e,t){var r=e.uri,a=e.isLoading,o=e.owner,s=e.pinned,d=e.canAddTo,p=e.canReorder,g=(0,c.useContext)(T.ZF),y=(0,c.useContext)(Qe.fo).filter;(0,c.useEffect)((function(){a&&g.resync(r)}),[g,r,a]);var b=(0,bt.n)({uri:r},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}).togglePlay,v=(0,mt.cR)(r).isPlaying,x=en(),h=x.handleDropBeforeOrAfterRootlistItem,j=x.unpinConfirmationDialog,D=(0,f.I0)(),O=(0,c.useMemo)((function(){var e;return wn(wn({},d&&(0,l.Z)({},ue.ON,[m.JM.TRACK,m.JM.LOCAL_TRACK,m.JM.ALBUM,m.JM.EPISODE])),p&&(e={},(0,l.Z)(e,ue.BEFORE,$r),(0,l.Z)(e,ue.AFTER,$r),e))}),[d,p]),w=(0,c.useCallback)(function(){var e=(0,i.Z)(u().mark((function e(t,i){var l,a,o,s,c,d,p,g,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i===ue.ON?(l=t[m.JM.TRACK],a=void 0===l?[]:l,o=t[m.JM.LOCAL_TRACK],s=void 0===o?[]:o,c=t[m.JM.ALBUM],d=void 0===c?[]:c,p=t[m.JM.EPISODE],g=void 0===p?[]:p,f=[].concat((0,n.Z)(a),(0,n.Z)(s),(0,n.Z)(d),(0,n.Z)(g)),D((0,jn.jV)(r,f))):i!==ue.BEFORE&&i!==ue.AFTER||h(t,i,r);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[D,r,h]);return{openDeleteDialog:(0,c.useCallback)((function(){D((0,dt.p_)(r))}),[D,r]),togglePlay:b,isPlaying:v,menu:(0,k.jsx)(Dn.j,{reference:e,isPinnable:!0,isPinned:s,useDialogForUnfollow:!0}),subtitleLeading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Sr,{pinned:s}),(0,k.jsx)(gt.$,{uri:r,size:16,className:Xt})]}),subtitleText:(0,k.jsxs)(k.Fragment,{children:[t&&"".concat(L.ag.get("web-player.your-library-x.type-playlist")," • "),o.uri?(0,k.jsx)(yt.Link,{to:o.uri,className:Gt,children:(0,k.jsx)(ft.o,{searchWords:[y.trim()],textToHighlight:o.name})}):(0,k.jsx)(ft.o,{searchWords:[y.trim()],textToHighlight:o.name})]}),allowedDropTargetURITypesByDropPosition:O,onDropTargetDrop:w,unpinConfirmationDialog:j}}var In=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.folderDepth,a=t.name,o=t.type,s=Pn(t,r),u=s.openDeleteDialog,c=s.togglePlay,d=s.isPlaying,p=s.menu,g=s.subtitleLeading,f=s.subtitleText,y=s.allowedDropTargetURITypesByDropPosition,b=s.onDropTargetDrop,m=s.unpinConfirmationDialog,v=(0,k.jsx)(Qt,{title:a,type:o,images:i}),x=(0,k.jsx)(Ir,{uri:n,title:a}),h=(0,k.jsx)(xr,{leading:g,subtitle:f}),j=d&&(0,k.jsx)(br,{});return(0,k.jsxs)(k.Fragment,{children:[m,(0,k.jsx)(pr,{uri:n,folderDepth:l,media:v,title:x,subtitle:h,trailing:j,alt:a,dragLabel:a,menu:p,allowedDropTargetURITypesByDropPosition:y,onDropTargetDrop:b,togglePlay:c,openDeleteDialog:u,addedAt:t.addedAt,lastPlayedAt:t.lastPlayedAt})]})},Tn=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=Pn(t,r),s=o.togglePlay,u=o.menu,c=o.subtitleLeading,d=o.subtitleText,p=o.onDropTargetDrop,g=o.allowedDropTargetURITypesByDropPosition,f=o.openDeleteDialog,y=(0,k.jsx)(qt,{title:l,type:a,images:i,uri:n,togglePlay:s}),b=(0,k.jsx)(Tr,{uri:n,title:l}),m=(0,k.jsx)(hr,{leading:c,subtitle:d});return(0,k.jsx)(Mt,{uri:n,title:b,subtitle:m,menu:u,dragLabel:l,allowedDropTargetURITypesByDropPosition:g,onDropTargetDrop:p,media:y,togglePlay:s,openDeleteDialog:f})},En=r(56080);function Sn(e,t){var r=e.uri,n=e.pinned,i=e.publisher,l=(0,c.useContext)(Qe.fo).filter,a=(0,f.I0)(),o=(0,bt.n)({uri:r},{featureIdentifier:"show",referrerIdentifier:"your_library"}).togglePlay;return{isPlaying:(0,mt.cR)(r).isPlaying,openDeleteDialog:(0,c.useCallback)((function(){a((0,dt.YU)(r))}),[a,r]),togglePlay:o,menu:(0,k.jsx)(En.M,{uri:r,isPinnable:!0,isPinned:e.pinned,useDialogForUnfollow:!0}),subtitleLeading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Sr,{pinned:n}),(0,k.jsx)(gt.$,{uri:r,size:16,className:Xt})]}),subtitleText:(0,k.jsxs)(k.Fragment,{children:[t&&"".concat(L.ag.get("web-player.your-library-x.type-show")," • "),(0,k.jsx)(ft.o,{autoEscape:!0,searchWords:[l.trim()],textToHighlight:i})]})}}var Cn=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=Sn(t,r),s=o.isPlaying,u=o.openDeleteDialog,c=o.togglePlay,d=o.menu,p=o.subtitleLeading,g=o.subtitleText,f=(0,k.jsx)(Qt,{title:l,type:a,images:i}),y=(0,k.jsx)(Ir,{uri:n,title:l,menu:d}),b=(0,k.jsx)(xr,{leading:p,subtitle:g}),m=s&&(0,k.jsx)(br,{});return(0,k.jsx)(pr,{uri:n,media:f,title:y,subtitle:b,trailing:m,alt:l,dragLabel:l,menu:d,togglePlay:c,openDeleteDialog:u,addedAt:t.addedAt,lastPlayedAt:t.lastPlayedAt})},Ln=function(e){var t=e.libraryItem,r=e.shouldShowType,n=t.uri,i=t.images,l=t.name,a=t.type,o=Sn(t,r),s=o.togglePlay,u=o.menu,c=o.subtitleLeading,d=o.subtitleText,p=o.openDeleteDialog,g=(0,k.jsx)(qt,{title:l,type:a,images:i,uri:n,togglePlay:s}),f=(0,k.jsx)(Tr,{uri:n,title:l,menu:u}),y=(0,k.jsx)(hr,{leading:c,subtitle:d});return(0,k.jsx)(Mt,{uri:n,title:f,subtitle:y,menu:u,dragLabel:l,media:g,togglePlay:s,openDeleteDialog:p})};function Rn(e){var t=e.numberOfDownloadedEpisodes,r=e.pinned,i=(0,f.v9)(cn.Gg).user,a=(0,m.wG)(null==i?void 0:i.id,"your-episodes").toURI(),o=a,s=a,u=(0,bt.n)({uri:o},{featureIdentifier:"episode",referrerIdentifier:"your_library"}).togglePlay,d=(0,mt.cR)(o).isPlaying,p=(0,c.useContext)(P.H),g=(0,c.useMemo)((function(){return(0,l.Z)({},ue.ON,[m.JM.EPISODE])}),[]),y=(0,c.useCallback)((function(e){var t=e[m.JM.EPISODE],r=void 0===t?[]:t;null!=r&&r.length&&(null==p||p.add.apply(p,(0,n.Z)(r)))}),[p]);return{isPlaying:d,togglePlay:u,menu:(0,k.jsx)(un,{uri:s,isPinned:e.pinned}),subtitleLeading:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(Sr,{pinned:r}),t?(0,k.jsx)(fn.E,{iconSize:16,className:Xt,semanticColor:"textBrightAccent"}):null]}),subtitleText:L.ag.get("web-player.your-library-x.subtitle-your-episodes"),onDropTargetDrop:y,allowedDropTargetURITypesByDropPosition:g,playbackUri:o,uri:"spotify:collection:your-episodes"}}var Zn=function(e){var t=e.libraryItem,r=t.images,n=t.name,i=t.type,l=Rn(t),a=l.isPlaying,o=l.togglePlay,s=l.menu,u=l.subtitleLeading,c=l.subtitleText,d=l.onDropTargetDrop,p=l.allowedDropTargetURITypesByDropPosition,g=l.playbackUri,f=l.uri,y=(0,k.jsx)(Qt,{title:n,type:i,images:r}),b=(0,k.jsx)(Ir,{uri:f,playbackUri:g,title:n,menu:s}),m=(0,k.jsx)(xr,{leading:u,subtitle:c}),v=a&&(0,k.jsx)(br,{});return(0,k.jsx)(pr,{uri:f,media:y,title:b,subtitle:m,trailing:v,alt:n,dragLabel:n,menu:s,allowedDropTargetURITypesByDropPosition:p,onDropTargetDrop:d,togglePlay:o,addedAt:t.addedAt,lastPlayedAt:t.lastPlayedAt})},kn=function(e){var t=e.libraryItem,r=t.images,n=t.name,i=t.type,l=Rn(t),a=l.togglePlay,o=l.menu,s=l.subtitleLeading,u=l.subtitleText,c=l.onDropTargetDrop,d=l.allowedDropTargetURITypesByDropPosition,p=l.playbackUri,g=l.uri,f=(0,k.jsx)(qt,{title:n,type:i,images:r,uri:g,togglePlay:a}),y=(0,k.jsx)(Tr,{uri:g,playbackUri:p,title:n,menu:o}),b=(0,k.jsx)(hr,{leading:s,subtitle:u});return(0,k.jsx)(Mt,{uri:g,title:y,subtitle:b,menu:o,dragLabel:n,allowedDropTargetURITypesByDropPosition:d,onDropTargetDrop:c,media:f,togglePlay:a})},An=c.memo((function(e){var t=e.libraryItem,r=e.primaryFilter,n=e.gridViewEnabled,i=void 0!==n&&n;switch(t.type){case S.p.FOLDER:return i?(0,k.jsx)(ln,{libraryItem:t}):(0,k.jsx)(nn,{libraryItem:t});case S.p.ALBUM:return i?(0,k.jsx)(Rr,{libraryItem:t,shouldShowType:r!==S.p.ALBUM}):(0,k.jsx)(Lr,{libraryItem:t,shouldShowType:r!==S.p.ALBUM});case S.p.ARTIST:return i?(0,k.jsx)(Nr,{libraryItem:t,shouldShowType:r!==S.p.ARTIST}):(0,k.jsx)(Ar,{libraryItem:t,shouldShowType:r!==S.p.ARTIST});case S.p.AUDIOBOOK:return i?(0,k.jsx)(Mr,{libraryItem:t,shouldShowType:r!==S.p.AUDIOBOOK}):(0,k.jsx)(_r,{libraryItem:t,shouldShowType:r!==S.p.AUDIOBOOK});case S.p.SHOW:return i?(0,k.jsx)(Ln,{libraryItem:t,shouldShowType:r!==S.p.SHOW}):(0,k.jsx)(Cn,{libraryItem:t,shouldShowType:r!==S.p.SHOW});case S.p.PLAYLIST:return i?(0,k.jsx)(Tn,{libraryItem:t,shouldShowType:r!==S.p.PLAYLIST}):(0,k.jsx)(In,{libraryItem:t,shouldShowType:r!==S.p.PLAYLIST});case S.p.LIKED_SONGS:return i?(0,k.jsx)(gn,{libraryItem:t,shouldShowType:r!==S.p.PLAYLIST}):(0,k.jsx)(pn,{libraryItem:t,shouldShowType:r!==S.p.PLAYLIST});case S.p.YOUR_EPISODES:return i?(0,k.jsx)(kn,{libraryItem:t}):(0,k.jsx)(Zn,{libraryItem:t});case S.p.LOCAL_FILES:return i?(0,k.jsx)(hn,{libraryItem:t,shouldShowType:r!==S.p.PLAYLIST}):(0,k.jsx)(xn,{libraryItem:t,shouldShowType:r!==S.p.PLAYLIST});default:return(0,ct._)(t),null}})),Nn=function(e){var t=e.getItems,r=e.scrollNodeRef,n=e.primaryFilter,i=e.nrValidItems,l=(0,c.useCallback)((function(e){return(0,k.jsx)(An,{libraryItem:e,primaryFilter:n,gridViewEnabled:!0},e.uri)}),[n]),a=(0,c.useCallback)((function(e){return(0,k.jsx)(ut,{index:e},e)}),[]),o=(0,c.useCallback)((function(e,r){return t(e,r).map((function(t,r){return t?l(t):a("".concat(e+r))}))}),[t,l,a]);return(0,k.jsx)(Pt,{children:(0,k.jsx)(et.u,{renderItems:o,nrItems:i,estimatedItemMaxHeight:250,scrollNodeRef:r})})},Fn=r(41037),Un=r(58493),_n=r(47071),Mn=r(45759),Bn=r(67591),Jn=r(76456),zn=r(75633),Kn=r(77870),Hn=r(19267),Yn=r(47607),Wn=r(75379),Vn=r(92303),Gn=function(e){var t=e.folderUri,r=(0,N.K)().createPlaylist,n=(0,T.lh)().createFolder,i=t?{after:{uri:t}}:{before:"start"};return(0,k.jsxs)(an.v,{children:[(0,k.jsx)(Vn.s,{onClick:function(){r(void 0,i)},role:"menuitem",icon:(0,k.jsx)(Yn.h,{iconSize:16}),iconPosition:"leading",children:L.ag.get("web-player.your-library-x.create.create-a-new-playlist")}),(0,k.jsx)(Vn.s,{onClick:function(){n(L.ag.get("web-player.your-library-x.default_folder_name"),i)},role:"menuitem",icon:(0,k.jsx)(Wn.P,{iconSize:16}),iconPosition:"leading",children:L.ag.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},Xn=["className","dropPosition"];function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $n=function(e){var t=e.className,r=void 0===t?"":t,n=e.folderUri,i=e.tooltipPlacement,o=L.ag.get("web-player.your-library-x.create.button-label"),s=(0,N.K)(),u=s.createPlaylistFromAlbum,d=s.createPlaylistFromTracks,g=s.createPlaylistFromPlaylist,f=ke({allowedURITypesByDropPosition:(0,l.Z)({},ue.ON,[m.JM.TRACK,m.JM.ALBUM,m.JM.PLAYLIST_V2]),onDrop:(0,c.useCallback)((function(e){var t=e[m.JM.TRACK],r=e[m.JM.ALBUM],n=e[m.JM.PLAYLIST_V2],i=void 0===n?[]:n;null!=t&&t.length&&d(t,{before:"start"}),null!=r&&r.length&&u(r[0],{before:"start"}),i.length&&g(i[0],{before:"start"})}),[u,g,d])}),y=f.className,b=f.dropPosition,v=(0,a.Z)(f,Xn);return(0,k.jsx)(Lt.xV,{renderInline:!0,menu:(0,k.jsx)(Gn,{folderUri:n}),preventScrollingWhileOpen:!1,children:function(e,t,n){return(0,k.jsx)(nr._,{label:o,placement:i,children:(0,k.jsx)(Br.o,qn({ref:n,iconOnly:Hn.S,className:p()(r,y,(0,l.Z)({},Ne,b===ue.ON)),"aria-label":o,onClick:t,buttonSize:"sm"},v))})}})},ei=r(79498),ti=r(42554);const ri="_4JcTGCbNeqSDgdBfKdfy",ni="wB8ig1vfWJiTattGsxKX";var ii,li=function(){var e=(0,ti.W)(),t=e.syncing,r=e.percentage,n=e.currentItem,i=e.totalItems;return t?(0,k.jsxs)("div",{className:ri,children:[(0,k.jsxs)("div",{className:ni,children:[(0,k.jsx)(C.D,{variant:"mestoBold",semanticColor:"textBase",children:L.ag.get("web-player.your-library-x.download-progress-title")}),(0,k.jsx)(C.D,{variant:"mestoBold",semanticColor:"textBase",children:L.ag.get("web-player.your-library-x.download-progress-count-out-of-total",n,i)})]}),(0,k.jsx)(ei.k,{value:r})]}):null};!function(e){e[e.LIST=0]="LIST",e[e.GRID=1]="GRID"}(ii||(ii={}));var ai=function(){var e=(0,or.U)().isExpanded,t=(0,ee.z)("items-view",ii.LIST),r=(0,o.Z)(t,2),n=r[0];return{itemsView:n,setItemsView:r[1],isGridView:n===ii.GRID&&e}};const oi="UvXqRORKQr_N3jlgGTcS",si="j8iKBDzqTDtnDv4XbmrK",ui="RAWO6AczuDMOTI0qAc0a",ci="As1_dlh0rk1n41TFzTRA",di="OMCDc2F7g_AufJAtaKfL",pi="TxO7Ee8iwqBpkgznKHsd",gi="ksmcxhImUuj3_s1lcIm0",fi="O2Vp_sNHMLHUcgMPVnOA",yi="WYU7SXdABSulyirnmIYb",bi="DF8qJeKP7CRNb13tJeJg";var mi=["dropPosition","className"];function vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var hi=function(e){var t=e.parentDropTargetClassName,r=e.isLibraryCompletelyEmpty,n=e.folderName,i=(0,or.U)(),o=i.isCollapsed,s=i.ylxSidebarState,u=i.setYlxSidebarState,d=ai(),g=d.isGridView,f=d.setItemsView,y=(0,T.lh)().renameFolder,b=(0,c.useContext)(qe),m=b.openedFolderUri,v=b.popFolder,x=!o||r&&o,h=(0,c.useRef)(null);(0,c.useEffect)((function(){s!==or.c.COLLAPSED&&(h.current=s)}),[s]);var j=(0,c.useCallback)((function(){var e;u(s===or.c.COLLAPSED?null!==(e=h.current)&&void 0!==e?e:or.c.DEFAULT:or.c.COLLAPSED)}),[s,u]),D=(0,c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";m&&y({uri:m},e)}),[m,y]),O=(0,c.useCallback)((function(){v()}),[v]),w=(0,mt.cR)(null!=m?m:"not-a-folder").isActive,P=m?(0,k.jsx)(Kr.A,{reference:{uri:m},name:n,onRename:D,onDeleteCallback:O}):null,I=ke({allowedURITypesByDropPosition:(0,l.Z)({},ue.ON,gl),onLongDragOver:O}),E=I.dropPosition,S=I.className,R=(0,a.Z)(I,mi);return(0,k.jsxs)("header",{className:p()(oi,(0,l.Z)({},fi,o)),children:[!o&&(0,k.jsx)(li,{}),(0,k.jsxs)("div",{className:si,children:[(0,k.jsx)(nr._,{label:o?L.ag.get("web-player.your-library-x.expand-your-library"):L.ag.get("web-player.your-library-x.collapse-your-library"),placement:o?"right":void 0,children:(0,k.jsx)(Br.o,{"aria-label":o?L.ag.get("web-player.your-library-x.expand-your-library"):L.ag.get("web-player.your-library-x.collapse-your-library"),onClick:j,className:p()(ui,di,t),condensed:!0,iconLeading:m||o?void 0:Fn.$,iconOnly:m||o?Un.n:void 0,children:!m&&!o&&L.ag.get("web-player.your-library-x.your-library")})}),!o&&m&&(0,k.jsx)("div",{className:yi,children:(0,k.jsx)(Lt._P,{menu:P,children:(0,k.jsx)(Br.o,xi(xi({"aria-label":L.ag.get("web-player.your-library-x.navigate-back-folder"),onClick:O,iconLeading:_n.e,buttonSize:"sm",className:p()(ci,di,S,(0,l.Z)({},Ne,E===ue.ON))},R),{},{children:(0,k.jsx)(C.D,{variant:"balladBold",semanticColor:w?"textBrightAccent":void 0,className:bi,children:n})}))})}),x&&(0,k.jsx)($n,{className:p()(gi,di,pi),folderUri:m,tooltipPlacement:o?"right":void 0}),m&&!o&&(0,k.jsx)(Lt.yj,{menu:P,children:(0,k.jsx)("span",{children:(0,k.jsx)(nr._,{label:L.ag.get("more.label.context",n),children:(0,k.jsx)(Br.o,{className:p()(di,pi,t),iconOnly:Mn.N,"aria-haspopup":"menu","aria-label":L.ag.get("more.label.context",n),buttonSize:"sm"})})})}),s===or.c.EXPANDED&&(0,k.jsx)(nr._,{label:g?L.ag.get("web-player.your-library-x.list-view"):L.ag.get("web-player.your-library-x.grid-view"),children:(0,k.jsx)(Br.o,{className:p()(di,t),iconOnly:g?Kn.d:zn.z,"aria-label":g?L.ag.get("web-player.your-library-x.list-view"):L.ag.get("web-player.your-library-x.grid-view"),onClick:function(){f(g?ii.LIST:ii.GRID)},buttonSize:"sm"})}),(s===or.c.DEFAULT||s===or.c.EXPANDED)&&(0,k.jsx)(nr._,{label:s===or.c.DEFAULT?L.ag.get("web-player.your-library-x.expand-your-library"):L.ag.get("web-player.your-library-x.collapse-your-library"),children:(0,k.jsx)(Br.o,{className:p()(di,pi,t),iconOnly:s===or.c.DEFAULT?Bn.E:Jn.D,"aria-label":s===or.c.DEFAULT?L.ag.get("web-player.your-library-x.expand-your-library"):L.ag.get("web-player.your-library-x.collapse-your-library"),onClick:function(){u(s===or.c.DEFAULT?or.c.EXPANDED:or.c.DEFAULT)},buttonSize:"sm"})})]})]})},ji=r(97018),Di=function(e){var t=e.height;return(0,k.jsx)(rr.E,{className:le,style:{height:t}})},Oi=function(e){var t=e.getItems,r=e.scrollNodeRef,n=e.primaryFilter,i=e.nrValidItems,l=(0,c.useCallback)((function(e){return(0,k.jsx)(An,{libraryItem:e,primaryFilter:n},e.uri)}),[n]),a=(0,c.useCallback)((function(e,t){return(0,k.jsx)(Di,{height:e},t)}),[]),o=(0,c.useCallback)((function(e,r){return t(e,r).map((function(t,r){return t?l(t):a("".concat(64,"px"),"".concat(e+r))}))}),[t,l,a]);return(0,k.jsx)(rr.A,{circular:!1,allowsMultipleInteractiveChildrenInItem:!0,children:(0,k.jsx)(ji.V,{renderRows:o,nrRows:i,rowHeight:64,scrollNodeRef:r,renderPlaceholder:a})})},wi=(r(7232),r(83590)),Pi=r(87995),Ii=r(95442),Ti=r(96657);const Ei="oszTUDKpXrPHyeWPs276",Si="cKHK53VIATgkMZYQDfol",Ci="QMGfkFWtxrVkgNgFXDyw";var Li=function(e){var t,r,n=e.id,i=e.title,l=e.bodyText,a=e.children,s=e.root,u=e.show,d=e.childrenWrapperClassName,p=(0,ee.z)("onboarding-dismissed:".concat(n),!1),g=(0,o.Z)(p,2),f=g[0],y=g[1],b=(0,c.useState)(null),m=(0,o.Z)(b,2),v=m[0],x=m[1],h=(0,c.useState)(null),j=(0,o.Z)(h,2),D=j[0],O=j[1],w=(0,c.useCallback)((function(){return y(!0)}),[y]);(0,c.useEffect)((function(){if(f)return function(){};var e=function(e){"Escape"===e.key&&w()};return window.addEventListener("keydown",e,!0),function(){window.removeEventListener("keydown",e,!0)}}),[f,w,D]);var P=null==v?void 0:v.getBoundingClientRect();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("span",{ref:x,className:d,children:a}),!f&&P&&u&&(0,Pi.createPortal)((0,k.jsx)("div",{className:Ei,style:{top:null!==(t=null==P?void 0:P.top)&&void 0!==t?t:0,left:null!==(r=null==P?void 0:P.left)&&void 0!==r?r:0,width:null==P?void 0:P.width,height:null==P?void 0:P.height},ref:O,children:(0,k.jsxs)(Ti.J,{popoverTitle:i,arrow:Ti.J.left,colorSet:"announcement",className:Si,children:[(0,k.jsx)(C.D,{as:"p",dangerouslySetInnerHTML:{__html:l||""}}),(0,k.jsx)(Br.o,{buttonSize:"sm",onClick:w,iconOnly:Ii.k,"aria-label":L.ag.get("close"),className:Ci,size:16})]})}),s||document.body)]})};const Ri="RGofdOZulhL2p9MRA5hg",Zi="XZRX_ea9eNn4rOLpNGLp";var ki=function(e){var t,r,n,i=e.sortOrders,l=e.activeSortOrderId,a=e.setActiveSortOrderId,o=e.root,s=e.showReorderingOnboarding,u=null!==(t=i.find((function(e){return e.id===l})))&&void 0!==t?t:null==i?void 0:i.at(0),d=(0,c.useRef)(null);return(0,k.jsx)("div",{className:Ri,ref:d,children:(0,k.jsx)(Li,{id:"ylx-playlist-ordering",bodyText:L.ag.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:o,show:s,childrenWrapperClassName:Zi,children:(0,k.jsx)(wi.A,{options:i.map((function(e){return{key:e.id,value:e.name}})),onSelect:a,selected:{key:null!==(r=null==u?void 0:u.id)&&void 0!==r?r:"",value:null!==(n=null==u?void 0:u.name)&&void 0!==n?n:""},heading:L.ag.get("web-player.your-library-x.sort_by")})})})},Ai=r(4086);var Ni=function(e){var t=e.clearOnEscapeInElementRef,r=e.primaryFilter,n=(0,Yr.y)(),i=function(e){switch(e){case S.p.ALBUM:return L.ag.get("web-player.your-library-x.text-filter.albums-placeholder");case S.p.ARTIST:return L.ag.get("web-player.your-library-x.text-filter.artists-placeholder");case S.p.PLAYLIST:return L.ag.get("web-player.your-library-x.text-filter.playlists-placeholder");case S.p.SHOW:return L.ag.get("web-player.your-library-x.text-filter.shows-placeholder");case S.p.AUDIOBOOK:return L.ag.get("web-player.your-library-x.text-filter.audiobooks-placeholder");case"downloaded":return L.ag.get("web-player.your-library-x.text-filter.downloaded-placeholder");case void 0:return L.ag.get("web-player.your-library-x.text-filter.generic-placeholder");default:return void(0,ct._)(e)}}(r);return(0,k.jsx)(Ai.K,{placeholder:i,clearOnEscapeInElementRef:t,debounceFilterChangeTimeout:null!=n&&n.getCapabilities().canTextFilterContentsInRealtime?0:void 0})},Fi=r(71522),Ui=r(32318);var _i=r(71212),Mi=r(80244),Bi=r(65659);function Ji(){var e=(0,c.useState)(!1),t=(0,o.Z)(e,2),r=t[0],n=t[1],i=(0,c.useState)(0),l=(0,o.Z)(i,2),a=l[0],s=l[1];return(0,Bi.b)(Mi.EW.UPDATE_PIN_ERROR,(function(e){s(e.data.maximumPinnedItems),n(!0)})),r?(0,k.jsx)(_i.w,{headingMessage:L.ag.get("web-player.your-library-x.pin-error.title"),message:L.ag.get("web-player.your-library-x.pin-error.message",a),buttonLabel:L.ag.get("web-player.your-library-x.pin-error.ok"),isOpen:r,onDismissDialog:function(){return n(!1)}}):null}function zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hi,Yi=r(64166),Wi=r(22924),Vi=r(75991),Gi=(Hi={},(0,l.Z)(Hi,Mi.XD.ALBUMS,S.p.ALBUM),(0,l.Z)(Hi,Mi.XD.ARTISTS,S.p.ARTIST),(0,l.Z)(Hi,Mi.XD.BOOKS,S.p.AUDIOBOOK),(0,l.Z)(Hi,Mi.XD.EPISODES,S.p.EPISODE),(0,l.Z)(Hi,Mi.XD.SHOWS,S.p.SHOW),(0,l.Z)(Hi,Mi.XD.TRACKS,S.p.TRACK),Hi);function Xi(e,t){var r=(0,c.useCallback)((function(r){var n=r.data.list;Qi(e,Gi[n])&&t()}),[e,t]);(0,Bi.b)(Mi.EW.UPDATE,r),(0,Bi.b)(Mi.EW.UPDATE_PIN,t);var n=(0,c.useCallback)((function(){Qi(e,S.p.PLAYLIST)&&t()}),[e,t]);(0,T.iu)(n),function(e){(0,c.useEffect)((function(){var t=(0,Vi.k)(),r=/^hm:\/\/collection\/ylpin\//;return t.matchMessages(r,e),function(){t.unmatchMessages(r,e)}}),[e])}(t),function(e){var t=(0,c.useContext)(Wi.t),r=t.getEvents();(0,c.useEffect)((function(){return r.addListener(Yi.p.UPDATE,e),function(){r.removeListener(Yi.p.UPDATE,e)}}),[t,r,e])}(t)}function Qi(e,t){switch(e){case S.p.ALBUM:case S.p.ARTIST:case S.p.AUDIOBOOK:case S.p.SHOW:return e===t;case S.p.PLAYLIST:switch(t){case S.p.TRACK:case S.p.PLAYLIST:case S.p.EPISODE:return!0;default:return!1}default:return!0}}const qi="PpUTJL2NIYDUnmfzVIbE",$i="kJ_Q4aphh_uCJCZdzPpD",el="dNphEfQzPRaQufS04jUm",tl="_0FuodatXU4_fToYAuYtY",rl="_K79lE9KrIAkl_bUSSUM",nl="ifVI2CEdOZGgMWIUN2Cw",il="MLbFLVC33caOj3FgSQMC",ll="HUFl7FOi5oAlMEZNCBf4",al="y2UicQnlTq148rL8Y0jp",ol="wBsWS202aGdsul2kEGUf";var sl=["dropPosition","className"],ul=["offset","limit","items"];function cl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cl(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pl={items:[],totalLength:0},gl=[m.JM.TRACK,m.JM.ALBUM,m.JM.ARTIST,m.JM.PLAYLIST_V2,m.JM.SHOW,m.JM.EPISODE],fl=[m.JM.TRACK,m.JM.LOCAL_TRACK,m.JM.ALBUM,m.JM.EPISODE,m.JM.PLAYLIST_V2],yl=function(){var e,t,r,s,d,f,v,x,E,C,L,R,Z=(0,c.useContext)(Qe.fo).filter,N=(0,c.useState)(null),F=(0,o.Z)(N,2),U=F[0],_=F[1],M=function(e){var t=(0,ee.z)("ylx-active-filter-ids",[]),r=(0,o.Z)(t,2),n=r[0],i=r[1],l=(0,c.useRef)(!0),a=(0,b.jP)((function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Set(e);n.has(t)?n.delete(t):n.add(t),l.current=r,i(Array.from(n))}),[e,i]),s=(0,c.useCallback)((function(){return i([])}),[i]);return{filtersPickedByUserRef:l,selectedFilterIds:n,resetFilterIds:s,toggleFilterId:a}}(null!==(e=null==U||null===(t=U.selectedFilters)||void 0===t?void 0:t.map((function(e){return e.id})))&&void 0!==e?e:[]),B=M.filtersPickedByUserRef,J=M.selectedFilterIds,K=M.resetFilterIds,H=M.toggleFilterId,Y=null==J?void 0:J[0],W=(v=Y,x=(0,ee.z)("ylx-active-sort-order-by-filter-id",{}),E=(0,o.Z)(x,2),C=E[0],L=E[1],R="".concat(v),{selectedSortOrderId:C[R],setSelectedSortOrderId:(0,c.useCallback)((function(e){L(Ki(Ki({},C),{},(0,l.Z)({},R,e)))}),[R,C,L])}),G=W.selectedSortOrderId,X=W.setSelectedSortOrderId,Q=(0,c.useRef)(null),te=(0,c.useRef)(null),re=(0,c.useContext)($).expandedFolders,ne=(0,c.useContext)(qe),ie=ne.openedFolderUri,le=ne.resetFolder,ae=(0,I.I)(),oe=(0,c.useContext)(P.H),se=(0,T.lh)().addPlaylists,de=(0,c.useState)(!1),pe=(0,o.Z)(de,2),ge=pe[0],fe=pe[1],ye=(0,or.U)(),be=ye.isCollapsed,me=ye.isExpanded,ve=ye.setYlxSidebarState,xe=ai().isGridView;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=(0,Ui.k)(),i=(0,c.useContext)(P.H).getContentsDownloadedFilterId(),l=(0,c.useRef)(e);l.current=e;var a=(0,c.useRef)(t);a.current=t;var o=(0,c.useRef)(r);o.current=r;var s=(0,c.useRef)(!1);(0,c.useEffect)((function(){if(i){var e=a.current.includes(i),t=l.current.includes(i),r=a.current.length>1,u=!n&&!r&&!e&&t,c=n&&e&&s.current;(u||c)&&(u&&(s.current=!0),o.current(i,!1))}}),[i,n]);var u=(0,c.useRef)(t);(0,b.KW)((function(){i&&(t.includes(i)&&!u.current.includes(i)&&s.current||(s.current=!1),u.current=t)}),[i,t])}(null==U||null===(r=U.availableFilters)||void 0===r?void 0:r.map((function(e){return e.id})),null==U||null===(s=U.selectedFilters)||void 0===s?void 0:s.map((function(e){return e.id})),H);var he=qr(),je=he.handleDropOnFolder,De=he.unpinConfirmationDialog,Oe=(0,c.useState)(!1),we=(0,o.Z)(Oe,2),Pe=we[0],Ie=we[1],Te=(0,c.useCallback)((function(){Ie(!0),document.addEventListener("drop",(function(){return Ie(!1)}),{once:!0})}),[]),Ee=ie?fl:gl,Se=ke({allowedURITypesByDropPosition:(0,l.Z)({},ue.ON,Pe?[]:Ee),onDrop:(0,c.useCallback)(function(){var e=(0,i.Z)(u().mark((function e(t){var r,i,l,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie?je(t,ie):(r=t[m.JM.TRACK],i=t[m.JM.ALBUM],l=t[m.JM.ARTIST],a=t[m.JM.EPISODE],o=t[m.JM.SHOW],s=t[m.JM.PLAYLIST_V2],c=void 0===s?[]:s,null!=r&&r.length&&(null==oe||oe.add.apply(oe,(0,n.Z)(r))),null!=i&&i.length&&(null==oe||oe.add.apply(oe,(0,n.Z)(i))),null!=l&&l.length&&(null==oe||oe.add.apply(oe,(0,n.Z)(l))),null!=a&&a.length&&(null==oe||oe.add.apply(oe,(0,n.Z)(a))),null!=o&&o.length&&(null==oe||oe.add.apply(oe,(0,n.Z)(o))),c.length&&se(c,{before:"start"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[je,oe,se,ie]),onLongDragOver:(0,c.useCallback)((function(){be&&ve(or.c.DEFAULT)}),[be,ve])}),Ce=Se.dropPosition,Le=Se.className,Re=(0,a.Z)(Se,sl),Ze=(0,c.useMemo)((function(){return{filters:J,sortOrder:G,textFilter:Z,includeLocalFiles:ae,includeYourEpisodes:!0,expandedFolders:be||xe?[]:re,filtersPickedByUser:B.current,folderUri:ie}}),[re,B,ae,xe,be,ie,J,G,Z]),Ne=(0,c.useRef)(Ze);Ne.current=Ze;var Fe=(0,c.useCallback)(function(){var e=(0,i.Z)(u().mark((function e(t,r){var n,i,l,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Ze,e.next=4,oe.getContents(dl({offset:t,limit:r},Ze));case 4:return i=e.sent,l=!(0,g.J)(n,Ne.current),i.offset,i.limit,i.items,o=(0,a.Z)(i,ul),l||_((function(e){return(0,g.J)(o,e)?e:o})),e.abrupt("return",dl({fetchedId:Ze.folderUri},i));case 11:if(e.prev=11,e.t0=e.catch(0),!(e.t0 instanceof w.Ik)){e.next=18;break}return K(),e.abrupt("return",pl);case 18:if(!(e.t0 instanceof w.j2)){e.next=23;break}return X(void 0),e.abrupt("return",pl);case 23:if(!(e.t0 instanceof w.xX)){e.next=26;break}return le(),e.abrupt("return",pl);case 26:throw fe(!0),e.t0;case 28:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}(),[Ze,oe,K,le,X]),Ue=!1===(null==U?void 0:U.hasUnfilteredItems),_e=(null==U?void 0:U.hasTextFilter)&&0===U.totalLength&&""!==Z,Me=0===(null==U?void 0:U.totalLength)&&U.selectedFilters.length>0&&!(null!=U&&U.hasTextFilter)&&(null==U?void 0:U.hasUnfilteredItems);(0,b.KW)((function(){var e=null==U?void 0:U.selectedFilters.at(-1);Me&&e&&H(e.id,!1)}),[Me,null==U?void 0:U.selectedFilters]);var Be=(0,D.Q)({nrItems:50,fetch:Fe,limit:50}),Je=Be.fetchedId,ze=Be.getItems,Ke=Be.nrValidItems,He=Be.invalidateCache,Ye=(0,y.y1)(He,200,{leading:!0,trailing:!0,maxWait:1e3});Xi(null==U?void 0:U.primaryFilter,Ye);var We=!ie&&!Je||ie===Je;!function(e,t,r){var n=(0,c.useRef)(""),i=(0,Rt.TH)(),l=(0,Yr.y)(),a=(0,c.useCallback)((function(r){if(e.current){var n=e.current,i=n.scrollTop,l=n.offsetHeight,a=t.current?t.current.getBoundingClientRect().top+i-e.current.getBoundingClientRect().top:0;if(a+r<i||a+r+64>i+l){var o=r-l/2+a+32;e.current.scrollTop=o}}}),[e,t]),o=(0,c.useRef)(0);(0,c.useEffect)((function(){var t;if(e.current){var s=null===(t=(0,m.EC)(i.pathname))||void 0===t?void 0:t.toURI();if(s&&!(0,m.U4)(s,n.current)){var u,c=++o.current;null==l||l.findContentsItemIndex(s,null!==(u=r.current)&&void 0!==u?u:void 0).then((function(e){c!==o.current||-1===e||(a(64*e),n.current=s)}))}}}),[r,l,i,a,e])}(Q,te,Ne),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=(0,c.useRef)({});(0,c.useLayoutEffect)((function(){if(!e.current)return function(){};var n=e.current,i=r.current[t];n.scrollTop=null!=i?i:0;var l=function(){r.current[t]=n.scrollTop};return null==n||n.addEventListener("scroll",l),function(){null==n||n.removeEventListener("scroll",l)}}),[e,t])}(Q,Je);var Ve=(0,c.useCallback)((function(){He(),fe(!1)}),[He]),Ge=(0,c.useRef)(null),$e=(0,c.useState)(null),et=(0,o.Z)($e,2),tt=et[0],rt=et[1];(0,O.y)({refOrElement:Ge,observeOnly:"width",observeOnMount:!0,onResize:function(e){var t=e.width;rt(t)}});var nt,it=function(e){var t,r=(0,c.useState)(!1),n=(0,o.Z)(r,2),i=n[0],l=n[1];return(0,c.useEffect)((function(){var t;if(!window.IntersectionObserver)return function(){};var r=new window.IntersectionObserver((function(e){e.forEach((function(e){l(!e.isIntersecting)}))}),{root:e.current,rootMargin:"-100% 0px 0px 0px",threshold:0});return null!==(t=e.current)&&void 0!==t&&t.firstElementChild&&r.observe(e.current.firstElementChild),function(){r.disconnect()}}),[e]),i&&!(null===(t=e.current)||void 0===t||!t.scrollTop)}(Q),lt=(0,h.o)().isExpanded;if(ge)nt=(0,k.jsx)(q,{onClick:Ve});else if(!be){var at,ot;if(Ue)nt=ie?(0,k.jsx)(A,{className:Le}):(0,k.jsx)(z,{className:Le});else nt=(0,k.jsxs)("div",{className:p()(tl,Le),children:[(0,k.jsx)(Ni,{clearOnEscapeInElementRef:Ge,primaryFilter:null==U?void 0:U.primaryFilter},ie),(0,k.jsx)(ki,{sortOrders:null!==(at=null==U?void 0:U.availableSortOrders)&&void 0!==at?at:[],activeSortOrderId:null==U||null===(ot=U.selectedSortOrder)||void 0===ot?void 0:ot.id,setActiveSortOrderId:X,root:Ge.current,showReorderingOnboarding:(null==U?void 0:U.primaryFilter)===S.p.PLAYLIST&&!(null!=U&&U.reorderAllowed)})]})}var st=ge&&!U;return(0,k.jsxs)("div",dl(dl({className:p()(qi,(d={},(0,l.Z)(d,Ae,Ce===ue.ON),(0,l.Z)(d,el,be),(0,l.Z)(d,$i,lt),d)),ref:Ge},Re),{},{onDragStart:Te,children:[De,(0,k.jsxs)("div",{className:p()((0,l.Z)({},al,it)),children:[(0,k.jsx)(hi,{parentDropTargetClassName:Le,isLibraryCompletelyEmpty:Ue,folderName:null==U?void 0:U.openedFolderName}),!be&&!st&&(0,k.jsxs)("div",{className:ol,children:[(0,k.jsx)(Xe,{selectedFilters:null==U?void 0:U.selectedFilters,availableFilters:null==U?void 0:U.availableFilters,toggleFilterId:H,resetFilterIds:K,className:p()(il,(0,l.Z)({},ll,!We)),scrollNodeRef:Q},Je),me&&nt]}),me&&!xe&&(0,k.jsx)(ce,{})]}),(0,k.jsx)(Fi.U,{className:rl,ref:function(e){e&&!Q.current&&(Q.current=e.osInstance().getElements().viewport)},children:(0,k.jsx)(j.M,{value:tt,children:(0,k.jsxs)("div",{className:p()(nl,(f={},(0,l.Z)(f,ll,!ge&&!We),(0,l.Z)(f,el,be),(0,l.Z)(f,$i,lt),f)),children:[!me&&nt,_e&&(0,k.jsx)(V,{query:Z,className:Le},"empty-search"),(0,k.jsx)("div",{ref:te,children:xe?(0,k.jsx)(Nn,{getItems:ze,scrollNodeRef:Q,primaryFilter:null==U?void 0:U.primaryFilter,nrValidItems:Ke}):(0,k.jsx)(Oi,{getItems:ze,scrollNodeRef:Q,primaryFilter:null==U?void 0:U.primaryFilter,nrValidItems:Ke})})]})})}),Ji()]}))},bl=function(){var e=(0,f.v9)((function(e){return e.session})).isAnonymous;return(0,k.jsx)(v.L,{onError:function(e){(0,E.vK)(e,"YourLibraryX")},children:(0,k.jsx)(Qe.hz,{uri:"spotify:collection",children:(0,k.jsx)(te,{children:(0,k.jsxs)($e,{children:[(0,k.jsx)(yl,{}),(0,k.jsx)(x.W,{isAnonymous:e})]})})})})}},56777:(e,t,r)=>{r.d(t,{O:()=>D,K:()=>m});var n=r(24255),i=(r(33208),r(93019),r(66608),r(78390),r(47408),r(3726),r(58549),r(24353),r(88178),r(79075),r(26870),r(86978),r(98618),r(40905),r(79410),r(21105),r(72753),r(59496)),l=r(84875),a=r.n(l),o=r(71789),s=r(47247);const u="g3kBhX1E4EYEC2NFhhxG",c="O5_0cReFdHe81E0xFAD1",d="H71KtIrytVayf_dFofu7",p="SBpny8HrUTBzSjk7Vtk1",g="CxurIfvXVb_TqGF4q8Yf",f="OadpZJiOaGfX6Qp4j6n5",y="iJp40IxKg6emF6KYJ414",b="vreceNX3ABcxyddeS83B";var m,v=r(60378),x=r(4637);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE"}(m||(m={}));var D=(0,i.memo)((function(e){var t,r,i,l,h,D,O=e.loadingMode,w=void 0===O?"lazy":O,P=e.type,I=e.title,T=e.images,E=void 0===T?[]:T,S=e.shape,C=void 0===S?m.SQUARE:S,L=e.size,R=void 0===L?s.m$.SIZE_56:L,Z=e.iconSize,k=e.className,A=e.onContextMenu,N=void 0===A?function(){}:A,F=e.onTouchStart,U=void 0===F?function(){}:F,_=e.onTouchEnd,M=void 0===_?function(){}:_,B=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(e){return Boolean(e.width)})),t=e.filter((function(e){return e.url&&e.width&&e.width>=s.eM[s.m$.SIZE_56]})).sort((function(e,t){return e.width-t.width}));return t.length?t:e}(E),J=null!==(t=null!==(r=null===(i=B[0])||void 0===i?void 0:i.url)&&void 0!==r?r:null===(l=E[0])||void 0===l?void 0:l.url)&&void 0!==t?t:"",z=B.map((function(e){var t=e.url,r=e.width;return"".concat(t," ").concat(r/2,"w, ").concat(t," ").concat(r,"w")})).join(", "),K=function(){var e;return e={},(0,n.Z)(e,u,s.pj.includes(R)),(0,n.Z)(e,c,s.wL.includes(R)),(0,n.Z)(e,d,s.VZ.includes(R)),(0,n.Z)(e,p,s.B_.includes(R)),e};return(0,x.jsx)("div",{className:a()(b,k),onContextMenu:N,onTouchStart:U,onTouchEnd:M,style:{width:"".concat(s.eM[R],"px"),height:"".concat(s.eM[R],"px")},children:(0,x.jsx)(o.E,{loading:w,src:J,alt:I,ariaHidden:!0,className:a()(y,j((h={},(0,n.Z)(h,f,C===m.CIRCLE),(0,n.Z)(h,g,C===m.SQUARE),h),K())),srcSet:z||void 0,testid:"entity-image",children:(0,x.jsx)(v.j,{title:I,type:P,iconSize:Z,className:a()(j((D={},(0,n.Z)(D,f,C===m.CIRCLE),(0,n.Z)(D,g,C===m.SQUARE),D),K()))})})})}))},60378:(e,t,r)=>{r.d(t,{j:()=>c});var n=r(24255),i=r(84875),l=r.n(i);const a="Ozitxbqs1vcOukDz3GDw",o="AeEoI6ueagbJtaHl2cRd";var s=r(89199),u=r(4637),c=function(e){var t=e.title,r=e.type,i=e.className,c=e.iconSize;return(0,u.jsx)("div",{"aria-label":t,className:l()(a,i),children:(0,u.jsx)(s.t,{type:r,className:l()((0,n.Z)({},o,!c)),iconSize:c})})}},47247:(e,t,r)=>{r.d(t,{B_:()=>c,VZ:()=>u,eM:()=>a,m$:()=>i,pj:()=>o,wL:()=>s});var n,i,l=r(24255);!function(e){e[e.SIZE_48=0]="SIZE_48",e[e.SIZE_56=1]="SIZE_56",e[e.SIZE_64=2]="SIZE_64",e[e.SIZE_72=3]="SIZE_72",e[e.SIZE_80=4]="SIZE_80",e[e.SIZE_96=5]="SIZE_96",e[e.SIZE_104=6]="SIZE_104",e[e.SIZE_112=7]="SIZE_112",e[e.SIZE_120=8]="SIZE_120",e[e.SIZE_128=9]="SIZE_128",e[e.SIZE_136=10]="SIZE_136",e[e.SIZE_144=11]="SIZE_144",e[e.SIZE_152=12]="SIZE_152",e[e.SIZE_160=13]="SIZE_160",e[e.SIZE_168=14]="SIZE_168",e[e.SIZE_176=15]="SIZE_176",e[e.SIZE_184=16]="SIZE_184",e[e.SIZE_200=17]="SIZE_200",e[e.SIZE_232=18]="SIZE_232"}(i||(i={}));var a=(n={},(0,l.Z)(n,i.SIZE_48,48),(0,l.Z)(n,i.SIZE_56,56),(0,l.Z)(n,i.SIZE_64,64),(0,l.Z)(n,i.SIZE_72,72),(0,l.Z)(n,i.SIZE_80,80),(0,l.Z)(n,i.SIZE_96,96),(0,l.Z)(n,i.SIZE_104,104),(0,l.Z)(n,i.SIZE_112,112),(0,l.Z)(n,i.SIZE_120,120),(0,l.Z)(n,i.SIZE_128,128),(0,l.Z)(n,i.SIZE_136,136),(0,l.Z)(n,i.SIZE_144,144),(0,l.Z)(n,i.SIZE_152,152),(0,l.Z)(n,i.SIZE_160,160),(0,l.Z)(n,i.SIZE_168,168),(0,l.Z)(n,i.SIZE_176,176),(0,l.Z)(n,i.SIZE_184,184),(0,l.Z)(n,i.SIZE_200,200),(0,l.Z)(n,i.SIZE_232,232),n),o=[i.SIZE_48,i.SIZE_56,i.SIZE_64],s=[i.SIZE_72,i.SIZE_80,i.SIZE_96,i.SIZE_104,i.SIZE_112,i.SIZE_120,i.SIZE_128],u=[i.SIZE_136,i.SIZE_144,i.SIZE_152,i.SIZE_160,i.SIZE_168,i.SIZE_176],c=[i.SIZE_184,i.SIZE_200,i.SIZE_232]},24581:(e,t,r)=>{r.d(t,{u:()=>u});var n=r(14942),i=r(59496),l=r(1578),a=(r(98618),r(93019),r(40905),r(4637)),o=function(e){var t=e.span,r=e.onInView,n=e.marginBottom,l=e.marginTop,o=(0,i.useRef)(null);return(0,i.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&r()}))}));return o.current&&e.observe(o.current),function(){e.disconnect()}}),[r]),t<=0?null:(0,a.jsx)("div",{style:{gridColumn:"1/-1",gridRow:"span ".concat(t),marginBottom:n,marginTop:l},ref:o,"data-type":"sentinel"},"topSentinel")},s=r(81052),u=function(e){var t=e.renderItems,r=e.nrItems,u=e.estimatedItemMaxHeight,c=e.scrollNodeRef,d=e.nrRowsOverscan,p=void 0===d?5:d,g=e.initalNrRows,f=void 0===g?5:g,y=(0,i.useState)({firstRowToRender:0,nrRows:f+p}),b=(0,n.Z)(y,2),m=b[0],v=b[1],x=(0,i.useRef)(0),h=(0,i.useRef)(null),j=(0,i.useRef)(u),D=(0,i.useCallback)((function(){var e,t=c.current;if(t){var r=null===(e=h.current)||void 0===e?void 0:e.querySelector(':scope > *:not([data-type="sentinel"])');j.current=r?r.getBoundingClientRect().height+s.wJ:j.current;var n=Math.floor((t.scrollTop-x.current)/j.current),i=Math.max(n-p,0),l=Math.ceil(t.offsetHeight/j.current)+2*p;i===m.firstRowToRender&&l===m.nrRows||v({firstRowToRender:i,nrRows:l})}}),[p,m,c]),O=(0,i.useCallback)((function(e){var n=e.columnCount;if(n<=0)return[null];var i=Math.ceil(r/n),l=m.firstRowToRender*n,s=m.firstRowToRender+m.nrRows-1,u=Math.min(r-1,(s+1)*n-1),c=j.current*(p-2);return[(0,a.jsx)(o,{span:m.firstRowToRender,onInView:D,marginBottom:"-".concat(c,"px")},"topSentinel-".concat(m.firstRowToRender)),t(l,u,n),(0,a.jsx)(o,{span:i-s,onInView:D,marginTop:"-".concat(c,"px")},"bottomSentinel-".concat(i-s))]}),[r,p,D,t,m.firstRowToRender,m.nrRows]);return(0,i.useEffect)((function(){var e=h.current,t=c.current;e&&t&&(x.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[c]),(0,a.jsx)(l.T,{useUniformRowHeight:!0,ref:h,render:O})}},84563:(e,t,r)=>{r.d(t,{I:()=>i});var n=r(44081);function i(){return(0,n.S)()[0]}}}]);
//# sourceMappingURL=xpui-routes-your-library-x.js.map