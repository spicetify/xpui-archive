"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[3878],{51046:(e,n,i)=>{i.r(n),i.d(n,{default:()=>Hi});var t=i(46220),a=i(88769),l=i(14942),r=i(26533),s=i.n(r),o=(i(15970),i(93019),i(84196),i(27586),i(56110),i(25750),i(85675),i(47785),i(4391),i(3761),i(30169),i(33208),i(47408),i(97274),i(2840),i(3726),i(59496)),d=i(77646),c=i(92053),u=i(33892),m=i(60647),k=i(84071),p=i(47018),v=i(22056),f=i(3624),b=(i(56404),i(95410),i(66410),i(19585)),y=(i(79075),i(26870),i(86978),i(98618),i(40905),i(79410),i(21105),i(72753),i(24255)),S=(i(6717),i(4637)),h=function(e,n,i){return{event:e,app_startup_id:null,ad_playback_id:null,ad_id:String(n),lineitem_id:String(i),creative_id:String(n),ad_format:"sponsored playlist",slot:null,in_focus:null,username:null,jsondata:JSON.stringify({platform:"WebPlayer",revision:"1.0.0"})}},g=function(e){var n=e.clickTracking,i=e.clickThrough,t=e.thirdPartyImpression,a=e.impression,r=e.logoUrl,s=e.advertiserName,c=e.creativeId,m=e.lineItemId,k=(0,d.I0)(),p=(0,o.useState)(!1),f=(0,l.Z)(p,2),y=f[0],g=f[1];return(0,o.useEffect)((function(){return k((0,b.Vw)()),k((0,b.kh)(h("event_viewed",c,m))),function(){k((0,b.AG)())}}),[k,c,m]),(0,S.jsxs)("div",{className:"sponsor-container",children:[(0,S.jsx)(u.D,{variant:"minuet",className:"sponsor-text","data-ta-id":"sponsor-text",children:v.ag.get("playlist.presented_by",s)}),(0,S.jsxs)("div",{className:"sponsor-logo",children:[(0,S.jsx)("a",{draggable:!1,className:"sponsor-logo__link",target:"_blank",href:i,onClick:function(){k((0,b.kh)(h("event_clicked",c,m))),g(!0)},children:(0,S.jsx)("img",{draggable:!1,className:"sponsor-logo__image",src:r,alt:s,"data-ta-id":"sponsor-logo"})}),(0,S.jsx)("img",{className:"sponsor-logo__imp-pixel",src:a,alt:""}),t&&(0,S.jsx)("img",{className:"sponsor-logo__3p-imp-pixel",src:t,alt:""}),y&&(0,S.jsx)("img",{className:"sponsor-logo__click-img-pixel",src:n,alt:""})]})]})};function N(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function x(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?N(Object(i),!0).forEach((function(n){(0,y.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var j=function(e){var n=e.playlistUri,i=(0,d.I0)(),t=(0,d.v9)((function(e){return e.ads.sponsoredPlaylist.previewAd||e.ads.sponsoredPlaylist.sponsoredPlaylist.get(n)}));return(0,o.useEffect)((function(){t||i((0,b.fd)(n))}),[i,n,t]),t?(0,S.jsx)("div",{children:(0,S.jsx)(g,x({},t))}):null},T=function(e){var n=e.playlistUri,i=(0,d.I0)(),t=(0,d.v9)((function(e){return e.ads.sponsoredPlaylist.sponsoredPlaylist.get("allSponsorships")})),a=(0,d.v9)((function(e){return e.ads.sponsoredPlaylist.previewAd}));(0,o.useEffect)((function(){t||i((0,b.z8)())}),[i,t]);var l=a||t&&function(e,n){var i=Date.now()/1e3,t=e.split(":"),a=t[t.length-1];return n.some((function(e){var n=e.playlistId,t=e.endTime,l=e.startTime;return n===a&&i>=l&&i<(t||i+1)}))}(n,t);return l?(0,S.jsx)(j,{playlistUri:n}):null},C=i(17913),F=i(97174),R=i(97921),A=i(33639),D=i(62111),E=i(86417),P=i(22984),O=i(69663),I=i(42382),L=i(99654);const w="hOOwEKqNuXrNvOCB1SgZ",U="csEdkIN9z2LjJIuZraqz";var _=function(e){var n=e.uri,i=(0,L.Z)(n),t=(0,l.Z)(i,2),a=t[0],r=t[1],s=(0,c.s0)(),d=(0,o.useCallback)((function(){r(!1),s("/collection/playlists",{replace:!0})}),[s,r]);return(0,S.jsxs)("div",{className:w,children:[(0,S.jsx)(O.l,{iconSize:64}),(0,S.jsxs)("div",{className:U,children:[(0,S.jsx)(u.D,{as:"p",variant:"canon",children:v.ag.get("forbidden-page.title")}),(0,S.jsx)(u.D,{as:"p",variant:"mesto",children:v.ag.get("forbidden-page.description")})]}),a&&(0,S.jsx)(I.D,{colorSet:"invertedLight",onClick:d,children:v.ag.get("remove_from_your_library")})]})},V=i(27293),M=i(42218),Z=i(93824),B=i(79357),Q=i(15528),W=i(91682),K=i(16628),z=i(77671),H=i(54564),J=i(93924),G=i(21586),q=i(46596),X=i(32318),Y=i(15848),$=i(45272),ee=i(20031),ne=i(85388),ie=i(15310),te=i(80505),ae=i(13215),le=i(8566),re=i(68765),se=i(10277),oe=i(67639),de=i(6443),ce=i(70559),ue=i(59689),me=i(72102);function ke(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function pe(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(i),!0).forEach((function(n){(0,y.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ke(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var ve=i(75991),fe=i(13034),be=(i(81285),i(51841)),ye=i(23351),Se=i(20786),he=new Set(K.RJ),ge=new Set([]),Ne={column:null,order:be.kn.NONE},xe=o.memo((function(e){var n=e.ariaLabel,i=e.nrTracks,t=e.playlistUri,l=e.rankType,r=e.scrollToUid,d=e.usePlayContextItem,c=e.tracklistDomRef,u=(0,o.useContext)(se.ZF),m=(0,o.useContext)(W.fo),k=m.filter,p=m.setFilter,v=(0,o.useRef)(null),f=(0,o.useCallback)((function(){v.current&&v.current.update()}),[]);(0,ce.r)(t,f);var b=(0,o.useContext)(K.Gb),y=b.sortState,h=b.setSortState,g=(0,o.useCallback)((function(e){h((0,Q.VK)(e,y))}),[y,h]);(0,o.useEffect)((function(){h(Ne),p("")}),[t,p,h]),(0,o.useEffect)((function(){v.current&&r&&v.current.scrollToItem({uid:r})}),[r]);var N=(0,o.useCallback)(function(){var e=(0,a.Z)(s().mark((function e(n,i){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getContents(t,{offset:n,limit:i,sort:(0,Q._j)(y),filter:k,decorateFormatListData:!0});case 2:return a=e.sent,e.abrupt("return",{items:a.items,totalLength:a.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),[t,u,y,k]),x="plays"===l,j=(0,o.useCallback)((function(e,n){var i,a,l,r=(0,Se.X)(null===(i=e.album)||void 0===i?void 0:i.images,{desiredSize:40,desiredLabel:"small"});return(0,S.jsx)(be.h_,{index:n,contextUri:t,uri:e.uri,uid:e.uid||void 0,isPlayable:e.isPlayable,duration_ms:e.duration.milliseconds,name:e.name,artists:e.artists,album:e.album,isExplicit:e.isExplicit,isMOGEFRestricted:e.is19PlusOnly,type:e.type,imgUrl:(null==r?void 0:r.url)||"",statusChange:null===(a=e.formatListAttributes)||void 0===a?void 0:a.status,showPlayCount:x,playCount:parseInt((null===(l=e.formatListAttributes)||void 0===l?void 0:l.rank)||"0",10),usePlayContextItem:d},n+e.uri)}),[t,x,d]),T=(0,o.useMemo)((function(){return x?[be.QD.INDEX,be.QD.TITLE,be.QD.PLAYS,be.QD.ALBUM,be.QD.DURATION]:[be.QD.INDEX,be.QD.TITLE,be.QD.ALBUM,be.QD.DURATION]}),[x]),C=(0,o.useCallback)((function(e){return e.uri}),[]),F=(0,o.useCallback)((function(e){return e.id}),[]);return(0,S.jsx)(ye.ZP,{value:"chart-tracklist",children:(0,S.jsx)(be.Pv,{ariaLabel:n,hasHeaderRow:!0,columns:T,sortableColumns:u.getCapabilities().canSort?he:ge,sortState:y,onSort:g,renderRow:j,resolveUri:C,resolveUid:F,nrTracks:i,fetchTracks:N,limit:100,canFetchAllTracks:u.getCapabilities().canFetchAllTracks,outerRef:v,outerDomRef:c},t)})})),je=i(87906),Te=i(19391),Ce=i(71544),Fe=i(47546);const Re="jMg2yhvAA3YfgM1Ix5GL",Ae="X1lXSiVj0pzhQCUo_72A";var De=["uri","label","onClick"];function Ee(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Pe(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Ee(Object(i),!0).forEach((function(n){(0,y.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ee(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Oe=function(e){var n=e.uri,i=e.label,t=e.onClick,a=(0,je.Z)(e,De),l=(0,Fe.l)({uri:n,permissionLevel:"CONTRIBUTOR"}).onCopyLink;return(0,S.jsx)(Ce._,{label:i,children:(0,S.jsx)("button",{className:Re,onClick:function(e){null==t||t(e),null==l||l()},"aria-label":i,children:(0,S.jsx)(Te.t,Pe(Pe({},a),{},{className:Ae,iconSize:32,"aria-hidden":"true"}))})})},Ie=i(30229),Le=i(69875),we=i(4086),Ue=i(68547),_e=o.memo((function(e){var n=e.metadata,i=e.tracklistDomRef,t=n.hasEpisodes,a=n.isCollaborative,l=n.formatListData,r=n.hasDateAdded,s=n.collaborators,d="chart"===(null==l?void 0:l.type),c="live-streams"===(null==l?void 0:l.type),u=["blend","celebrity-blend","friends-mix"].indexOf((null==l?void 0:l.type)||"")>-1,m=!!t,k=(0,fe.fU)(Le.createDesktopSearchBarEventFactory,{}),p=k.spec,f=k.logger,b=(0,o.useCallback)((function(){f.logInteraction(p.filterFieldFactory().keyStrokeFilter())}),[f,p]),y=(0,o.useCallback)((function(){f.logInteraction(p.filterFieldFactory().hitClearFilter())}),[f,p]),h=(0,o.useCallback)((function(){f.logInteraction(p.sortButtonFactory().hitSort())}),[f,p]),g=(0,o.useMemo)((function(){var e;return function(e,n,i,t,a,l,r){return e?K.RJ:(0,Q.RG)(n,i,t,a,l,r)}(d,a,m,r,c,u,null!==(e=null==s?void 0:s.count)&&void 0!==e?e:1)}),[d,a,m,r,c,u,s]);return(0,S.jsxs)("div",{className:B.Z.searchBoxContainer,children:[(0,S.jsx)(o.Suspense,{fallback:null,children:(0,S.jsx)(we.K,{placeholder:v.ag.get("playlist.search_in_playlist"),onFilter:b,onClear:y,clearOnEscapeInElementRef:i})}),(0,S.jsx)(Ue.l,{columns:g,onSort:h})]})})),Ve=i(30373),Me=i(56868),Ze=(i(66608),i(16020)),Be="multiUserAttributionDisplayNamesV2",Qe=i(58342);function We(e){return(0,Qe.MW)(e)||(0,Qe.JF)(e)}var Ke=new Set(K.zq),ze=new Set([]),He=o.memo((function(e){var n=e.ariaLabel,i=e.nrTracks,t=e.playlistUri,r=e.playlistName,c=e.isCollaborative,u=e.isMixedMedia,m=e.isLive,k=e.isBlend,b=e.hasDateAdded,y=e.canEdit,h=e.scrollToUid,g=e.feedbackPath,N=e.deleteFeedbackPath,x=e.usePlayContextItem,j=e.tracklistRef,T=e.tracklistDomRef,C=e.nrCollaborators,F=void 0===C?1:C,R=e.canRemove,A=e.spec,D=e.initialItems,E=(0,fe.$P)(),P=(0,o.useContext)(se.ZF),O=(0,o.useContext)(W.fo).filter,I=(0,o.useContext)(K.Gb),L=I.sortState,w=I.setSortState,U=(0,o.useRef)((function(){})),_=(0,o.useState)([]),V=(0,l.Z)(_,2),M=V[0],Z=V[1],B=(0,d.I0)(),z=(0,o.useCallback)((function(){null!=j&&j.current&&j.current.update()}),[j]);(0,se.rZ)(t,z);var H=(0,o.useCallback)((function(e,n){w((0,Q.VK)(e,L)),E.logInteraction(A.columnHeaderFactory({identifier:e,position:n||0}).hitSort())}),[w,L,E,A]),J=(0,o.useCallback)((function(e){U.current(),P.remove(t,e)}),[P,t]),q=(0,o.useCallback)((function(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R&&(U.current=n,e.length>1&&!i?Z(e):J(e))}),[R,J]);(0,o.useEffect)((function(){null!=j&&j.current&&h&&j.current.scrollToItem({uid:h})}),[h,j]);var X=(0,o.useCallback)(function(){var e=(0,a.Z)(s().mark((function e(n,i){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getContents(t,{offset:n,limit:i,sort:(0,Q._j)(L),filter:O,decorateFormatListData:!!g||m||k});case 2:return a=e.sent,e.abrupt("return",{items:a.items,totalLength:a.totalLength});case 4:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),[t,P,L,O,g,m,k]),Y=(0,o.useCallback)((function(e,n,i){var a;if(null!=j&&j.current){var l=null===(a=j.current.getRows()[n])||void 0===a?void 0:a.id;l&&(E.logInteraction(A.dragSort()),i===Me.W.Before?P.move(t,e,{before:l}):P.move(t,e,{after:l}))}}),[j,E,A,P,t]),$=(0,o.useCallback)((function(e,n,i){var a;if(null!=j&&j.current){var l=null===(a=j.current.getRows()[n])||void 0===a?void 0:a.id;l&&(E.logInteraction(A.dragAddToPlaylist({playlist:t,itemToBeAdded:e[0]})),i===Me.W.Before?B((0,f.jV)(t,e,{before:l})):B((0,f.jV)(t,e,{after:l})))}}),[j,E,A,t,B]),ee=(0,o.useCallback)((function(){P.resync(t)}),[P,t]),ne=(0,o.useCallback)((function(e,n){var i,a,l,s,o,d,v,f,b,h=!!(0,Qe.JF)(e)&&e.podcastSubscription.isUserSubscribed;if((0,Qe.JF)(e))v=e.show,f=e.images.concat((null===(b=e.show)||void 0===b?void 0:b.images)||[]);else if((0,Qe.MW)(e)){var j;v=e.album,f=null===(j=e.album)||void 0===j?void 0:j.images}var T=(0,Se.X)(f,{desiredSize:40,desiredLabel:"small"}),C=[];y&&L.order===be.kn.NONE&&(C=[G.aN[p.JM.TRACK],G.aN[p.JM.LOCAL_TRACK],G.aN[p.JM.EPISODE]]);var A="1"===(null==e||null===(i=e.formatListAttributes)||void 0===i?void 0:i["dislike-feedback-selected"]),D=!1;(0,Qe.JF)(e)&&e.podcastSubscription.isPaywalled&&!h?D=!0:We(e)&&(D=e.isPlayable&&!A);var E=k&&function(e,n){var i,t,a,l,r=[];if(!n)return r;var s=n[Be]?Be:"multiUserAttributionDisplayNames",o=null==n||null===(i=n[s])||void 0===i?void 0:i.split(","),d=null==n||null===(t=n.multiUserAttributionImages)||void 0===t?void 0:t.split(",");if(!o||!d)return r;for(var c,u=(null==n||null===(a=n.multiUserAttributionUsernamesV2)||void 0===a?void 0:a.split(","))||[],m=(null==n||null===(l=n.multiUserAttributionType)||void 0===l?void 0:l.split(","))||[],k=o.length,v=0;v<k;v++){var f=u[v],b=f&&(0,p.QK)(f).toURI();r.push({username:f,uri:b,displayName:o[v],images:(c=d[v],c.length>1?[{url:c}]:[]),recsplanation:m[v]})}return r.sort((function(n,i){return n.username?n.username===(null==e?void 0:e.username)?-1:i.username===(null==e?void 0:e.username)?1:0:0}))}(e.addedBy,null==e?void 0:e.formatListAttributes)||e.addedBy&&[e.addedBy]||[];return(0,S.jsx)(be.dx,{index:n,playIndex:null!==(a=e.playIndex)&&void 0!==a?a:void 0,contextUri:t,uri:e.uri,uid:null!==(l=e.uid)&&void 0!==l?l:void 0,id:e.id,isPlayable:D,duration_ms:We(e)?e.duration.milliseconds:0,isPaywalled:!!(0,Qe.JF)(e)&&e.podcastSubscription.isPaywalled,isUserSubscribed:h,name:We(e)?e.name:"",artists:(0,Qe.MW)(e)?e.artists:void 0,albumOrShow:v,isExplicit:(0,Qe.MW)(e)&&e.isExplicit,isCollaborative:c,nrCollaborators:F,isMixedMedia:u,isLocal:(0,Qe.MW)(e)&&e.isLocal,addedBy:E,hasDecoratedAddedBy:P.getCapabilities().canDecorateAddedBy,dateAdded:e.addedAt,release_date:(0,Qe.JF)(e)&&e.release.date||"",isMOGEFRestricted:((0,Qe.MW)(e)||(0,Qe.JF)(e))&&e.is19PlusOnly,type:e.type,imgUrl:(null==T?void 0:T.url)||"",onMove:Y,onInsert:$,usePlayContextItem:x,allowedDropTypes:C,feedbackPath:g,feedbackUri:null==e||null===(s=e.formatListAttributes)||void 0===s?void 0:s.feedback_uri,deleteFeedbackPath:N,isDisliked:A,isLive:m,isBlend:k,ticketingSiteURL:null==e||null===(o=e.formatListAttributes)||void 0===o?void 0:o.ticketingSite,eventDate:null==e||null===(d=e.formatListAttributes)||void 0===d?void 0:d.eventDate,canRemove:R,onFeedbackClick:ee,playlistName:r},n+e.uri)}),[y,L.order,k,t,c,F,u,P,Y,$,x,g,N,m,R,ee,r]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(ye.ZP,{value:"playlist-tracklist",children:(0,S.jsx)(be.Pv,{testID:"playlist-tracklist",ariaLabel:n,hasHeaderRow:!0,columns:(0,Q.RG)(c,u,b,m,k,F),sortableColumns:P.getCapabilities().canSort?Ke:ze,sortState:L,onSort:H,onRemove:q,renderRow:ne,resolveUri:function(e){return e.uri},resolveUid:function(e){return e.id},nrTracks:i,fetchTracks:X,limit:100,canFetchAllTracks:P.getCapabilities().canFetchAllTracks,outerRef:j,outerDomRef:T,tracks:D},t)}),(0,S.jsx)(Ve.h,{title:v.ag.get("playlist.remove_from_playlist",r),isOpen:M.length>0,tracks:M,onClose:function(e){e.stopPropagation(),Z([])},onRemove:J})]})})),Je=(i(68063),i(31740)),Ge=(i(16109),i(96328)),qe=i(23678);function Xe(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Ye(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?Xe(Object(i),!0).forEach((function(n){(0,y.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Xe(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var $e=o.memo((function(e){var n=e.playlistUri,i=e.playlistLength,a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=2*n,a=3*n,r=(0,o.useRef)(0),s=(0,o.useState)(e),d=(0,l.Z)(s,2),c=d[0],u=d[1],m=(0,o.useState)([]),p=(0,l.Z)(m,2),v=p[0],f=p[1],b=(0,o.useRef)([]),y=(0,o.useContext)(de.Z),S=(0,fe.fU)(k.createDesktopPlaylistEventFactory,{data:{uri:e}}),h=S.spec,g=S.logger,N=(0,o.useMemo)((function(){return h.recommendedFactory()}),[h]);(0,o.useEffect)((function(){var n=y.getEvents(),i=function(n){n.data.uri===e&&f((function(e){return e.filter((function(e){return n.data.items.every((function(n){return n.uri!==e.uri}))}))}))};return n.addListener(qe.XL.OPERATION_COMPLETE,i),function(){n.removeListener(qe.XL.OPERATION_COMPLETE,i)}}),[y,e]),(0,o.useEffect)((function(){return f([]),u(e),b.current=[],r.current=r.current+1,function(){r.current=r.current+1}}),[e]),(0,o.useEffect)((function(){if(v.length<i){var e=Math.min(i,a-v.length),n=r.current;y.getRecommendedTracks(c,b.current,e).then((function(i){if(n===r.current){var a=i.map((function(e){return(null==e?void 0:e.uri)&&Ge.o.from(e.uri).id})).filter((function(e){return null!==e}));i.length<e&&b.current.length?b.current=[]:b.current=[].concat((0,t.Z)(b.current),(0,t.Z)(a)),f((function(e){return[].concat((0,t.Z)(e),(0,t.Z)(i))}))}}))}}),[i,a,y,c,v.length]);var x=(0,o.useCallback)((function(){if(h){var e=N.refreshButtonFactory().hitRefreshContent();g.logInteraction(e)}f((function(e){return e.slice(n)}))}),[g,N,h,n]);return{tracks:v.slice(0,n),_bufferedTracks:v.slice(n),refresh:x}}(n),r=a.tracks,s=a.refresh,d=!i||0===i,c=(0,re.n)({uri:n.replace("spotify:","spotify:internal:recs:"),pages:[{items:r.map((function(e){return Ye(Ye({},e),{},{provider:null,type:Ze.p.TRACK,uid:null})}))}]},{featureIdentifier:"playlist_recommendations"}).usePlayContextItem,m=(0,o.useCallback)((function(e,i){return(0,S.jsx)(be.cp,{index:i,imgUrl:e.album.imageUrl,contextUri:n.replace("spotify","spotify:internal:recs"),uri:e.uri,isPlayable:!e.isMOGEFRestricted,name:e.name,artists:e.artists,album:Ye(Ye({},e.album),{},{imgUrl:e.album.imageUrl}),isExplicit:e.explicit,isMOGEFRestricted:e.isMOGEFRestricted,usePlayContextItem:c},"".concat(i,"-").concat(e.uri))}),[n,c]),p=(0,o.useMemo)((function(){return[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD]}),[]),f=(0,o.useCallback)((function(e){return e.uri}),[]),b=(0,o.useCallback)((function(e){return e.id}),[]),y=(0,o.useMemo)((function(){return r.slice(0,Math.min(r.length,10))}),[r]);return r.length>0?(0,S.jsxs)("div",{className:B.Z.recommendedTrackList,children:[(0,S.jsx)("div",{className:B.Z.top,children:(0,S.jsxs)("div",{className:B.Z.header,children:[(0,S.jsx)(u.D,{variant:"canon",children:v.ag.get("playlist.extender.recommended.title")}),(0,S.jsx)(u.D,{variant:"mesto",className:B.Z.subtitle,children:d?v.ag.get("playlist.extender.title.in.playlist"):v.ag.get("playlist.extender.songs.in.playlist")})]})}),r.length?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("playlist.extender.recommended.header"),nrTracks:Math.min(r.length,10),rowPlaceholder:be.hU,tracks:y,renderRow:m,resolveUri:f,resolveUid:b,columns:p},"".concat(n,"-recommended")),(0,S.jsx)(Je.o,{className:B.Z.refreshButton,onClick:s,children:v.ag.get("playlist.extender.refresh")})]}):null]}):null})),en=i(15230),nn=i(13009),tn=i(57571),an=i(95442),ln=i(29569),rn=i(76456),sn=i(80592);const on="Uw4gqTFuHRLn4VKga_bJ",dn="SdECNwBCnmkKl0Q0mJff",cn="HLkGXLclDq_7guCiD1Xq",un="vWR6alsFpTlgXUckErqF",mn="EbHQLci0cfLjHmS0AKp2",kn="HzYFPEbZdd6fQW4jfcz4",pn="SQEgwtR2aj51qFj6cMNZ",vn="aaNtMSjjJ4cClWoe6K0k",fn="BhtBJTnsM9AotmyN0MPr",bn="FwoyMQocCMLEafLlvAk5",yn="xcn0geYcJliTHbvcds12",Sn="KptBBI16DBjQBjvPQtlH";function hn(e){var n=(0,o.useRef)(null);return(0,S.jsx)(nn.Y,{center:!0,onClose:e.onClose,ref:n,withPortal:!0,children:(0,S.jsx)(tn.l,{className:on,"aria-label":"Example showing onClose property",body:(0,S.jsxs)("div",{className:fn,children:[(0,S.jsx)(Je.o,{buttonSize:"md","aria-label":"IconX",iconOnly:an.k,onClick:e.onClose,className:yn}),(0,S.jsx)(Je.o,{buttonSize:"md","aria-label":"IconArrowLeft",iconOnly:rn.D,className:bn}),(0,S.jsx)("div",{className:dn,children:(0,S.jsxs)("div",{className:cn,children:[(0,S.jsx)("div",{className:mn,children:(0,S.jsxs)("div",{className:kn,children:[(0,S.jsx)(en.E,{className:pn,src:"https://i.scdn.co/image/ab6761610000517469fd2e170a6d290939620b61",alt:"A headshot profile picture of Afrobeats artist Lojay",imageHeight:"150px",imageWidth:"150px",crop:!0,circle:!0}),(0,S.jsx)(en.E,{className:vn,src:"spotify:image:ab67706c0000da8465307c7864e1e9d53770a94e",alt:"Ginjapiano playlist profile picture",imageHeight:"150px",imageWidth:"150px",crop:!0,circle:!0})]})}),(0,S.jsxs)("div",{className:un,children:[(0,S.jsxs)(u.D,{as:"p",variant:"finaleBold",children:[(0,S.jsx)("span",{style:{color:"#dc744d"},children:"4M"})," STREAMED THIS WEEK"]}),(0,S.jsxs)(u.D,{as:"p",variant:"alto",children:["IM IN THE ",(0,S.jsx)("span",{style:{color:"#dc744d"},children:"TOP 21% "}),"OF GINJAPIANO LISTENERS THIS WEEK."]})]}),(0,S.jsx)("div",{className:mn,children:(0,S.jsx)(sn.V,{iconSize:48})})]})}),(0,S.jsx)("div",{className:Sn,children:(0,S.jsx)(I.D,{colorSet:"invertedLight",children:"Share"})})]})})})}const gn="nTTPGZGk721M6gfldG43",Nn="BFYSUcA4ifYvgDzOQX5Q",xn="el9_37CCpYKxCRKDDyww",jn="FB376b7R1M_0YQZ_SahS",Tn="srPBn9_CV0NzQEEzW9f6",Cn="te8Z8OuKxZx1gbjb7_ua";const Fn=o.memo((function(e){var n=e.setuserView,i=(0,o.useState)(!1),t=(0,l.Z)(i,2),a=t[0],r=t[1];return(0,S.jsxs)(S.Fragment,{children:[a&&(0,S.jsx)(hn,{onClose:function(){r(!1)}}),(0,S.jsx)(nn.Y,{center:!0,withPortal:!0,children:(0,S.jsx)(tn.l,{colorSet:"overMedia","aria-label":"Title",body:(0,S.jsx)("div",{children:(0,S.jsx)(u.D,{as:"p"})}),dialogTitle:(0,S.jsxs)("div",{className:gn,children:[(0,S.jsxs)("div",{className:xn,children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(en.E,{src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"20px",imageWidth:"20px",crop:!0,circle:!0}),(0,S.jsx)(en.E,{src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0})]}),(0,S.jsx)(u.D,{as:"h1",variant:"alto",children:"Rap Caviar"})]}),(0,S.jsxs)("div",{className:Nn,children:[(0,S.jsx)(Je.o,{iconOnly:an.k,onClick:function(){return n(!1)},className:Tn}),(0,S.jsx)(Je.o,{iconOnly:ln.o,className:Cn,onClick:function(){r(!0)}})]}),(0,S.jsx)("div",{className:jn,children:(0,S.jsx)(u.D,{as:"p",variant:"ballad",children:"Hello you made it to the top 10 percent"})})]}),id:"dialogAlert"})})]})})),Rn="__97AKHEfxNtqFsLai1b",An="pzFwHV7jvPlWTI6cG5TV",Dn="iZu1aH8cr2cw98gqmTeo",En="JRvbfJh7eAZ_1FrQukej";function Pn(){var e=(0,o.useState)(!1),n=(0,l.Z)(e,2),i=n[0],t=n[1];return(0,S.jsxs)(S.Fragment,{children:[i&&(0,S.jsx)(Fn,{setuserView:t}),(0,S.jsxs)("button",{className:Rn,onClick:function(){return t(!0)},children:[(0,S.jsxs)("div",{className:An,children:[(0,S.jsx)(en.E,{className:Dn,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0}),(0,S.jsx)(en.E,{className:Dn,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0}),(0,S.jsx)(en.E,{className:Dn,src:"https://i.scdn.co/image/54470e5e056b93d7022076960d3a6b2267ece226",alt:"A figure sits cross-legged but poised in front of their synthesizer",imageHeight:"30px",imageWidth:"30px",crop:!0,circle:!0})]}),(0,S.jsxs)("div",{className:En,children:[(0,S.jsx)(u.D,{as:"p",variant:"mestoBold",children:"View employee leaderboard"}),(0,S.jsx)(u.D,{as:"p",variant:"mesto",children:"You're in the top 21% of listeners."})]})]})]})}var On=i(67787),In=i(47071),Ln=i(72550),wn=i(42918),Un=(i(863),[{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Track"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}}]}}]),_n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchV2"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"5"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"0"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchV2"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"term"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"numberOfTopResults"},value:{kind:"Variable",name:{kind:"Name",value:"numberOfTopResults"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"query"}},{kind:"Field",name:{kind:"Name",value:"tracksV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"episodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topResults"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemsV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"}},{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"}}]}}]}}]}}]}}]}}].concat((0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2TrackWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}}]),(0,t.Z)(Un),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2ArtistWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Artist"}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Artist"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2AlbumWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Album"}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Album"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2EpisodesWrapper"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EpisodeResponseWrapper"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Episode"}}]}}]}}]}}]),(0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationSearchV2Episode"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Episode"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"podcastV2"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Podcast"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]))},Vn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchAlbum"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"albums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationAlbums"}}]}}]}}].concat((0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}}]}}]}}]),(0,t.Z)(Un))},Mn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryInlineCurationSearchArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uris"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uris"},value:{kind:"Variable",name:{kind:"Name",value:"uris"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationArtists"}}]}}]}}].concat((0,t.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"inlineCurationArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ArtistResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"label"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"inlineCurationSearchV2Track"}}]}}]}}]}}]}}]}}]}}]),(0,t.Z)(Un))},Zn=(i(67432),i(65232),i(34728)),Bn=i(7803),Qn=i(11329),Wn=i(23731);function Kn(e,n){var i,t,a,l,r,s,o,d,c,u,m,k,p,v,f,b;return{albums:null!==(f=e.albums,i=(null!==(b=null==f?void 0:f.items)&&void 0!==b?b:[]).map((function(e){return Hn(e)})).filter(Qn.K)||[])&&void 0!==i?i:[],artists:null!==(p=e.artists,t=(null!==(v=null==p?void 0:p.items)&&void 0!==v?v:[]).map((function(e){return Jn(e)})).filter(Qn.K)||[])&&void 0!==t?t:[],episodes:null!==(m=e.episodes,a=(null!==(k=null==m?void 0:m.items)&&void 0!==k?k:[]).map((function(e){return Gn(e)})).filter(Qn.K)||[])&&void 0!==a?a:[],tracks:null!==(c=e.tracksV2,l=(null!==(u=null==c?void 0:c.items)&&void 0!==u?u:[]).map((function(e){return Xn(e.item)})).filter(Qn.K)||[])&&void 0!==l?l:[],topResults:null!==(s=e.topResults,d=null!==(o=null==s?void 0:s.itemsV2)&&void 0!==o?o:[],r=d.map((function(e){var n=(0,Bn.U2)(e,"item");switch(n.__typename){case"AlbumResponseWrapper":return Hn(n);case"ArtistResponseWrapper":return Jn(n);case"EpisodeResponseWrapper":return Gn(n);case"TrackResponseWrapper":return Xn(n);default:return(0,Wn._)(n),null}})).filter(Qn.K)||[])&&void 0!==r?r:[],query:n}}function zn(e){return{type:Ze.p.ALBUM,uri:e.uri,id:e.id,name:e.name,images:(0,Bn.NS)(e.coverArt)}}function Hn(e){return"Album"!==e.data.__typename?null:zn(e.data)}function Jn(e){if("Artist"!==e.data.__typename)return null;var n=e.data;return{type:Ze.p.ARTIST,uri:n.uri,id:n.id,name:n.profile.name,images:(0,Bn.NS)(n.visuals.avatarImage)}}function Gn(e){var n,i;if("Episode"!==e.data.__typename)return null;var t=e.data,a=t.podcastV2.data;return"Podcast"!==a.__typename?null:{type:Ze.p.EPISODE,uri:t.uri,id:t.id,name:t.name,images:(0,Bn.NS)(t.coverArt),isExplicit:(null===(n=t.contentRating)||void 0===n?void 0:n.label)===Zn.KS.Explicit,is19PlusOnly:(null===(i=t.contentRating)||void 0===i?void 0:i.label)===Zn.KS.NineteenPlus,podcast:{id:a.id,uri:a.uri,name:a.name},isPlayable:t.playability.playable}}function qn(e){var n,i,t,a,l,r,s,o=(0,Bn.NS)((null===(n=e.albumOfTrack)||void 0===n?void 0:n.coverArt)||null);return{type:Ze.p.TRACK,uri:e.uri,id:e.id,name:e.name,album:{name:(null===(i=e.albumOfTrack)||void 0===i?void 0:i.name)||"",uri:(null===(t=e.albumOfTrack)||void 0===t?void 0:t.uri)||"",imgUrl:(null===(a=o.at(0))||void 0===a?void 0:a.url)||"",id:(null===(l=e.albumOfTrack)||void 0===l?void 0:l.id)||""},artists:e.artists.items.map((function(e){return{id:e.id,name:e.profile.name,uri:e.uri}})),isPlayable:e.playability.playable,isExplicit:(null===(r=e.contentRating)||void 0===r?void 0:r.label)===Zn.KS.Explicit,is19PlusOnly:(null===(s=e.contentRating)||void 0===s?void 0:s.label)===Zn.KS.NineteenPlus}}function Xn(e){return"Track"!==e.data.__typename?null:qn(e.data)}function Yn(e){var n=e.at(0);if(!n)return null;switch(n.__typename){case"Album":return{albums:[],artists:[],episodes:[],tracks:n.tracks.items.map((function(e){return qn(e.track)}))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,Wn._)(n),null}}function $n(e){var n=e.at(0);if(!n)return null;switch(n.__typename){case"Artist":return{albums:n.discography.popularReleasesAlbums.items.map((function(e){return zn(e)}))||[],artists:[],episodes:[],tracks:n.discography.topTracks.items.map((function(e){return qn(e.track)}))||[],topResults:[]};case"GenericError":case"NotFound":return null;default:return(0,Wn._)(n),null}}var ei=function(){var e=(0,a.Z)(s().mark((function e(n,i){var t,a,l,r,o,d,c,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]?u[2]:0,l=u.length>3&&void 0!==u[3]?u[3]:10,r=u.length>4&&void 0!==u[4]?u[4]:10,o={term:i,offset:a,limit:l,numberOfTopResults:r},e.next=6,n(_n,o);case 6:if(d=e.sent,c=null==d||null===(t=d.data)||void 0===t?void 0:t.searchV2){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",Kn(c,i));case 11:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),ni=function(){var e=(0,a.Z)(s().mark((function e(n,i){var t,a,l,r,o,d,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:50,l=c.length>3&&void 0!==c[3]?c[3]:0,r={uris:[i],limit:a,offset:l},e.next=5,n(Vn,r);case 5:if(o=e.sent,d=null==o||null===(t=o.data)||void 0===t?void 0:t.albums){e.next=9;break}return e.abrupt("return",null);case 9:return e.abrupt("return",Yn(d));case 10:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),ii=function(){var e=(0,a.Z)(s().mark((function e(n,i){var t,a,l,r,o,d,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]?c[2]:50,l=c.length>3&&void 0!==c[3]?c[3]:0,r={uris:[i],limit:a,offset:l},e.next=5,n(Mn,r);case 5:if(o=e.sent,d=null==o||null===(t=o.data)||void 0===t?void 0:t.artists){e.next=9;break}return e.abrupt("return",null);case 9:return e.abrupt("return",$n(d));case 10:case"end":return e.stop()}}),e)})));return function(n,i){return e.apply(this,arguments)}}(),ti=i(84875),ai=i.n(ti),li=i(17657),ri=i(77330);const si="YAYCVnYpPvmYV4JyTmn5",oi="FeWwGSRANj36qpOBoxdx",di="_h5mio6VqcL_fmiXAb1S",ci="Hfgj4Zbb2ijt8g54MlCA",ui="sgZ_MgcS1NlccH19fYsa",mi="JzyZE2R09wq7xtjECDeR";var ki=o.memo((function(e){var n=e.placeholder,i=e.onChange,t=void 0===i?function(){}:i,a=e.onFocus,r=void 0===a?function(){}:a,s=(0,o.useState)(""),d=(0,l.Z)(s,2),c=d[0],m=d[1],k=(0,o.useRef)(null),p=(0,li.y1)((function(e){t(e)}),200),f=(0,o.useCallback)((function(e){var n=e.currentTarget.value;m(n),p(n)}),[m,p]),b=(0,o.useCallback)((function(){k.current&&k.current.focus(),m(""),t("")}),[m,t]),y=(0,o.useCallback)((function(e){"Escape"===e.key&&c&&b()}),[c,b]);return(0,S.jsxs)("div",{className:si,role:"search",children:[(0,S.jsx)(u.D,{as:"input",variant:"mesto",ref:k,className:ai()(oi),role:"searchbox",maxLength:80,autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,placeholder:n,onChange:f,onKeyDown:y,onFocus:r,value:c}),(0,S.jsxs)("div",{className:di,children:[(0,S.jsx)("span",{className:ci,children:(0,S.jsx)(ri.j,{iconSize:16,className:ui,"aria-hidden":"true"})}),c&&(0,S.jsx)("button",{className:mi,onClick:b,"aria-label":v.ag.get("search.a11y.clear-input"),children:(0,S.jsx)(an.k,{iconSize:16})})]})]})})),pi=function(e){var n=e.renderRow,i=e.searchResults,t=e.renderSeeAllRow,a=e.seeAllXList;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:be.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD],testID:"playlist-inline-curation-loaded-results"}),(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("search.title.all"),renderRow:t,rowPlaceholder:be.hU,nrTracks:a.length,tracks:a,resolveUri:function(e){return e.uri},columns:[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD],testID:"playlist-inline-curation-see-all-options"})]})},vi=function(e){var n=e.renderRow,i=e.searchResults;return(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:be.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD]})},fi=function(e){var n=e.renderRow,i=e.searchResults,t=i.filter((function(e){return e.type===Ze.p.TRACK})),a=i.filter((function(e){return e.type===Ze.p.ALBUM}));return(0,S.jsxs)("div",{children:[(0,S.jsx)(u.D,{as:"p",variant:"cello",className:B.Z.artistResultListTitle,children:v.ag.get("playlist.curation.popular_songs")}),(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("playlist.curation.popular_songs"),renderRow:n,rowPlaceholder:be.hU,nrTracks:t.length,tracks:t,resolveUri:function(e){return e.uri},columns:[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD]}),(0,S.jsx)(u.D,{as:"p",variant:"cello",className:B.Z.artistResultListTitle,children:v.ag.get("playlist.curation.albums")}),(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("playlist.curation.albums"),renderRow:n,rowPlaceholder:be.hU,nrTracks:a.length,tracks:a,resolveUri:function(e){return e.uri},columns:[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD]})]})},bi=function(e){var n=e.renderRow,i=e.searchResults;return(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:be.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD]})},yi=function(e){var n=e.renderRow,i=e.searchResults;return(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:be.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD]})},Si=function(e){var n=e.renderRow,i=e.searchResults;return(0,S.jsx)(be.Pv,{ariaLabel:v.ag.get("search.title.top-results"),renderRow:n,rowPlaceholder:be.hU,nrTracks:i.length,tracks:i,resolveUri:function(e){return e.uri},columns:[be.QD.TITLE,be.QD.ALBUM,be.QD.ADD]})},hi=i(19397);const gi="G2t3w2AAeb5OXp0_GeWs",Ni="saVjTFMyWYUz975_tkQm",xi="thi8fNCkEhutRkDC90c0",ji="pHVlkChuJpEnBQyU3ADv",Ti="ENWs3JxcqtD98_8fbPz2",Ci="L8IUKEJL6JiTyE_qUVCc",Fi="XcyjdXgsNX0DBt72tfiD",Ri="VhJnuS7UcUPfIlzD8dlU",Ai="He29vQ5anFj_bJ5iEaI2";var Di,Ei=function(e){var n,i=e.searchResult,t=e.index,a=e.isRTL,l=e.onClick,r=null===(n=i.images.at(0))||void 0===n?void 0:n.url;return(0,S.jsx)(hi.RX,{className:Ti,rowIndex:t,"aria-selected":!1,children:(0,S.jsxs)("div",{"aria-label":"".concat(v.ag.get("artist-page.tracks.seemore")," ").concat(i.name),className:Ai,onClick:l,children:[(0,S.jsxs)(hi.id,{columnIndex:0,className:Ci,children:[void 0!==r?(0,S.jsx)("img",{className:xi,src:r,alt:i.name}):null,(0,S.jsxs)("div",{className:Fi,children:[(0,S.jsx)(u.D,{as:"p",className:ji,variant:"ballad",children:i.name}),(0,S.jsx)(u.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",children:v.ag.get("album")})]})]}),(0,S.jsx)(hi.id,{columnIndex:1}),(0,S.jsx)(hi.id,{columnIndex:2,children:(0,S.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":"See more from ".concat(i.name),className:Ri,onClick:l,children:a?(0,S.jsx)(In.e,{}):(0,S.jsx)(On.V,{})})})]})})},Pi=i(7013),Oi=function(e){var n=e.size;return(0,S.jsx)("div",{className:Ni,children:(0,S.jsx)(Pi.a,{iconSize:n})})},Ii=function(e){var n,i=e.searchResult,t=e.index,a=e.isRTL,l=e.onClick,r=null===(n=i.images.at(0))||void 0===n?void 0:n.url;return(0,S.jsx)(hi.RX,{className:Ti,rowIndex:t,"aria-selected":!1,children:(0,S.jsxs)("div",{"aria-label":"".concat(v.ag.get("artist-page.tracks.seemore")," ").concat(i.name),className:Ai,onClick:l,"data-testid":"playlist-inline-curation-artist",children:[(0,S.jsxs)(hi.id,{columnIndex:0,className:Ci,children:[void 0!==r?(0,S.jsx)("img",{className:gi,src:r,alt:i.name}):(0,S.jsx)(Oi,{size:16}),(0,S.jsxs)("div",{className:Fi,children:[(0,S.jsx)(u.D,{as:"p",className:ji,variant:"ballad",children:i.name}),(0,S.jsx)(u.D,{as:"p",variant:"mesto",semanticColor:"textSubdued",children:v.ag.get("artist")})]})]}),(0,S.jsx)(hi.id,{columnIndex:1}),(0,S.jsx)(hi.id,{columnIndex:2,children:(0,S.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":"See more from ".concat(i.name),className:Ri,onClick:l,children:a?(0,S.jsx)(In.e,{}):(0,S.jsx)(On.V,{})})})]})})},Li=function(e){var n,i,t=e.episode,a=e.contextUri,l=e.index,r=e.usePlayContextItem;return(0,S.jsx)(be.YK,{uid:t.id,uri:t.uri,isPlayable:t.isPlayable,isMOGEFRestricted:t.is19PlusOnly,isExplicit:t.isExplicit,contextUri:a,name:t.name,imgUrl:null!==(n=null===(i=t.images.at(0))||void 0===i?void 0:i.url)&&void 0!==n?n:"",index:l,podcast:t.podcast,usePlayContextItem:r})},wi=function(e){var n=e.label,i=e.index,t=e.isRTL,a=e.onClick;return(0,S.jsx)(hi.RX,{className:Ti,rowIndex:i,"aria-selected":!1,children:(0,S.jsxs)("div",{"aria-label":n,className:Ai,onClick:a,children:[(0,S.jsx)(hi.id,{columnIndex:0,className:Ci,children:(0,S.jsx)(u.D,{as:"p",className:ji,variant:"ballad",children:n})}),(0,S.jsx)(hi.id,{columnIndex:1}),(0,S.jsx)(hi.id,{columnIndex:2,children:(0,S.jsx)("button",{"data-testid":"top-bar-forward-button","aria-label":n,className:Ri,onClick:a,children:t?(0,S.jsx)(In.e,{}):(0,S.jsx)(On.V,{})})})]})})},Ui=function(e){var n=e.track,i=e.contextUri,t=e.index,a=e.usePlayContextItem;return(0,S.jsx)(be.cp,{uid:n.id,uri:n.uri,isPlayable:n.isPlayable,isMOGEFRestricted:n.is19PlusOnly,isExplicit:n.isExplicit,contextUri:i,name:n.name,imgUrl:n.album.imgUrl,index:t,album:n.album,artists:n.artists,usePlayContextItem:a})};function _i(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function Vi(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?_i(Object(i),!0).forEach((function(n){(0,y.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_i(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}!function(e){e[e.SEARCH=0]="SEARCH",e[e.ALBUM=1]="ALBUM",e[e.ARTIST=2]="ARTIST",e[e.PODCAST=3]="PODCAST",e[e.PLAYLIST=4]="PLAYLIST",e[e.ALBUMRESULTS=5]="ALBUMRESULTS",e[e.ARTISTRESULTS=6]="ARTISTRESULTS",e[e.PODCASTRESULTS=7]="PODCASTRESULTS",e[e.EPISODERESULTS=8]="EPISODERESULTS",e[e.TRACKRESULTS=9]="TRACKRESULTS"}(Di||(Di={}));var Mi=function(e,n){return"GO_BACK"===n.type?1===e.breadcrumbs.length?e:e=Vi(Vi({},e),{},{breadcrumbs:e.breadcrumbs.slice(0,e.breadcrumbs.length-1)}):"NAV_TO_ENTITY"===n.type?e=Vi(Vi({},e),{},{breadcrumbs:[].concat((0,t.Z)(e.breadcrumbs),[n.level])}):("NAV_TO_RESULTS"===n.type?e=Vi(Vi({},e),{},{breadcrumbs:[].concat((0,t.Z)(e.breadcrumbs),[n.level])}):"CHANGE_TERM"===n.type&&(e={term:n.term,breadcrumbs:[{navType:Di.SEARCH,term:n.term,title:""}]}),e)},Zi=function(e){var n,i=e.resultList,t=e.level,a=e.isRTL,l=e.playlistUri,r=e.navToResults,s=e.navToEntity,d=e.term,c=i,m=function(e){return e.filter((function(e){return e.type===Ze.p.TRACK||e.type===Ze.p.EPISODE})).map((function(e){var n=e.uri,i=e.id;return{type:(0,p.wj)(n)?Ze.p.TRACK:Ze.p.EPISODE,uri:n,uid:i,provider:null}}))}(i),k=(0,re.n)({uri:"".concat(l.replace("spotify:","spotify:internal:recs:"),":").concat(encodeURIComponent(d),":").concat(null!==(n=null==t?void 0:t.navType)&&void 0!==n?n:0),pages:[{items:m}]},{featureIdentifier:"search"}).usePlayContextItem,f=(0,o.useCallback)((function(e,n){return(0,S.jsx)(wi,{isRTL:a,index:n,label:e.label,onClick:function(){r({navType:e.type,term:d,title:e.label})}},e.uri)}),[a,r,d]),b=(0,o.useCallback)((function(e,n){return e.type===Ze.p.ARTIST?(0,S.jsx)(Ii,{isRTL:a,index:n,searchResult:e,onClick:function(){s({navType:Di.ARTIST,uri:e.uri,title:e.name})}},e.uri):e.type===Ze.p.EPISODE?(0,S.jsx)(Li,{index:n,episode:e,contextUri:l.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:k},e.uri):e.type===Ze.p.TRACK?(0,S.jsx)(Ui,{index:n,track:e,contextUri:l.replace("spotify:","spotify:internal:recs:"),usePlayContextItem:k},e.uri):(0,S.jsx)(Ei,{index:n,isRTL:a,searchResult:e,onClick:function(){s({navType:Di.ALBUM,uri:e.uri,title:e.name})}},e.uri)}),[a,s,l,k]);if(""===d)return(0,S.jsx)("div",{className:B.Z.emptySearchTermContainer});if(!i||0===(null==i?void 0:i.length))return(0,S.jsxs)("div",{className:B.Z.emptyStateContainer,children:[(0,S.jsx)(u.D,{as:"h1",variant:"canon",children:v.ag.get("search.empty-results-title",d)}),(0,S.jsx)(u.D,{as:"p",variant:"mesto",children:v.ag.get("search.empty-results-text")})]});if((null==t?void 0:t.navType)===Di.SEARCH){var y=[{type:Di.ARTISTRESULTS,label:v.ag.get("playlist.curation.see_all_artists"),uri:"spotify:internal:recs:see-all-artists"},{type:Di.ALBUMRESULTS,label:v.ag.get("playlist.curation.see_all_album"),uri:"spotify:internal:recs:see-all-albums"},{type:Di.TRACKRESULTS,label:v.ag.get("playlist.curation.see_all_songs"),uri:"spotify:internal:recs:see-all-songs"}];return c=i,(0,S.jsx)(pi,{renderRow:b,searchResults:c,renderSeeAllRow:f,seeAllXList:y})}return(null==t?void 0:t.navType)===Di.ALBUM?(0,S.jsx)(vi,{renderRow:b,searchResults:c}):(null==t?void 0:t.navType)===Di.ARTIST?(0,S.jsx)(fi,{renderRow:b,searchResults:c}):(null==t?void 0:t.navType)===Di.ALBUMRESULTS?(0,S.jsx)(bi,{renderRow:b,searchResults:c}):(null==t?void 0:t.navType)===Di.TRACKRESULTS?(0,S.jsx)(yi,{renderRow:b,searchResults:c}):(null==t?void 0:t.navType)===Di.ARTISTRESULTS?(0,S.jsx)(Si,{renderRow:b,searchResults:c}):null},Bi=function(e){var n=e.playlistUri,i=e.onCurationModeChange,r=(0,o.useState)([]),d=(0,l.Z)(r,2),c=d[0],m=d[1],k=(0,o.useState)(),p=(0,l.Z)(k,2),f=p[0],b=p[1],y=(0,Ln.S)(),h=function(){var e=(0,o.useReducer)(Mi,{term:"",breadcrumbs:[]}),n=(0,l.Z)(e,2),i=n[0],t=n[1],a=i.breadcrumbs,r=i.term;return{changeTerm:function(e){t({type:"CHANGE_TERM",term:e})},level:a[a.length-1]||null,goBack:function(){t({type:"GO_BACK"})},navToEntity:function(e){t({type:"NAV_TO_ENTITY",level:e})},navToResults:function(e){t({type:"NAV_TO_RESULTS",level:e})},term:r}}(),g=h.level,N=h.changeTerm,x=h.goBack,j=h.navToEntity,T=h.navToResults,C=h.term,F=(0,o.useContext)(wn.Ax).request;return(0,o.useEffect)((function(){var e=!0,n=function(){var n=(0,a.Z)(s().mark((function n(){var i,a,l;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(g){n.next=2;break}return n.abrupt("return");case 2:n.t0=g.navType,n.next=n.t0===Di.SEARCH?5:n.t0===Di.ARTISTRESULTS?21:n.t0===Di.ALBUMRESULTS?23:n.t0===Di.TRACKRESULTS?25:n.t0===Di.EPISODERESULTS?27:n.t0===Di.ALBUM?29:n.t0===Di.ARTIST?40:51;break;case 5:if(n.prev=5,f&&(f.query===C||""===C)){n.next=13;break}return n.next=9,ei(F,C);case 9:i=n.sent,e&&b(i),n.next=14;break;case 13:""===C&&m([]);case 14:n.next=19;break;case 16:n.prev=16,n.t1=n.catch(5),m([]);case 19:return f&&m(f.topResults),n.abrupt("break",52);case 21:return f&&m(null==f?void 0:f.artists),n.abrupt("break",52);case 23:return f&&m(null==f?void 0:f.albums),n.abrupt("break",52);case 25:return f&&m(null==f?void 0:f.tracks),n.abrupt("break",52);case 27:return f&&m(null==f?void 0:f.episodes),n.abrupt("break",52);case 29:return n.prev=29,n.next=32,ni(F,g.uri,100,0);case 32:a=n.sent,e&&a&&m(a.tracks),n.next=39;break;case 36:n.prev=36,n.t2=n.catch(29),m([]);case 39:return n.abrupt("break",52);case 40:return n.prev=40,n.next=43,ii(F,g.uri,100,0);case 43:l=n.sent,e&&l&&m([].concat((0,t.Z)(l.albums),(0,t.Z)(l.tracks))),n.next=50;break;case 47:n.prev=47,n.t3=n.catch(40),m([]);case 50:case 51:return n.abrupt("break",52);case 52:case"end":return n.stop()}}),n,null,[[5,16],[29,36],[40,47]])})));return function(){return n.apply(this,arguments)}}();return n(),function(){e=!1}}),[g,C,f,F]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)("section",{className:B.Z.playlistInlineCurationSection,children:[(0,S.jsxs)("div",{className:B.Z.playlistInlineCurationWrapper,children:[(0,S.jsx)(u.D,{as:"h1",className:B.Z.playlistInlineCurationTitle,variant:"canon",children:v.ag.get("playlist.curation.title")}),(0,S.jsx)(o.Suspense,{fallback:null,children:(0,S.jsx)(ki,{placeholder:v.ag.get("playlist.curation.search_placeholder"),onFocus:function(){i(!0)},onChange:function(e){N(e)}})})]}),(0,S.jsx)("button",{className:B.Z.playlistInlineCurationCloseButton,onClick:function(){return i(!1)},children:(0,S.jsx)(an.k,{"aria-label":v.ag.get("close")})})]}),null!==g&&g.navType!==Di.SEARCH?(0,S.jsxs)("button",{className:B.Z.playlistInlineCurationBackButton,onClick:function(){return x()},children:[y?(0,S.jsx)(On.V,{"aria-label":v.ag.get("navbar.go-back"),className:B.Z.icon}):(0,S.jsx)(In.e,{"aria-label":v.ag.get("navbar.go-back"),className:B.Z.icon}),(0,S.jsx)(u.D,{as:"p",variant:"cello",children:g.title})]}):null,(0,S.jsx)("div",{className:B.Z.searchResultListContainer,"data-testid":"playlist-inline-curation-results",children:(0,S.jsx)(Zi,{playlistUri:n,term:C,level:g,resultList:c,navToEntity:j,navToResults:T,isRTL:y})})]})},Qi=o.lazy((function(){return Promise.all([i.e(1814),i.e(6830),i.e(7405)]).then(i.bind(i,16830))})),Wi=o.lazy((function(){return i.e(7427).then(i.bind(i,31402))})),Ki=o.memo((function(e){var n=e.playlist,i=e.capabilities,r=n.metadata,b=r.uri,y=r.name,h=r.images,g=r.totalLength,N=r.unfilteredTotalLength,x=r.isOwnedBySelf,j=r.isCollaborative,O=r.hasEpisodes,I=r.hasSpotifyTracks,w=r.canAdd,U=r.canRemove,_=r.canPlay,V=r.formatListData,J=r.hasDateAdded,se=r.collaborators,de=r.isPublished,ce=n.contents.items,ue=(0,fe.fU)(k.createDesktopPlaylistEventFactory,{data:{uri:b}}),me=ue.spec,ke=ue.logger,pe=ue.UBIFragment,ve=(0,X.k)(),be=o.useMemo((function(){return me.headerFactory()}),[me]),ye=o.useMemo((function(){return me.tracklistFactory()}),[me]),Se="chart"===(null==V?void 0:V.type),he="live-streams"===(null==V?void 0:V.type),ge=["blend","celebrity-blend","friends-mix"].indexOf((null==V?void 0:V.type)||"")>-1,Ne=!!O,je=(null==V?void 0:V.attributes)||{},Te=je.header_image_url_desktop||je.image_url||null,Ce=w&&U,Fe=function(e,n){var i=(0,o.useState)(e&&0===n),t=(0,l.Z)(i,2),a=t[0],r=t[1],s=(0,o.useContext)(le.VX).scrollNodeChildRef,d=(0,o.useRef)(a);return(0,o.useEffect)((function(){var e,n=!d.current;s&&n&&a&&(null===(e=s.current)||void 0===e||e.scrollIntoView({block:"end",behavior:"smooth"})),d.current=a}),[s,a]),{inlineCurationModeIsOn:a,handleInlineCurationModeChange:function(e){r(e)}}}(Ce,N),Re=Fe.inlineCurationModeIsOn,Ae=Fe.handleInlineCurationModeChange,De=i.canFilter&&N>0,Ee=i.canSort&&N>0,Pe=N>0,Le=(0,d.v9)(ie.Gg).productState,we=!!Le&&parseInt(Le.ads,10)>0,Ue=(0,d.I0)(),Ve=(0,c.ur)(),Me=(0,c.TH)(),Ze=(0,m.W6)(ne.v8),Be="POP"!==Ve?new URLSearchParams(Me.search).get("uid"):null,Qe=(0,L.Z)(b),We=(0,l.Z)(Qe,2),Ke=We[0],ze=We[1],Je=(0,q.o)(),Ge=(0,o.useContext)(W.fo).filter,qe=(0,o.useContext)(K.Gb).sortState,Xe=(0,o.useRef)(null),Ye=(0,o.useRef)(null),en=(0,l.Z)(h,1)[0],nn=(0,Y.Z)(null!==Te?Te:(null==en?void 0:en.url)||null),tn=o.useMemo((function(){return me.actionBarFactory()}),[me]),an=(0,re.n)((0,oe.U)(b,(0,Q._j)(qe),Ge),{featureIdentifier:"playlist"}),ln=an.isPlaying,rn=an.isActive,sn=an.togglePlay,on=an.usePlayContextItem,dn=(0,o.useCallback)((function(){var e=(0,ee.aK)({isPlaying:ln,isActive:rn,spec:tn.playButtonFactory(),logger:ke,uri:b});sn({loggingParams:e})}),[ln,rn,sn,tn,ke,b]),cn=(0,o.useCallback)((0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Je({targetUri:b,intent:Ke?"unsave":"save",type:"click"}),e.prev=1,e.next=4,ze(!Ke);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])}))),[Ke,Je,ze,b]),un=(0,o.useCallback)((function(){var e=tn.shareButtonFactory().hitShare({entityToBeShared:b,shareId:""});ke.logInteraction(e)}),[tn,ke,b]),mn=(0,o.useCallback)((function(){var e,n=tn.heartButtonFactory();e=Ke?n.hitUnfollow({itemToBeUnfollowed:b}):n.hitFollow({itemToBeFollowed:b}),ke.logInteraction(e),cn()}),[tn,cn,Ke,ke,b]),kn=(0,o.useCallback)((function(e){var n=e.split(/[\r\n]+/g).map((function(e){return(0,p.EC)(e)})).filter((function(e){return(0,p.wj)(e)||(0,p.hn)(e)||(0,p.dB)(e)}));if(n.length>0&&w){var i,t,a,l=n.map((function(e){return e.toURI()})),r=null===(i=Xe.current)||void 0===i||null===(t=i.getSelected())||void 0===t||null===(a=t.slice(-1))||void 0===a?void 0:a[0],s={after:(null==r?void 0:r.uid)||"end"};Ue((0,f.jV)(b,l,s))}}),[w,Ue,b]);(0,$.aw)(kn);var pn=(0,o.useCallback)((function(e,n){var i=[].concat((0,t.Z)(n[G.aN[p.JM.TRACK]]||[]),(0,t.Z)(n[G.aN[p.JM.LOCAL_TRACK]]||[]),(0,t.Z)(n[G.aN[p.JM.EPISODE]]||[]),(0,t.Z)(n[G.aN[p.JM.ALBUM]]||[]));i.length>0&&w&&(ke.logInteraction(me.dragAddToPlaylist({playlist:b,itemToBeAdded:i[0]})),Ue((0,f.jV)(b,i)),Je({targetUri:b,intent:"add",type:"drop"}))}),[w,ke,me,b,Ue,Je]);return(0,S.jsxs)(o.Suspense,{fallback:null,children:[(0,S.jsx)(E.$,{children:v.ag.get("playlist.page-title",y)}),(0,S.jsx)(D.Z,{types:[G.aN[p.JM.TRACK],G.aN[p.JM.LOCAL_TRACK],G.aN[p.JM.EPISODE],G.aN[p.JM.ALBUM]],onDrop:pn,children:(0,S.jsxs)("section",{role:"presentation",className:B.Z.playlist,"data-testid":"playlist-page","data-test-uri":b,children:[(0,S.jsx)(Ie.s,{metadata:n.metadata,isPlaying:ln,isPublished:de,togglePlay:dn,backgroundColor:nn,spec:be}),(0,S.jsxs)("div",{className:B.Z.playlistContent,children:[(0,S.jsxs)(C.o,{backgroundColor:nn,children:[(0,S.jsxs)(C.F,{children:[_?(0,S.jsx)(Z.$,{onClick:dn,isPlaying:ln,size:"lg",uri:b,ariaPlayLabel:v.ag.get("playlist.a11y.play",y),ariaPauseLabel:v.ag.get("playlist.a11y.pause",y)}):null,x&&I&&(0,S.jsx)(H.v,{uri:b,renderEnabled:function(){return(0,S.jsx)(z.v,{uri:b})}}),x?null:(0,S.jsx)(P.r,{children:(0,S.jsx)(te.H,{isAdded:!!Ke,onClick:mn,size:te.q.md})}),(0,S.jsx)(F.o,{uri:b,isFollowing:!!Ke,canDownload:Pe,onClick:function(e,n){return(0,ee.l7)(n,tn.downloadButtonFactory(),ke,b)},onFollow:cn,size:F.q.md}),(0,S.jsx)(M.F,{property:ne.bM,renderNewExperience:function(){var e;return null!==(e=n.metadata.permissions)&&void 0!==e&&e.canAdministratePermissions?(0,S.jsx)(Oe,{onClick:un,label:v.ag.get("permissions.invite-collaborators",y),uri:b}):null}}),(0,S.jsx)(ae.y,{onShow:function(){return(0,ee.qq)(tn,ke)},menu:(0,S.jsx)(A.X,{uri:b,isPublished:de}),children:(0,S.jsx)(R.z,{label:v.ag.get("more.label.context",y)})}),De&&Ee&&(0,S.jsx)(pe,{spec:tn,children:(0,S.jsx)(_e,{metadata:n.metadata,tracklistDomRef:Ye})})]}),Ze&&(0,S.jsx)(Pn,{})]}),(0,S.jsx)(o.Suspense,{fallback:null,children:(0,S.jsx)(Wi,{formatListData:n.metadata.formatListData})}),(0,S.jsxs)("div",{className:"contentSpacing",children:[we?(0,S.jsx)(T,{playlistUri:b}):null,g>0&&(0,S.jsx)(o.Suspense,{fallback:null,children:(0,S.jsx)(pe,{spec:ye,children:Se?(0,S.jsx)(xe,{ariaLabel:y,nrTracks:g,playlistUri:b,rankType:je.rank_type||"",scrollToUid:Be,usePlayContextItem:on,tracklistDomRef:Ye},b):(0,S.jsx)(He,{ariaLabel:y,nrTracks:g,playlistUri:b,playlistName:y,hasDateAdded:J,isCollaborative:j,isMixedMedia:Ne,isLive:he,isBlend:ge,canEdit:Ce,scrollToUid:Be,feedbackPath:je["dislike-endpoint"],deleteFeedbackPath:je["delete-endpoint"],usePlayContextItem:on,tracklistRef:Xe,tracklistDomRef:Ye,nrCollaborators:null==se?void 0:se.count,canRemove:U,spec:ye,initialItems:ce},b)})}),x&&(0,S.jsx)(o.Suspense,{fallback:null,children:Re?(0,S.jsx)(Bi,{playlistUri:b,onCurationModeChange:Ae}):(0,S.jsx)("button",{className:B.Z.seeMore,onClick:function(){Ae(!0)},children:(0,S.jsx)(u.D,{as:"div",variant:"minuetBold",children:v.ag.get("playlist.curation.find_more")})})}),Ce&&!Re&&ve?(0,S.jsx)($e,{playlistUri:b,playlistLength:n.metadata.unfilteredTotalLength}):null]})]})]})})]})})),zi=o.memo((function(e){var n=e.uri,i=(0,c.TH)(),t=(0,m.W6)(ne.bM),a=(0,o.useContext)(se.ZF).getCapabilities(),l=(0,d.v9)(ie.Gg).isAnonymous,r=(0,J.U)(n).isEnhanced,s=(0,o.useContext)(W.fo).filter,u=(0,o.useContext)(K.Gb).sortState,k=function(e,n,i){var t=(0,o.useContext)(de.Z),a=(0,ue.useQueryClient)(),l=(0,o.useRef)(null==n?void 0:n.withSync),r=(0,me.jP)((function(){return["usePlaylist",e,n,i]}),[e,n,i]),s=(0,ue.useQuery)(r(),(function(){return t.getPlaylist(e,pe(pe({},n),{},{withSync:l.current}),i)}),{cacheTime:36e5,keepPreviousData:!0}).data,d=(0,o.useCallback)((function(){l.current=!1,a.invalidateQueries(r())}),[a,r]);return(0,ce.r)(e,d),null!=s?s:null}(n,{decorateFormatListData:!0,withSync:!0,hydrateCollaboratorsWithMembers:t},{offset:0,limit:25,sort:(0,Q._j)(u),filter:s});return(0,o.useEffect)((function(){var e=new URLSearchParams(i.search).get("prid");if(!l&&e){var t="https://spclient.wg.spotify.com/algotorial-sharing-service/v1/shared?playlistId=".concat(n,"&sharedEntityUri=").concat(e);(0,ve.k)().request(t,{method:"POST",authorize:!0,allowOffline:!0})}}),[n,l,i.search]),k?k.metadata.permissions&&!k.metadata.permissions.canView?(0,S.jsx)(_,{uri:n}):(0,S.jsx)(H.v,{uri:n,renderEnabled:function(){return r?(0,S.jsx)(o.Suspense,{fallback:null,children:(0,S.jsx)(Qi,{metadata:k.metadata,capabilities:a,featureIdentifier:"playlist"})}):(0,S.jsx)(Ki,{playlist:k,capabilities:a})},renderDisabled:function(){return(0,S.jsx)(Ki,{playlist:k,capabilities:a})}}):(0,S.jsx)(V.h,{hasError:!1,errorMessage:v.ag.get("error.not_found.title.playlist"),loadOffline:a.canModifyOffline})}));const Hi=function(){var e=(0,c.UO)().playlistId,n=(0,p.FW)((e||"").split("&")[0]).toURI();return(0,S.jsx)(K.kz,{uri:n,children:(0,S.jsx)(W.hz,{uri:n,children:(0,S.jsx)(zi,{uri:n})})})}}}]);
//# sourceMappingURL=xpui-routes-playlist.js.map