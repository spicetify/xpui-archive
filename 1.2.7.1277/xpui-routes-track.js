"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[730],{26246:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(59496),i=n(90641),r=n(92053),c=n(8662),s=n(25065),o=n(59673),l=n(76750),u=n(32043),d=n(93712);const f=a.memo((function(){const e=(0,r.s0)(),t=(0,r.TH)(),n=(0,a.useContext)(d.ZF),f=(0,u.g)(),{trackId:k=""}=(0,r.UO)(),{isAnonymous:g}=(0,i.v9)(o.Gg),h=new URLSearchParams(t.search).get("context")||"",b=(0,c.tn)(k).toURI(),p=(0,s.QN)({uri:b},{cacheTime:30*l.y}),m=(0,a.useCallback)(((t,n)=>{const a=f.getState(),i=(0,c.EC)(n)?.toURLPath(!0),r=`${i}?highlight=${b}`;g?e(r):(a&&!a.isPaused||t>-1&&f.play({uri:n},{featureIdentifier:"track",referrerIdentifier:"deeplink"},{skipTo:{index:t}}),e(r,{replace:!0}))}),[e,g,f,b]),C=(0,a.useCallback)((()=>{if(p.loading||!p.data?.trackUnion)return;const e=p.data.trackUnion;m(e.trackNumber-1,e?.albumOfTrack?.uri||"")}),[m,p?.data?.trackUnion,p.loading]);return(0,a.useEffect)((()=>{const e=(0,c.nK)(h);h&&e?n.getContents(h).then((e=>{const t=e.items.findIndex((e=>e?.uri===b));t<0?C():m(t,h)})):C()}),[h,C,m,n,b]),null})),k=f}}]);
//# sourceMappingURL=xpui-routes-track.js.map