"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4572],{38116:(e,t,s)=>{s.d(t,{C:()=>u});var a=s(96651),i=s(10124),r=s.n(i),n=s(1712),c=s(12100),o=s(17160),l=s(96196);const d="pvGZ831aNzHTQMZ8CA_u";var m=s(2488);const u=(0,a.memo)((function({onClick:e=(()=>{}),size:t,className:s,uri:i,sharingInfo:u,interactionData:h,ariaLabel:g=c._s.get("mwp.list.item.share"),condensedAll:x}){const{onCopyLink:j}=(0,l.M)({sharingInfo:u,uri:i,interactionData:h}),v=(0,a.useCallback)((()=>{j(),e()}),[e,j]);return(0,m.jsx)(o.a,{ariaLabel:g,size:t,onClick:v,className:r()(d,s),icon:n.O,condensedAll:x,condensed:!0})}))},51336:(e,t,s)=>{s.d(t,{y:()=>_});var a=s(96651),i=s(10124),r=s.n(i),n=s(94539),c=s.n(n),o=s(8004),l=s(14344);s(41260);const d=/(\((?:[0-9]{1,3}:){1,2}[0-9]{2}\))/g;var m=s(11732),u=s(2488);const h=/((?:(?:https?:\/\/)|www\.)(?:(?:(?:[a-z\u00a1-\uffff0-9][-_]*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,}))\.?)(?:[/?#][^\s"]*)?)/gi,g=/^https?:\/\//;function x(e){return"string"==typeof e?(0,u.jsx)(u.Fragment,{children:e.split(h).map(((e,t)=>t%2?(0,u.jsx)(m.Link,{to:`${g.test(e)?"":"https://"}${e}`,children:e},t):e))}):e}const j="QD13ZfPiO5otS0PU89wG",v="xgmjVLxjqfcXK5BV_XyN",p="ZbLneLRe2x_OBOYZMX3M",f="rjdQaIDkSgcGmxkdI2vU",y="umouqjSkMUbvF4I_Xz6r",_=a.memo((function({html:e,onTimeStampClick:t,enableTimestamps:s=!1,enableAutomaticLinkification:i=!1,semanticColor:n="textSubdued",className:o,asTextContent:l=!1}){const m=(0,a.useMemo)((()=>{const a=s?e.split(d).map((e=>e.match(d)?`(<time>${e.replace("(","").replace(")","")}</time>)`:e)).join(""):e;let r;try{r=c()(a,{transform:N(t,n,i,l),dangerouslySetChildren:[]})}catch{r=e}return r}),[s,i,e,t,n,l]);return(0,u.jsx)("div",{className:r()(v,o),children:m})}));function N(e=(()=>{}),t,s,i){let r=0;const n={_:(e,t,n)=>{const c=void 0===t?e:n;return(0,u.jsx)(a.Fragment,{children:s&&!i?x(c):c},"fragment"+r++)}};if(i)return n;return{...n,p:e=>(0,u.jsx)(o.a,{as:"p",variant:"bodyMedium",semanticColor:t,className:y,children:s?x(e.children):e.children}),a:t=>t.href?.startsWith("#t=")?(0,u.jsx)(l.k,{onClick:e,children:t.children}):t.href?(0,u.jsx)(m.Link,{to:t.href,children:t.children}):(0,u.jsx)(u.Fragment,{children:t.children}),ul:e=>(0,u.jsx)("ul",{className:p,children:e.children}),ol:e=>(0,u.jsx)("ol",{className:p,children:e.children}),li:e=>(0,u.jsx)(o.a,{as:"li",variant:"bodyMedium",semanticColor:t,className:f,children:s?x(e.children):e.children}),br:()=>(0,u.jsx)("br",{}),h1:e=>(0,u.jsx)(o.a,{as:"h1",variant:"bodyMediumBold",semanticColor:t,className:j,children:e.children}),h2:e=>(0,u.jsx)(o.a,{as:"h2",variant:"bodyMediumBold",semanticColor:t,className:j,children:e.children}),h3:e=>(0,u.jsx)(o.a,{as:"h3",variant:"bodyMediumBold",semanticColor:t,className:j,children:e.children}),h4:e=>(0,u.jsx)(o.a,{as:"h4",variant:"bodyMediumBold",semanticColor:t,className:j,children:e.children}),h5:e=>(0,u.jsx)(o.a,{as:"h5",variant:"bodyMediumBold",semanticColor:t,className:j,children:e.children}),h6:e=>(0,u.jsx)(o.a,{as:"h6",variant:"bodyMediumBold",semanticColor:t,className:j,children:e.children}),time:t=>(0,u.jsx)(l.k,{onClick:e,children:t.children})}}},47180:(e,t,s)=>{s.d(t,{c:()=>f});var a=s(96651),i=s(8004),r=s(1600),n=s(11732),c=s(57632),o=s(86524);const l="MUiWCNTfb6FcSwVPvQ1V",d="UAk3bMhekwJTV_wIyfsT",m="X9w6LPfKsZHMCs38sVIQ",u="NXn5KjeUOjLGlAfS1Gao",h="N0wgFMDDvCiby4QB5kLJ",g="nloNe2BLRHjz9dxlwfLU",x="FyD0hF1e2PKzRxQ6sYDQ",j="JzXND83mXvcEuntCNR34",v="GR08E4L_rOGljyQQX30R";var p=s(2488);const f=(0,a.memo)((e=>{const{uri:t,title:s,imageUrl:a,date:f,location:y,firstParty:_,onClick:N}=e,k=(0,o.mY)(f);return(0,p.jsxs)(n.Link,{to:t,className:l,"data-testid":"concert-card",onClick:N,children:[a&&(0,p.jsx)(c.U,{children:(0,p.jsx)("div",{role:"img",className:v,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${a})`}})}),(0,p.jsx)("time",{className:d,dateTime:f,children:(0,p.jsx)(i.a,{as:"div",variant:"bodySmallBold",children:(0,o.QD)(k)})}),(0,p.jsxs)("div",{className:m,dir:"auto",children:[(0,p.jsx)(i.a,{as:"p",className:j,variant:"bodySmall",children:[(0,o.eM)(k),(0,o.HI)(k)].join(" • ")}),(0,p.jsx)(i.a,{as:"h2",variant:"bodyMediumBold",className:u,children:s}),(0,p.jsxs)("div",{className:h,children:[_&&(0,p.jsx)("span",{className:x,children:(0,p.jsx)(r.S,{size:"small"})}),(0,p.jsx)(i.a,{as:"span",className:g,variant:"bodySmall","data-testid":"location-name",children:y})]})]})]})}))},4088:(e,t,s)=>{s.d(t,{c:()=>d});var a=s(96651),i=s(14788),r=s(12100),n=s(36351),c=s(37496),o=s(47180),l=s(2488);const d=(0,a.memo)((e=>{const{concert:t,isVirtual:s,onClick:a}=e,{venue:d,location:m}=t,u=t.artists[0];return(0,l.jsx)(o.c,{uri:(0,i.c9)(t.id).toURI(),title:(0,c._0)(t),imageUrl:u.imageUri,date:t.startDate.localDate,location:s?d:[d,m].join(r._s.getSeparator()),firstParty:(0,n.oF)(t),onClick:a})}))},36351:(e,t,s)=>{s.d(t,{Ip:()=>u,K6:()=>m,Sm:()=>h,Uj:()=>c,a8:()=>l,ii:()=>d,oF:()=>o,uU:()=>r});s(73952),s(91372);var a=s(27048),i=s(76312);const r=(e,t)=>{if(!e)return"/concerts";const s=t?.normalize().replaceAll(/\W+/g,"-");return s?`/concerts/location/${e}-${s}`:`/concerts/location/${e}`},n=10;function c(e){if(0===e.length)return[];if(0===e[0].events.length)return[];const t=[];let s={date:e[0].events[0].openingDate.slice(0,n),events:[]};for(const a of e)for(const e of a.events){const a=e.openingDate.slice(0,n);s.date!==a&&(t.push(s),s={date:a,events:[]}),s.events.push(e)}return t.push(s),t}const o=e=>e.ticketers.some((e=>"spotify"===e.partnerDisplayName.toLowerCase())),l=e=>e.concerts.some((({concert:e})=>o(e))),d=e=>{const t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));const s=new Date(t);return s.setDate(t.getDate()+1),{from:t,to:s}},m=e=>{const t=new Date(e);t.setDate(e.getDate()+(6-e.getDay()));const s=new Date(t);s.setDate(t.getDate()+7);const a=new Date(s);return a.setDate(s.getDate()+1),{from:s,to:a}},u=(e,t)=>!!(e?.from&&e?.to&&t?.from&&t?.to)&&((0,a.W)(e.from,t.from)&&(0,a.W)(e.to,t.to)),h=e=>(0,i.G)(e,{representation:"date"})},20658:(e,t,s)=>{s.d(t,{G:()=>c});var a=s(40468),i=s(84264),r=s(56872);const n=e=>{const[t,{username:s,concertUri:a}]=e.queryKey;return(async(e,t)=>{const s=await(0,r.qt)(i.W.getInstance(),e,t);return s.body?.found[0]})(s,a)},c=e=>{const t=["concertInCollection",e];return(0,a.U)({queryKey:t,queryFn:n,retry:!1,enabled:!!e.username})}},26500:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Rt});var a=s(96651),i=s(49232),r=s(15040),n=s(40468),c=s(4564),o=s(33220),l=s(12100),d=s(92376),m=s(20658),u=s(68964),h=s(84264),g=s(56872),x=s(8004),j=s(2468),v=s(31860),p=s(12980),f=s(1044),y=s(62688),_=s(73372),N=s(96956),k=s(40636),S=(s(41260),s(10124)),b=s.n(S),C=s(49612),M=s(21824),D=s(83216),I=s(48856),w=s(38116),U=s(87832),L=s(44488),F=s(81604),P=s(97120),A=s(47876),T=s(95e3),B=s(2488);const K=a.memo((function({uri:e}){const{spec:t}=(0,P.A)(e);return(0,B.jsx)(F.oL,{value:"concert",children:(0,B.jsxs)(L.i,{children:[(0,B.jsx)(A.O,{children:(0,B.jsx)(T.wZ,{spec:t,uri:e,displayText:l._s.get("context-menu.copy-concert-link")})}),(0,B.jsx)(T.sh,{spec:t,uri:e})]})})}));var R=s(85988),z=s(11732);const E=(0,a.memo)((e=>{const{locationName:t,latitude:s,longitude:a,onClick:i}=e,r=new URL("https://maps.google.com/");return r.searchParams.set("q",t),s&&a&&r.searchParams.set("ll",`${s},${a}`),(0,B.jsx)("a",{href:r.href,target:"_blank",onClick:()=>i?.(r.href),children:(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",children:t})})}));var O=s(92292),V=s(86524),Y=s(11765),Q=s(7296),W=s(1072),G=s(8340),q=s(59148);const X="JRuVlk6wpKk6ok7zuW6l",H="YpfopxY2udneDY34uzRN",$="KI_0F1jtTR5tWgl7gZ1E",Z="gKtc3TdowDTXBaVESi1D",J="V8TIr8yJq4tYZfPEzm12",ee="rWFRSaU8daVvtbWEjvp7",te="VvL91cIRcCi1hJh0K845",se="vKcnOO1GNYoLKHg4T4lK",ae="LdW0YNvo_Y77hgqhL4zY",ie="cTkykhjfHxkEGKbxSxXw",re="MaK8gvvxEqNafaMwXWWM",ne="XgeTnLs82tTjczDR6oKn",ce="P3fE7wn6Tqnibn3gljKV",oe="b3qjYcKXwrvfkQkOLMhZ",le="A8LG_5Dvp7IiXDtdR571",de="O0PSSw8ttrMn9lzq_L16",me="D_ffrfn62aOgZKOFfZVr",ue="OH4mOZCual2ejIodzIkL",he="se_ixDV6hBf7lve861oU",ge="YDAJHPP5lDmg71SdvJZC",xe="lKQxSRsi8KcoYx5D7mjh",je="LUMel_X4gQK0J1i6X0sC",ve="rvw6x7R5AiAT48dSkFl9",pe="eIA_y6wnyKS7F4BkMraV",fe="CKbduoHBINBakBcguVzi",ye="oCmeNmHdfNzMD6n4mSqw",_e="l6M4kfGer7xxBaIPco5p",Ne="r5hQwOq0RGo1ptvIthJ0",ke="HRKlEfCQE6VjdRRg0NRf",Se="GWAqJBkan0flx0gBI92h",be="YDoK0ksaHmDfScvMhW4l",Ce="ATEdvw7q5RVFqV_7k5xm",Me="UHICx5Pfx66QaNrl4qIZ",De="G3mQO0982j3xeMZSBLbU",Ie=(0,a.memo)((e=>{const{soldOut:t,futureSaleDate:s,firstParty:a,onRemindMe:i}=e;return t?null:s?(0,B.jsx)(G.g,{className:pe,size:"small",onClick:i,children:l._s.get("concerts.remind_me")}):(0,B.jsx)(G.g,{className:pe,iconTrailing:q.K,size:"small",children:a?l._s.get("concert_buy_tickets"):l._s.get("concert_find_tickets")})})),we=(0,a.memo)((e=>{const{saleType:t,soldOut:s,futureSaleDate:a,minPrice:i,firstParty:r}=e;if(s)return(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Ne,children:l._s.get("concerts.soldout")});if(a)return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ye,children:l._s.get("concerts.tickets_on_sale_soon")}),(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Se,children:l._s.get("concerts.ticket_date_time",(0,V.Mb)(a),(0,V.HI)(a))})]});const n={"on-sale":l._s.get("concerts.on_sale"),presale:l._s.get("concerts.presale")};return(0,B.jsxs)(B.Fragment,{children:[n[t]&&(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ye,children:n[t]}),r&&i&&(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:fe,children:l._s.get("concerts.ticket_price",i)})]})})),Ue=(0,a.memo)((e=>{const{ticketListSpec:t,providerName:s,providerImageUrl:i,url:r,position:n,onRemindMe:c}=e,o=(0,k.Mk)(),l=(0,Q.w)(),d=(0,a.useMemo)((()=>t?.ticketProviderCellFactory({identifier:s,position:n,uri:r})),[t,s,n,r]),m=(0,k.K2)(d),u=new Date,h=e.saleStartDate&&new Date(e.saleStartDate),g=e.saleEndDate&&new Date(e.saleEndDate),j=e.soldOut||g&&u>g||!1,v=h&&h>u?h:void 0,p="spotify"===s.toLowerCase(),f=(0,a.useCallback)((()=>{const e=d?.hitNavigateToExternalUri({destination:r});e&&o.logInteraction(e),l({targetUri:r,intent:"find-concert",type:"click"})}),[d,o,l,r]),y=v?void 0:r;return(0,B.jsxs)("a",{ref:m,href:y,target:"_blank",onClick:f,className:ne,children:[(0,B.jsx)("div",{className:ce,children:(0,B.jsx)(W.WC,{loading:"eager",src:i,height:"100%",width:"100%",className:oe,children:(0,B.jsx)(Y.s,{className:le,size:"medium"})})}),(0,B.jsxs)("div",{className:de,children:[(0,B.jsxs)("div",{dir:"auto",className:_e,children:[(0,B.jsx)(we,{saleType:e.saleType,soldOut:j,futureSaleDate:v,minPrice:e.minPrice,firstParty:p}),(0,B.jsx)(x.a,{as:"p",semanticColor:"textSubdued",children:s})]}),(0,B.jsx)(Ie,{soldOut:j,futureSaleDate:v,firstParty:p,onRemindMe:c})]})]})})),Le=(0,a.memo)((e=>{const{ticketListSpec:t,providerName:s,url:i,position:r}=e,n=(0,k.Mk)(),c=(0,Q.w)(),o=(0,a.useMemo)((()=>t?.ticketProviderCellFactory({identifier:s,position:r,uri:i})),[t,s,r,i]),d=(0,k.K2)(o),m=(0,a.useCallback)((()=>{const e=o?.hitNavigateToExternalUri({destination:i});e&&n.logInteraction(e),c({targetUri:i,intent:"find-concert",type:"click"})}),[o,n,c,i]);return(0,B.jsxs)("a",{href:i,className:ne,onClick:m,target:"_blank",ref:d,children:[(0,B.jsx)("div",{className:ce,children:(0,B.jsx)(Y.s,{className:le,size:"medium"})}),(0,B.jsxs)("div",{className:de,children:[(0,B.jsx)("div",{dir:"auto",className:_e,children:(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ye,children:l._s.get("concerts.on_sale")})}),(0,B.jsx)(G.g,{className:pe,iconTrailing:q.K,size:"small",children:l._s.get("concert_find_tickets")})]})]})})),Fe=(0,a.memo)((e=>{const{concert:t,ticketAvailabilityTranslated:s,entitySpec:n,isConcertSaved:c,isAnonymous:o}=e,{enqueueSnackbar:d}=(0,O.u)(),m=(0,V.mY)(t.date),u=`spotify:concert:${t.id}`,j=(0,a.useMemo)((()=>n.ticketProviderListFactory()),[n]),v=(0,k.Mk)(),p=(0,k.K2)(j),f=(0,a.useMemo)((()=>n.interestedButtonFactory()),[n]),y=(0,k.K2)(f),_=(0,a.useMemo)((()=>n.shareEventButtonFactory({uri:u})),[n,u]),N=(0,k.K2)(_),[S,L]=(0,a.useState)(c),F=(0,i.IP)(r.MD1),P=1===t.ticketers.length&&"Spotify"===t.ticketers[0].partnerDisplayName,A=!!t.ticketers[0].endDate&&(t.ticketers[0].soldOut||(0,V.iW)(t.ticketers[0].endDate?.localDate)),T=P&&A&&t.ticketers[0].partnerURL;if(0===t.ticketers.length)return null;if((0,V.iW)(t.date))return(0,B.jsxs)("div",{className:ae,children:[(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",children:l._s.get("concert_event_ended")}),(0,B.jsx)(x.a,{variant:"bodyMedium",children:(0,B.jsx)(z.default,{to:"spotify:concerts",children:l._s.get("concert_past_message")})})]});const Y=()=>{const e=f.hitUiElementToggle();v.logInteraction(e),(0,g.Mv)(h.W.getInstance(),t.id),d(l._s.get("concerts_added-to-your-saved-events")),v.logInteraction(f.hitAddInterest()),L(!0)};return(0,B.jsxs)("div",{className:ae,ref:p,children:[(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",className:ke,children:"ONLINE"===t.category?(0,B.jsx)("span",{children:t.venue}):(0,B.jsx)(E,{locationName:[t.venue,t.location].join(l._s.getSeparator()),onClick:e=>{const t=n.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});v.logInteraction(t)}})}),(0,B.jsxs)(x.a,{as:"h3",variant:"bodySmall",className:ge,children:[(0,V.Mb)(m)," • ",(0,V.HI)(m)]}),s&&(0,B.jsx)(x.a,{as:"h3",className:se,variant:"bodySmall",children:s}),(0,B.jsxs)("div",{className:X,children:[!o&&F&&(0,B.jsx)(R.Yl,{label:l._s.get("concerts_interested_tooltip"),placement:"top-end",children:(0,B.jsx)(C.w,{size:"small",iconLeading:S?M.k:D.S,className:b()(je,{[ve]:S}),onClick:()=>{const e=f.hitUiElementToggle();v.logInteraction(e),S?((0,g.iS)(h.W.getInstance(),t.id),d(l._s.get("concerts_removed-from-your-saved-events")),v.logInteraction(f.hitRemoveInterest())):((0,g.Mv)(h.W.getInstance(),t.id),d(l._s.get("concerts_added-to-your-saved-events")),v.logInteraction(f.hitAddInterest())),L(!S)},ref:y,children:l._s.get("concerts_interested")})}),(0,B.jsx)("div",{ref:N,children:(0,B.jsx)(w.C,{uri:u,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{v.logInteraction(n.shareEventButtonFactory({uri:u}).hitShare({entityToBeShared:u,shareId:t.id}))},className:be,ariaLabel:l._s.get("concerts_share_with_friends")})}),(0,B.jsx)(U.pD,{menu:(0,B.jsx)(K,{uri:u}),onShow:()=>{const e=n.contextMenuButtonFactory().hitUiReveal();v.logInteraction(e)},children:(0,B.jsx)(I.g,{size:I.o.md})})]}),(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",children:l._s.get("concert.header.available_tickets_from")}),(0,B.jsxs)("div",{className:ie,children:[t.ticketers.map(((e,t)=>(0,B.jsx)(Ue,{concertUri:u,position:t,url:e.url,providerName:e.partnerDisplayName,providerImageUrl:e.imageURL,saleType:e.type,soldOut:e.soldOut,saleStartDate:e.startDate?.localDate,saleEndDate:e.endDate?.localDate,minPrice:e.minPrice,ticketListSpec:j,onRemindMe:Y},e.url))),T&&t.ticketers[0]?.partnerURL&&(0,B.jsx)(Le,{url:t.ticketers[0].partnerURL,providerName:t.ticketers[0].partnerDisplayName,position:t.ticketers.length,ticketListSpec:j},t.ticketers[0].partnerURL)]})]})}));s(73952),s(39568);var Pe=s(3088),Ae=s(29384),Te=s(59792),Be=s(57632);const Ke="eDtH0zY130pQDgDZ4CPX",Re="bnxKFmECExdcmyBXx9f_",ze="alGaeB59BYqDPQkX0woz",Ee="UrPgHWUndGwAWPfONuwd",Oe="pF2W693VDIpPdVTVCsDg",Ve="YGVuy3Qzaam0CJPc_s4K",Ye="r5Kj2xQVLHK0hf_J00US",Qe="qCN2f5PHVrzAPLvQ0lNc",We=(0,a.memo)((e=>{const{imageUri:t,name:s,uri:a,headliner:n,onClick:c}=e,o=(0,i.IP)(r.M1F),d=(0,B.jsxs)(z.Link,{to:a,className:b()(Re,{[ze]:!o}),onClick:c,children:[t?(0,B.jsx)(Be.U,{children:(0,B.jsx)("div",{"data-testid":"image-container",className:Qe,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${t})`}})}):null,(0,B.jsxs)("div",{className:Ee,children:[n&&(0,B.jsx)("div",{className:Ve,children:(0,B.jsx)(x.a,{as:"h4",variant:"bodySmallBold",className:Ye,children:l._s.get("concert.label.headliner")})}),(0,B.jsx)(x.a,{as:"h2",variant:"titleMedium",className:Oe,children:s})]})]});return o?(0,B.jsx)("div",{className:Ke,children:d}):d})),Ge=We,qe=(0,a.memo)((e=>{const{artist:t,albums:s,position:i,lineupArtistsSpec:r}=e,n=(0,a.useMemo)((()=>r.artistRowFactory({position:i,uri:t.uri})),[r,i,t.uri]),c=(0,k.Mk)(),o=0===i,d=`${(0,Te.ag)(t.id)}:discography`;return(0,B.jsx)(F.oL,{value:"headered-grid",index:i,children:(0,B.jsx)(k.Ud,{spec:n||null,children:(0,B.jsx)(Ae.y,{title:o?l._s.get("concert_lineup"):"",total:s.length+2,seeAllUri:d,seeAllLabel:l._s.get("artist-page.show-discography"),onClickShelfSeeAll:()=>{const e=n.seeDiscographyLinkFactory().hitUiNavigate({destination:d});c.logInteraction(e)},removeOffsetMargin:!0,children:[(0,B.jsx)(Ge,{uri:t.uri,name:t.name,imageUri:t.imageUri,headliner:o,onClick:()=>{const e=n.artistCardFactory().hitUiNavigate({destination:t.uri});c.logInteraction(e)}},`ConcertArtistCard-${t.id}`),null,...s.map(((e,s)=>(0,B.jsx)(Pe.Q,{index:s,artists:[{uri:t.uri,name:t.name}],images:[{url:e.imageUri,width:100,height:100}],name:e.name,uri:e.uri,sharingInfo:null},e.uri)))]})})},t.uri)})),Xe=(0,a.memo)((e=>{const{albums:t,artists:s,entitySpec:i}=e,r=(0,a.useMemo)((()=>i.lineupArtistsFactory()),[i]),n=(0,k.K2)(r),c=(0,a.useMemo)((()=>{const e={};return t.forEach((t=>{const s=t.artistName;e[s]?e[s].push(t):e[s]=[t]})),e}),[t]);return(0,B.jsx)("div",{className:me,ref:n,"data-testid":"concert-lineup",children:s.map(((e,t)=>(0,B.jsx)(qe,{artist:e,albums:c[e.name]||[],position:t,lineupArtistsSpec:r},e.uri)))})}));var He=s(19424);const $e="y4xsX4QR_wfM40vOhsQ4",Ze="TPdGbM0PhSqxmhkxP9n2",Je="y33j8HV43EGq3BPkZrLA",et=(0,a.memo)((e=>(0,B.jsxs)(z.Link,{to:"spotify:concerts",className:$e,onClick:e.onClick,children:[(0,B.jsx)(Be.U,{children:(0,B.jsx)("div",{className:Je,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,B.jsx)("div",{className:Ze,children:(0,B.jsx)(x.a,{as:"h2",variant:"titleSmall",children:l._s.get("concerts_browse_more")})})]})));var tt=s(4088);const st=(0,a.memo)((e=>{const t=(0,a.useMemo)((()=>e.entitySpec.recommendedConcertsFactory()),[e.entitySpec]),s=(0,k.Mk)(),i=(0,k.K2)(t),r=e.upcomingConcerts;if(!r||r.length<1)return null;const n=r.map(((e,a)=>{const i=`spotify:concert:${e.concert.id}`;return(0,B.jsx)(tt.c,{concert:e.concert,onClick:()=>{const e=t.concertCardFactory({position:a,uri:i}).hitUiNavigate({destination:i});s.logInteraction(e)}},e.concert.id)}));return(0,B.jsx)("div",{className:he,ref:i,"data-testid":"concert-recommendations",children:(0,B.jsx)(F.oL,{value:"headered-grid",children:(0,B.jsxs)(Ae.y,{title:l._s.get("concerts_more_events"),total:r.length+1,className:xe,showSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:l._s.get("view.see-all"),colGap:He.Gw,removeOffsetMargin:!0,children:[(0,B.jsx)(et,{onClick:()=>{const e=t.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});s.logInteraction(e)}}),n]})})})}));var at=s(37496);const it=(0,a.memo)((e=>{const{data:t,isAnonymous:s,isConcertSaved:a}=e,{artists:i,albums:r,upcomingConcerts:n}=t,c=t.concert.concert,{spec:o}=(0,k.gp)(j.o,{data:{identifier:c.id,uri:`spotify:concert:${c.id}`}});return(0,N.a)(t.color),(0,B.jsxs)("section",{className:J,children:[(0,B.jsx)(p.Q,{children:l._s.get("concert.entity_metadata.title",c.title,c.location,c.venue)}),(0,B.jsxs)(f.I1,{backgroundImages:[{url:t.headerImageUri,width:100,height:100}],backgroundColor:t.color,children:[(0,B.jsxs)(f.a8,{children:[(0,B.jsx)(f.iY,{children:(0,B.jsx)("div",{className:H,children:(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",className:$,children:(0,V.QD)((0,V.mY)(c.date))})})}),(0,B.jsx)(f.on,{className:ee,children:(0,at.cL)(c)})]}),(0,B.jsx)(y.E,{children:(0,B.jsx)("div",{className:ue,children:(0,B.jsx)(_.e,{text:(0,at.cL)(c)})})})]}),(0,B.jsxs)("div",{className:Z,children:[(0,B.jsx)(v.E,{backgroundColor:t.color}),(0,B.jsxs)("div",{className:te,children:[(0,B.jsx)(Fe,{concert:c,ticketAvailabilityTranslated:t.ticketAvailabilityTranslated,entitySpec:o,isAnonymous:s,isConcertSaved:a}),(0,B.jsx)(x.a,{variant:"marginal",semanticColor:"textSubdued",children:l._s.get("events_page.disclaimer")}),(0,B.jsx)(Xe,{artists:i,albums:r,entitySpec:o}),(0,B.jsx)(st,{upcomingConcerts:n,entitySpec:o})]})]})]})})),rt=async e=>{const[t,s]=e.queryKey;return(await(0,g.iE)(h.W.getInstance(),s)).body},nt=()=>{const{concertId:e=""}=(0,o.W4)(),{data:t,isLoading:s}=(0,n.U)({queryKey:["concert",e],queryFn:rt,staleTime:6e5}),a=(0,c.w1)(u.Yf),i=(0,m.G)({username:a,concertUri:`spotify:concert:${e}`}),r=i?.data||!1,{isAnonymous:h}=(0,c.w1)(u.cx);return s?(0,B.jsx)(d.K,{hasError:!1,errorMessage:""}):t?(0,B.jsx)(it,{data:t,isAnonymous:h,isConcertSaved:r}):(0,B.jsx)(d.K,{hasError:!0,errorMessage:l._s.get("concert.error.concert_not_found_title")})};s(35272);var ct=s(14788),ot=s(10928),lt=s(66648),dt=s(21212),mt=s(51336);const ut="my1OfSffsBBzVaY0CAnx",ht="G8dXfUfFJmGQQiyFEgTb",gt="MxwU7pYeMkLJoTSukM8c",xt="cFJ3zd0eZteC05aAkurV",jt="zDAE8Fy28LxnUBVzFvQw",vt="xrXxgPjjuSYP9s68FYhY",pt=(0,a.memo)((e=>{const{location:t,showTime:s,ageRestriction:a,htmlDescription:i,doorsOpenTime:r}=e;return(0,B.jsxs)("div",{className:ut,children:[i?.trim()&&(0,B.jsxs)("div",{className:ht,children:[(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",className:gt,children:l._s.get("artist.about")}),(0,B.jsx)(mt.y,{html:i,onTimeStampClick:()=>{}})]}),(0,B.jsxs)("div",{className:ht,children:[(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",className:gt,children:l._s.get("tracklist.header.venue")}),(0,B.jsxs)("div",{className:vt,children:[(0,B.jsx)(lt.c,{className:xt}),(0,B.jsxs)("div",{children:[(0,B.jsx)(x.a,{as:"h4",variant:"bodyMediumBold",className:jt,children:t.name}),(0,B.jsx)(x.a,{as:"p",variant:"bodyMedium",children:(0,at.ML)({...t,name:""})})]})]}),(0,B.jsxs)("div",{className:vt,children:[(0,B.jsx)(dt.i,{className:xt}),(0,B.jsxs)("div",{children:[(0,B.jsxs)(x.a,{as:"h4",variant:"bodyMediumBold",className:jt,children:[r&&l._s.get("concert.door_time",l._s.formatDate(r,{timeStyle:"short"})),r&&" • ",l._s.get("concert.show_time",l._s.formatDate(s,{timeStyle:"short"}))]}),a?.trim()&&(0,B.jsx)(x.a,{as:"p",variant:"bodyMedium",children:a})]})]})]})]})}));var ft=s(92280);const yt=(0,a.memo)((e=>{const{concertUri:t,entitySpec:s}=e,i=(0,a.useMemo)((()=>s.interestedButtonFactory()),[s]),r=(0,k.K2)(i),n=(0,k.Mk)(),{enqueueSnackbar:o}=(0,O.u)(),d=(0,c.w1)(u.Yf),{data:x,isLoading:j}=(0,m.G)({username:d,concertUri:t}),[v,p]=(0,a.useState)(),f=void 0===v?x:v,y=(0,ct.nX)(t);return(0,B.jsx)(R.Yl,{label:l._s.get("concerts_interested_tooltip"),placement:"top-end",children:(0,B.jsx)(C.w,{ref:r,size:"small",iconLeading:f?M.k:D.S,className:je,"aria-checked":f,disabled:j,onClick:()=>{if(!j)if(f){const e=i.hitRemoveInterest();e&&n.logInteraction(e),p(!1),o(l._s.get("concerts_removed-from-your-saved-events")),(0,g.iS)(h.W.getInstance(),y.id)}else{const e=i.hitAddInterest();e&&n.logInteraction(e),p(!0),o(l._s.get("concerts_added-to-your-saved-events")),(0,g.Mv)(h.W.getInstance(),y.id)}},children:l._s.get("concerts_interested")})})})),_t=(0,a.memo)((e=>{const{concertUri:t,offer:s,position:i,spec:r,onRemindMe:n}=e,c=s.soldOut||(0,V.iW)(s.endDateIsoString),o="Spotify"===s.providerName,d=(0,V.eC)(s.startDateIsoString),m=d?void 0:s.url,u=(0,k.Mk)(),h=(0,Q.w)(),g=(0,a.useMemo)((()=>r.ticketProviderCellFactory({identifier:s.providerName,position:i,uri:s.url})),[r,s.providerName,i,s.url]),j=(0,k.K2)(g),v=(0,a.useMemo)((()=>{if(c)return(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Ne,children:l._s.get("concerts.soldout")});if(d){const e=s.startDateIsoString&&new Date(s.startDateIsoString);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ye,children:l._s.get("concerts.tickets_on_sale_soon")}),e&&(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Se,children:l._s.get("concerts.ticket_date_time",(0,V.Mb)(e),(0,V.HI)(e))})]})}const e={"on-sale":l._s.get("concerts.on_sale"),presale:l._s.get("concerts.presale")};return(0,B.jsxs)(B.Fragment,{children:[e[s.saleType]&&(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:ye,children:e[s.saleType]}),o&&s.minPrice&&(0,B.jsx)(x.a,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:fe,children:l._s.get("concerts.ticket_price",s.minPrice)})]})}),[c,d,s.saleType,s.minPrice,s.startDateIsoString,o]),p=(0,a.useMemo)((()=>c?null:(d&&(G.g,l._s.get("concerts.remind_me")),(0,B.jsx)(G.g,{className:pe,iconTrailing:q.K,size:"small",children:o?l._s.get("concert_buy_tickets"):l._s.get("concert_find_tickets")}))),[c,d,o,n]);return(0,B.jsxs)("a",{href:m,className:ne,target:"_blank",ref:j,onClick:()=>{const e=g.hitNavigateToExternalUri({destination:s.url});e&&u.logInteraction(e),h({targetUri:t,intent:"find-concert",type:"click"})},children:[(0,B.jsx)("div",{className:ce,children:(0,B.jsx)(W.WC,{loading:"eager",src:s.providerImageUrl,height:"100%",width:"100%",className:oe,children:(0,B.jsx)(Y.s,{className:le,size:"medium"})})}),(0,B.jsxs)("div",{className:de,children:[(0,B.jsxs)("div",{dir:"auto",className:_e,children:[v,(0,B.jsx)(x.a,{as:"p",semanticColor:"textSubdued",children:s.providerName})]}),p]})]})})),Nt=(0,a.memo)((e=>{const{concertUri:t,offers:s,entitySpec:i}=e,r=(0,a.useMemo)((()=>i.ticketProviderListFactory()),[i]),n=(0,k.K2)(r);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",children:l._s.get("concert.header.available_tickets_from")}),(0,B.jsx)("div",{ref:n,className:ie,children:s.map(((e,s)=>(0,B.jsx)(_t,{concertUri:t,offer:e,position:s,onRemindMe:()=>{},spec:r},e.url)))}),(0,B.jsx)(x.a,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:re,children:l._s.get("events_page.disclaimer")})]})})),kt=(0,a.memo)((e=>{const{concert:t,entitySpec:s}=e,a=(0,k.Mk)(),i=(0,ft.A)(),r=(0,V.mY)(t.startDateIsoString);if((0,V.iW)(t.startDateIsoString))return(0,B.jsxs)("div",{className:ae,children:[(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",children:l._s.get("concert_event_ended")}),(0,B.jsx)(x.a,{variant:"bodyMedium",children:(0,B.jsx)(z.default,{to:"spotify:concerts",children:l._s.get("concert_past_message")})})]});return(0,B.jsxs)("div",{className:ae,children:[(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",className:ke,children:(0,B.jsx)(E,{locationName:(0,at.ML)(t.location),latitude:t.location.coordinates?.latitude,longitude:t.location.coordinates?.longitude})}),(0,B.jsx)(x.a,{as:"h3",variant:"bodySmall",className:ge,children:[(0,V.Mb)(r),(0,V.HI)(r)].join(" • ")}),(0,B.jsxs)("div",{className:X,children:[!i&&(0,B.jsx)(yt,{concertUri:t.uri,entitySpec:s}),(0,B.jsx)(w.C,{uri:t.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:()=>{const e=s.shareEventButtonFactory({uri:t.uri}).hitShare({entityToBeShared:t.uri,shareId:t.uri});e&&a.logInteraction(e)},className:be,ariaLabel:l._s.get("concerts_share_with_friends")}),(0,B.jsx)(U.pD,{menu:(0,B.jsx)(K,{uri:t.uri}),onShow:()=>{const e=s.contextMenuButtonFactory().hitUiReveal();e&&a.logInteraction(e)},children:(0,B.jsx)(I.g,{size:"large"})})]}),(0,B.jsx)(Nt,{concertUri:t.uri,offers:t.offers.items,entitySpec:s})]})}));var St=s(73108),bt=(s(97296),s(90464));const Ct=(e,t)=>new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime(),Mt=({artist:e})=>{const t=e.goods.events.concerts.items.filter((e=>e.nearUser)).sort(Ct).shift(),s=t&&(e=>{const t=l._s.formatDate(new Date(e?.date.isoString),{day:"numeric",month:"short"});return e.venue.location?.name?`${t}, ${e.venue.location.name}`:t})(t),a=e.goods.events.userLocation?.name,i=`${e.uri}:concerts`;return(0,B.jsxs)("div",{className:Me,children:[t&&a&&(0,B.jsxs)("div",{className:De,children:[(0,B.jsx)(bt.F,{children:l._s.get("concerts.next_concert_near_location_colon",a)}),(0,B.jsx)(z.default,{to:t.uri,children:(0,B.jsx)(bt.F,{semanticColor:"textSubdued",children:s})})]}),(0,B.jsxs)("div",{className:De,children:[(0,B.jsx)(bt.F,{children:l._s.get("concerts.on_tour_colon")}),(0,B.jsx)(z.default,{to:i,children:(0,B.jsx)(bt.F,{semanticColor:"textSubdued",children:l._s.get("concerts.view_all_upcoming_concerts_count",e.goods.events.concerts.totalCount)})})]})]})},Dt=(0,a.memo)((e=>{const{artist:t,position:s,lineupSpec:n}=e,c=(0,a.useMemo)((()=>n.artistRowFactory({position:s,uri:t.uri})),[n,s,t.uri]),o=(0,k.Mk)(),d=(0,i.IP)(r.YVp),m=t.relatedContent.featuringV2.items.flatMap((e=>{const{data:t}=e;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),u=t.discography.popularReleasesAlbums.items,h=t.visuals.avatarImage?.sources?.[0],g=(0,B.jsx)(Ge,{uri:t.uri,name:t.profile.name,imageUri:h?.url,headliner:0===s,onClick:()=>{const e=c?.artistCardFactory().hitUiNavigate({destination:t.uri});e&&o.logInteraction(e)}},t.uri),x=m.map(((e,t)=>{const s="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,B.jsx)(St.I,{index:t,uri:e.uri,name:e.name,images:e.images.items[0]?.sources,description:e.description||"",authorName:s},e.uri)})),j=u.map(((e,t)=>{const s=e.artists.items.map((e=>({uri:e.uri,name:e.profile.name})));return(0,B.jsx)(Pe.Q,{uri:e.uri,index:t,artists:s,images:e.coverArt?.sources||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,B.jsxs)(F.oL,{value:"headered-grid",index:s,children:[(0,B.jsx)(Ae.y,{title:0===s?l._s.get("concert_lineup"):"",total:2+x.length+j.length,seeAllUri:t.uri,seeAllLabel:l._s.get("view.see-all"),onClickShelfSeeAll:()=>{const e=c?.seeDiscographyLinkFactory().hitUiNavigate({destination:t.uri});e&&o.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[g,null,...x,...j],className:Ce}),d&&(0,B.jsx)(Mt,{artist:t})]},t.uri)})),It=(0,a.memo)((e=>{const{artists:t,entitySpec:s}=e,i=(0,a.useMemo)((()=>s.lineupArtistsFactory()),[s]),r=(0,k.K2)(i);return(0,B.jsx)("div",{ref:r,className:me,children:t.flatMap(((e,t)=>{if("Artist"!==e.data.__typename)return[];const s=e.data;return[(0,B.jsx)(Dt,{artist:s,position:t,lineupSpec:i},s.uri)]}))})}));var wt=s(47180);const Ut=(0,a.memo)((e=>{const{concert:t,position:s,recommendedSpec:a}=e,i=(0,k.Mk)(),r=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),n=r.map((e=>e.profile.name)),c=(0,at.GG)(t.title,t.festival,n)?t.title:(0,at.MD)(n),o=r[0]?.visuals.avatarImage?.sources[0];return(0,B.jsx)(wt.c,{uri:t.uri,title:c,date:t.startDateIsoString,location:(0,at.ML)(t.location),imageUrl:o?.url,firstParty:t.firstParty,onClick:()=>{const e=a?.concertCardFactory({position:s,uri:t.uri}).hitUiNavigate({destination:t.uri});e&&i.logInteraction(e)}})})),Lt=(0,a.memo)((e=>{const{relatedConcerts:t,entitySpec:s}=e,i=(0,a.useMemo)((()=>s.recommendedConcertsFactory()),[s]),r=(0,k.Mk)(),n=(0,k.K2)(i),c=t.items.flatMap((e=>"ConcertV2"===e.data.__typename?[e.data]:[]));if(0===c.length)return null;return(0,B.jsx)("div",{ref:n,className:he,"data-testid":"concert-recommendations",children:(0,B.jsx)(F.oL,{value:"headered-grid",children:(0,B.jsxs)(Ae.y,{title:l._s.get("concerts_more_events"),total:t.totalCount,className:xe,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:l._s.get("view.see-all"),children:[(0,B.jsx)(et,{onClick:()=>{const e=i?.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&r.logInteraction(e)}},"browse"),c.map(((e,t)=>(0,B.jsx)(Ut,{position:t,concert:e,recommendedSpec:i},e.uri)))]})})})}));var Ft=s(88272),Pt=s(99972);const At=new Ft.a("concert","query","16abf4e17338f246e96ad39fe909aa3f0cd75ca1f4ea69c785188e613d81a671",null),Tt=e=>{const{concert:t}=e,{spec:s}=(0,k.gp)(j.o,{data:{identifier:(0,ct.nX)(t.uri)?.id,uri:t.uri}}),a=t.artists.items.flatMap((e=>"Artist"===e.data.__typename?[e.data]:[])),i=a[0].visuals.headerImage;(0,ot.aR)(i?.extractedColors?.colorDark.hex);const r=a.map((e=>e.profile.name)),n=(0,at.GG)(t.title,t.festival,r)?t.title:(0,at._C)(r),c=(0,V.mY)(t.startDateIsoString);return(0,B.jsxs)("section",{className:J,children:[(0,B.jsx)(p.Q,{children:l._s.get("concert.entity_metadata.title",t.title,t.location.city,t.location.name)}),(0,B.jsxs)(f.I1,{backgroundImages:i?.sources,children:[(0,B.jsxs)(f.a8,{children:[(0,B.jsx)(f.iY,{children:(0,B.jsx)("div",{className:H,children:(0,B.jsx)(x.a,{as:"h3",variant:"titleSmall",className:$,children:(0,V.QD)(c)})})}),(0,B.jsx)(f.on,{className:ee,children:n})]}),(0,B.jsx)(y.E,{children:(0,B.jsx)("div",{className:ue,children:(0,B.jsx)(_.e,{text:n})})})]}),(0,B.jsxs)("div",{className:Z,children:[(0,B.jsx)(v.E,{backgroundColor:i?.extractedColors?.colorDark.hex}),(0,B.jsxs)("div",{className:te,children:[(0,B.jsx)(kt,{concert:t,entitySpec:s}),(0,B.jsx)(It,{artists:t.artists.items,entitySpec:s}),(0,B.jsx)(pt,{location:t.location,showTime:c,htmlDescription:t.htmlDescription,ageRestriction:t.ageRestriction,doorsOpenTime:t.doorsOpenTimeIsoString?(0,V.mY)(t.doorsOpenTimeIsoString):null}),(0,B.jsx)(Lt,{relatedConcerts:t.relatedConcerts,entitySpec:s})]})]})]})},Bt=()=>{const{concertId:e}=(0,o.W4)(),t=`spotify:concert:${e}`,{loading:s,error:a,data:i}=(r={uri:t},(0,Pt.U)(At,r,n));var r,n;return s?(0,B.jsx)(d.K,{hasError:!1,errorMessage:""}):a||"ConcertV2"!==i?.concert.__typename?(0,B.jsx)(d.K,{hasError:!0,errorMessage:l._s.get("concert.error.concert_not_found_title")}):(0,B.jsx)(Tt,{concert:i.concert})},Kt=()=>(0,i.IP)(r.sTF)?(0,B.jsx)(Bt,{}):(0,B.jsx)(nt,{}),Rt=()=>(0,B.jsx)(a.Suspense,{fallback:!0,children:(0,B.jsx)(Kt,{})})}}]);
//# sourceMappingURL=xpui-routes-concert.js.map