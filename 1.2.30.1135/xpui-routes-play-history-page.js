"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[708],{36875:(e,i,t)=>{t.d(i,{I:()=>P});var s=t(75618),r=t(50959),a=t(10992),l=(t(63961),t(36480),t(38910),t(40032),t(21799),t(21164),t(82187)),n=t.n(l),c=t(28150),d=t(97018),o=t(29693),u=t(97098),m=t(49857),x=t(30386),h=t(65429);var j=t(69918),p=t(94467),g=t(19315);const y="BkpKedcdaMGbvgXMlmcg",v="muYk5XIwKmqR9iNibk_f",f="OEFWODerafYHGp09iLlA",b="m20ShRDiGGDpJ5LSABTi",k="Hvv0e7WKQ4kyftgSQJhg",I="yxf_6IsQEmHjijEBUMTP",N="oaNVBli46GtVjaQKB15g",w="JdlKTdpMquftpMwwegZo",C="Nts_ArOCGeROTDZND3M6",E="FvDsfgxSvLvL3q8d7nQv";var R=t(11527);const A=({items:e,activeItemId:i})=>(0,R.jsx)(p.v,{children:e.map((e=>e.disabled?(0,R.jsx)(g.s,{disabled:!0,role:"menuitemradio",className:I,onClick:e.handleClick,children:e.title},e.uri):(0,R.jsx)(g.s,{role:"menuitemradio",to:e.to,end:!0,"aria-checked":e.itemId===i,className:({isActive:e})=>n()(I,{[N]:e}),onClick:e.handleClick,children:e.title},e.uri)))});var T=t(95090);const U=(0,r.memo)((function({isCentered:e,links:i,landmarkLabel:t,className:s}){const l=(0,r.useRef)(null),[p,g]=(0,r.useState)([]),[I,U]=(0,r.useState)(0),[S,O]=(0,r.useState)([]),B=function(){const[e,i]=(0,r.useState)(window.innerWidth),{scrollNodeChildRef:t}=(0,r.useContext)(x.VX),s=(0,m.y1)((e=>{e?.width&&i(e.width)}),250);return(0,h.y)({refOrElement:t,observeOnly:"width",onResize:s}),e}()??1/0,{pathname:M}=(0,c.TH)(),_=i.find((e=>e.to===M));return(0,r.useEffect)((()=>{l.current&&U(l.current.clientWidth)}),[B]),(0,r.useEffect)((()=>{if(!l.current)return;const e=Array.from(l.current.children).map((e=>e.clientWidth));g(e)}),[i]),(0,r.useEffect)((()=>{if(!l.current)return;if(p.slice(0,-1).reduce(((e,i)=>e+i),0)<=I)return void O([]);const e=p.reduce(((e,i)=>e>i?e:i),0),i=[];let t=e;p.forEach(((e,s)=>{I>=t+e?t+=e:i.push(s)})),O(i)}),[I,p]),(0,R.jsx)("nav",{className:n()(s,y),"aria-label":t,children:(0,R.jsxs)("ul",{className:e?v:C,ref:l,children:[i.filter(((e,i)=>!S.includes(i))).map((e=>{const i=e?.render??(e=>e);return(0,R.jsx)(r.Fragment,{children:i((0,R.jsx)("li",{className:f,children:e.disabled?(0,R.jsx)("div",{className:w,children:(0,R.jsx)(d.x,{variant:"bodySmallBold",children:e.title})}):(0,R.jsx)(T.O,{end:!0,className:({isActive:e})=>n()(w,{[N]:e}),to:e.to,onClick:e.handleClick,children:(0,R.jsx)(d.x,{variant:"bodySmallBold",children:e.title})})}))},e.to)})),S.length||0===p.length?(0,R.jsx)("li",{className:f,children:(0,R.jsx)(j.xV,{renderInline:!0,menu:(0,R.jsx)(A,{items:i.filter(((e,i)=>S.includes(i))),activeItemId:_?.itemId}),children:(e,i,t)=>(0,R.jsxs)("button",{className:n()(b,{[k]:_}),type:"button",onClick:i,ref:t,children:[(0,R.jsx)(d.x,{variant:"bodySmallBold",children:_?_.title:a.ag.get("more")}),e?(0,R.jsx)(o.U,{size:"small",className:E,"aria-hidden":"true"}):(0,R.jsx)(u.i,{size:"small",className:E,"aria-hidden":"true"})]})})}):null]})})}));var S=t(71406),O=t(59773),B=t(24110);const M="vhW0kRN8JJD5UwW4TdXi",_=()=>{const e=(0,B.Y)(),i=(0,r.useCallback)((e=>(0,R.jsx)(O.v,{placement:"bottomEnd",arrow:"topStart",title:a.ag.get("pick-and-shuffle.upsell.title.queue"),children:e})),[]),t=(0,r.useMemo)((()=>[{title:a.ag.get("playback-control.queue"),itemId:"queue",to:"/queue",uri:"spotify:app:queue",render:i,disabled:e},{title:a.ag.get("view.recently-played"),itemId:"history",to:"/history",uri:"spotify:app:history"}]),[e,i]);return(0,R.jsx)(S.w,{children:(0,R.jsx)(U,{className:M,links:t})})},P=({children:e})=>{const i=(0,s.nF)();return(0,R.jsxs)("section",{className:"contentSpacing",children:[e,i&&(0,R.jsx)(_,{})]})}},48099:(e,i,t)=>{t.r(i),t.d(i,{default:()=>K});var s=t(75618),r=t(97018),a=t(10992),l=t(62390),n=t(11890),c=t(11527);const d=()=>(0,c.jsxs)("div",{className:n.Z.emptyContainer,children:[(0,c.jsx)(l.Y,{size:"xxlarge","aria-hidden":"true"}),(0,c.jsx)(r.x,{as:"h1",variant:"titleMedium",semanticColor:"textBase",className:n.Z.emptyContainerTitle,children:a.ag.get("history.empty-title")}),(0,c.jsx)("p",{children:a.ag.get("history.empty-description")})]});var o=t(50959),u=t(17997),m=t(90407),x=t(453),h=t(8495),j=t(92718),p=t(54329),g=t(20704),y=t(55147),v=t(33325),f=t(41646),b=t(57877),k=t(78911),I=t(26132),N=t(89541),w=t(22215),C=t(47899),E=t(85427),R=t(75744),A=t(48545),T=t(79287),U=t(73298),S=t(13707),O=t(49504),B=t(93155);const M=o.memo((function({uri:e,name:i,duration_ms:t,index:s,imgUrl:r,artists:l,album:n,isExplicit:d,isMOGEFRestricted:o,contextItem:u,type:m}){const{isActive:h,isPlaying:p,triggerPlay:g,togglePlay:M}=(0,T.n)({uri:e,pages:[{items:[{...u}]}]},{featureIdentifier:"history"}),_=m===j.p.TRACK,P=m===j.p.EPISODE,D=m===j.p.CHAPTER,G=(0,A._)(e),L=(0,O.k)(e),{badges:F,hasBadges:K}=(0,U.r)({downloadAvailability:G,isExplicit:d,isMOGEFRestricted:o}),Q=l?.map((e=>e.name)).join(a.ag.getSeparator())||"";let W;return P?W=(0,c.jsx)(v.k,{uri:e,contextUri:e,showUri:n.uri}):D?W=(0,c.jsx)(S.r,{uri:e}):_&&(0,y.dB)(e)?W=(0,c.jsx)(f.N,{uri:e,contextUri:e}):_&&(W=(0,c.jsx)(b.$,{uri:e,contextUri:e,albumUri:n.uri,artists:l})),(0,c.jsx)(x.JL,{value:"row",index:s,children:(0,c.jsx)(w._,{menu:W,children:(0,c.jsxs)(N.c,{uri:e,contextUri:e,index:s,ariaRowIndex:s,onTriggerPlay:()=>{g()},isActive:h,isPlayable:L,ageRestricted:o,dragMetadata:{name:i,createdBy:Q},children:[(0,c.jsxs)(k.vZ,{ariaColIndex:0,children:[(0,c.jsx)(k.VG,{uri:e,src:r,isPlaying:p,isActive:h,isLocked:!1,onClick:()=>{M()},isEpisode:(0,y.hn)(e),playAriaLabel:a.ag.get("tracklist.a11y.play",i,Q)}),(0,c.jsxs)(k.vm,{children:[(0,c.jsx)(k.Wh,{titleText:i,children:i}),K&&(0,c.jsxs)(k.g3,{children:[F.download&&(0,c.jsx)(C.G,{}),F.explicit&&(0,c.jsx)(E.N,{}),F.nineteen&&(0,c.jsx)(R.X,{className:I.Z.nineteen,size:16})]}),(0,c.jsx)(k.K9,{children:(0,y.wj)(e)?(0,c.jsx)(k.T6,{artists:l}):l[0]?.name??""})]})]}),(0,c.jsx)(k.UA,{ariaColIndex:2,children:(0,c.jsx)(k.BM,{nonInteractive:(0,y.dB)(e),uri:n.uri,name:n.name,creatorUri:l?.[0]?.uri,children:n.name})}),(0,c.jsxs)(k.mU,{ariaColIndex:1,children:[!D&&(0,c.jsx)(B.f,{uri:e,type:m}),(0,c.jsx)(k.A$,{duration:t}),(0,c.jsx)(k.Zv,{menu:W,label:a.ag.get("more.label.track",i,Q)})]})]})})})}),((e,i)=>e.uri===i.uri)),_=o.memo((function({items:e}){const i=(0,o.useCallback)(((e,i)=>{const t=(0,g.X)(e.images??[],{desiredSize:40});return(0,h.G_)(e)?(0,c.jsx)(M,{index:i,uri:e.isLocal?e.uri:(0,m.$)(e),name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.album,artists:e.artists,isExplicit:e.isExplicit??!1,isMOGEFRestricted:e.is19PlusOnly??!1,contextItem:e,type:j.p.TRACK},i+e.uri):(0,h.iw)(e)?(0,c.jsx)(M,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.show,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:j.p.EPISODE},i+e.uri):(0,h.G7)(e)?(0,c.jsx)(M,{index:i,uri:e.uri,name:e.name,duration_ms:e.duration.milliseconds,imgUrl:t?.url||"",album:e.book,artists:[],isExplicit:!1,isMOGEFRestricted:!1,contextItem:e,type:j.p.CHAPTER},i+e.uri):((0,h.k6)(e)||(0,h.RB)(e)||(0,p._)(e),(0,c.jsx)(u.hU,{height:`${u.dN}px`}))}),[]),t=(0,o.useMemo)((()=>[u.QD.TITLE_AND_ARTIST,u.QD.ALBUM_OR_PODCAST,u.QD.DURATION]),[]),s=(0,o.useCallback)((e=>({uri:e.uri})),[]);return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(x.JL,{value:"play-history-tracklist",children:(0,c.jsx)(u.Pv,{ariaLabel:"play-history",hasHeaderRow:!0,columns:t,renderRow:i,resolveItem:s,tracks:e,nrTracks:e.length,rowPlaceholder:u.hU,limit:50,columnPersistenceKey:"play-history-tracklist"})})})})),P="dt3fysZYdQ6hhWfpmjAu",D="n6LsTkKvpO88xeRyRTdw",G=()=>{const{isLoading:e,data:i}=(0,s.U5)();return e?null:i?.items.length?(0,c.jsxs)("div",{className:P,children:[(0,c.jsx)(r.x,{as:"h1",variant:"titleSmall",semanticColor:"textBase",className:D,children:a.ag.get("view.recently-played")}),(0,c.jsx)(_,{items:i.items})]}):(0,c.jsx)(d,{})};var L=t(36875),F=t(35733);const K=()=>(0,s.nF)()?(0,c.jsx)(L.I,{children:(0,c.jsx)(G,{})}):(0,c.jsx)(F.InstrumentedRedirect,{to:"/"})}}]);
//# sourceMappingURL=xpui-routes-play-history-page.js.map