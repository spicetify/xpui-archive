"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4512],{29572:(e,i,n)=>{n.d(i,{y:()=>H});n(55330),n(14534),n(99801);var a=n(50959),t=n(88798),l=n(83491),r=n(5701),d=n(22038),s=n(11024),o=n(91733),c=n(92389),m=n(18561),u=n(21355),k=n(5898),p=n(90763),v=n(82177),y=n(43206),x=n(84726),g=n(28307),N=n(65939),S=n(47001);var b=n(90880),F=n(44870),h=n(42885),_=n(7637),j=n(28053),f=n(69767),T=n(67808),U=n(22362),C=n(76685),I=n(29611),P=n(90343);var D=n(49857);var R=n(4704),w=n(90950),E=n(51537),A=n(34722),M=n(73806),O=n(52734),$=n(8516);const L="Z9Dr8PkXFtlO8KnnDcxp",V="Bm0LUMlhVIcF5qusgdUP",B="GIyB7JDkRwjtVL6PSBbg",G="whTIka0YYAkqhqrs26Wa";var Q=n(11527);const Z=a.memo((function({uri:e,name:i,imgUrl:n,artists:t,isExplicit:l,index:d,albumUri:s,contextUri:o,isPlayable:k,usePlayContextItem:v,isMOGEFRestricted:L,totalMilliseconds:V,playcount:Z,parentUri:K}){const{isActive:Y,isPlaying:W,triggerPlay:q,togglePlay:J}=v({uri:e,index:d}),X=(0,T._)(e),z=(0,w.k)(e,k),H=t.map((e=>e.name)).join(r.ag.getSeparator()),{badges:ee,hasBadges:ie}=(0,U.r)({isMOGEFRestricted:L,downloadAvailability:X,isExplicit:l}),ne=t.map((e=>e.name)).join(r.ag.getSeparator()),ae=(0,R.E)(),te=(({parentUri:e,destinationUrl:i})=>{const n=(0,x.g)(),t=(0,y.s4)(),l=(0,I.W6)(P.t2x),r=(0,c.v9)(S.n5),d=(0,c.v9)(N.rZ);return(0,a.useCallback)((async()=>{if(!(0,b.YF)(e))return;const a={category:"album_ilr_clicks_on_link",action:"click",variant:l,label:"dwp",os:(0,g.y)(),destination_url:i,context:`${e}|ilr`,country:r?d:"",sp_t:(0,p.vQ)("sp_t")};n?t.send((0,u.k)(a)):t.send((0,m.x)(a))}),[e,d,i,t,n,r,l])})({parentUri:K,destinationUrl:(0,b.EC)(e)?.toURL()}),le=(({parentUri:e,streamedUri:i,usePlayContextItem:n})=>{const a=(0,x.g)(),t=(0,y.s4)(),l=(0,I.W6)(P.t2x),r=(0,c.v9)(S.n5),d=(0,c.v9)(N.rZ),{isPlaying:s}=n({uri:i}),o=s?"play":"pause";return(0,D.y1)((()=>{if(!(0,b.YF)(e))return;const n={category:"album_ilr_streamed",action:a?"clicked":o,variant:l,label:"dwp",os:(0,g.y)(),context:`${e}|${i}`,country:r?d:"",sp_t:(0,p.vQ)("sp_t")};a?t.send((0,u.k)(n)):t.send((0,m.x)(n))}),1500)})({parentUri:K,streamedUri:e,usePlayContextItem:v});return(0,Q.jsx)(f.JL,{value:"row",index:d,children:(0,Q.jsx)(F._,{menu:(0,Q.jsx)(E.$,{uri:e,albumUri:s,artists:t,contextUri:o}),children:(0,Q.jsxs)($.c,{uri:e,contextUri:o,isPlayable:z,onTriggerPlay:(e,i)=>{q({loggingParams:i}),le()},isActive:Y,index:d,ariaRowIndex:d,dragMetadata:{name:i,createdBy:H},children:[(0,Q.jsxs)(M.vZ,{ariaColIndex:0,children:[(0,Q.jsx)(M.VG,{uri:e,src:n,onClick:(e,i)=>{J({loggingParams:i}),le()},isLocked:!1,isPlaying:W,isActive:Y,playAriaLabel:r.ag.get("tracklist.a11y.play",i,H)}),(0,Q.jsxs)(M.vm,{children:[(0,Q.jsx)(A.G,{uri:e,enabled:ae,className:B,onClick:te,children:(0,Q.jsx)(M.Wh,{titleText:i,children:i})}),ie&&(0,Q.jsxs)(M.g3,{children:[ee.download&&(0,Q.jsx)(h.G,{}),ee.explicit&&(0,Q.jsx)(_.N,{}),ee.nineteen&&(0,Q.jsx)(j.X,{className:G,size:16})]}),(0,Q.jsx)(M.K9,{children:(0,Q.jsx)(M.T6,{artists:t})})]})]}),(0,Q.jsx)(M.UA,{ariaColIndex:1,children:(0,Q.jsx)(O.B,{playcount:Z})}),(0,Q.jsxs)(M.mU,{ariaColIndex:2,children:[(0,Q.jsx)(C.f,{uri:e}),(0,Q.jsx)(M.A$,{duration:V}),(0,Q.jsx)(M.Zv,{menu:(0,Q.jsx)(E.$,{uri:e,albumUri:s,contextUri:o,artists:t}),label:r.ag.get("more.label.track",i,ne)})]})]})})})}),((e,i)=>e.uri===i.uri&&e.index===i.index));var K=n(1620);const Y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"internalLinkRecommenderTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"strategy"}},type:{kind:"NamedType",name:{kind:"Name",value:"SEORankingStrategy"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seoRecommended"},arguments:[{kind:"Argument",name:{kind:"Name",value:"seoRecommendedInput"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"strategy"},value:{kind:"Variable",name:{kind:"Name",value:"strategy"}}},{kind:"ObjectField",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"uri"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ilrTrackData"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ilrTrackData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"albumOfTrack"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]};var W=n(65348),q=n(10750),J=n(41812);const X=e=>{return i=e,"NotFound"!==i?.__typename&&"GenericError"!==i?.__typename&&"Track"===e.__typename;var i},z=a.memo((function({inViewRef:e,subtitle:i,uri:n}){const{data:k}=(v={uri:n,strategy:s.JI.ContentOnly},(0,K.a)(Y,v,F));var v,F;const h=k?.seoRecommended.items,_=(0,a.useMemo)((()=>h?.slice(0,Math.min(h.length,5))),[h]),j=(0,a.useCallback)((e=>({uri:"uri"in e.data?e.data.uri:""})),[]),f=(0,a.useMemo)((()=>[J.QD.TITLE_AND_ARTIST,J.QD.ALBUM,J.QD.DURATION]),[]),T=(e=>e?e.filter((e=>X(e.data))).map((e=>e.data.uri)):[])(h);(({uri:e,recommendationUris:i})=>{const n=(0,x.g)(),t=(0,c.v9)(S.n5),l=(0,c.v9)(N.rZ),r=(0,y.s4)(),d=(0,I.W6)(P.t2x),s=`${e}|${i}`;(0,a.useEffect)((()=>{const a={category:"album_ilr_exposures",action:"album_page_visit",variant:d,label:"dwp",os:(0,g.y)(),context:s,country:t?l:"",sp_t:(0,p.vQ)("sp_t")};(0,b.YF)(e)&&0!==i.length&&(n?r.send((0,u.k)(a)):r.send((0,m.x)(a)))}),[s,l,r,n,i.length,e,t,d])})({uri:n,recommendationUris:T});const U=(h||[])?.map((e=>X(e.data)?{...e.data,provider:null,type:o.p.TRACK,uid:null}:{type:o.p.TRACK,uri:"",uid:null,provider:null})),C=(0,W.Y)(n),{usePlayContextItem:D}=(0,d.n)({uri:C,pages:[{items:U}]},{featureIdentifier:"track"}),R=(0,a.useCallback)(((e,i)=>{if(!X(e.data))return(0,Q.jsx)(a.Fragment,{});const t=e.data;return(0,Q.jsx)(Z,{index:i,contextUri:n,uri:t.uri,name:t.name,totalMilliseconds:t.duration.totalMilliseconds,imgUrl:t.albumOfTrack?.coverArt?.sources[0]?.url,isPlayable:t.playability.playable,artists:t.artists.items.map((e=>({uri:e.uri,id:e.id,name:e.profile.name}))),albumUri:t?.albumOfTrack?.uri||"",isExplicit:t.contentRating?.label===s.KS.Explicit,isMOGEFRestricted:t.contentRating?.label===s.KS.NineteenPlus,usePlayContextItem:D,playcount:parseInt(t.playcount||"0",10),parentUri:n},`${i}-${t.uri}`)}),[n,D]);return h?.length?(0,Q.jsxs)("div",{className:L,ref:e,children:[(0,Q.jsxs)("div",{className:V,children:[(0,Q.jsx)(t.x,{variant:"titleSmall",semanticColor:"textBase",children:r.ag.get("playlist.extender.recommended.title")}),(0,Q.jsx)(t.x,{variant:"bodySmall",paddingBottom:l.o7,children:i})]}),(0,Q.jsx)(J.Pv,{ariaLabel:r.ag.get("playlist.extender.recommended.title"),nrTracks:Math.min(h.length,5),rowPlaceholder:J.hU,tracks:_,renderRow:R,resolveItem:j,columns:f},"internal-link-recommender-track-list")]}):null})),H=e=>{const{uri:i,entityType:n}=e,a=(({entityType:e,uri:i})=>{const n=(0,x.g)(),a=(0,y.s4)(),t=(0,c.v9)(S.n5),l=(0,c.v9)(N.rZ);return()=>{(0,v.sQ)({metric_type:k.MetricTypes.COUNTER,what:"dwp-ilr-component-error",value:1,tags:{entityType:e}});const r={category:`${e}_ilr_render_error`,label:"dwp",os:(0,g.y)(),context:i,country:t?l:"",sp_t:(0,p.vQ)("sp_t")};n?a.send((0,u.k)(r)):a.send((0,m.x)(r))}})({entityType:n,uri:i});return(0,Q.jsx)(q.L,{onError:a,children:(0,Q.jsx)(z,{...e})})}},76371:(e,i,n)=>{n.d(i,{k:()=>r});n(55330);var a=n(80956);const t="rTMkDBDp47Eo12ZEQv4U";var l=n(11527);const r=({copyrights:e,courtesyLine:i})=>{const n=(e||[]).map(((e,i)=>{const n=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let t;return t="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,l.jsx)(a.D,{as:"p",variant:"finale",dir:"auto",children:`${t} ${n}`},i)}));return i&&n.unshift((0,l.jsx)(a.D,{as:"p",variant:"finale",dir:"auto",children:i},n.length)),(0,l.jsx)("div",{className:t,children:n})}}}]);
//# sourceMappingURL=4512.js.map