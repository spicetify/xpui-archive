"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[7288],{86716:(e,t,a)=>{a.d(t,{Z:()=>N});a(78390);var n=a(59496),r=a(6042),i=a(22056),c=a(3777),s=a(30985),o=a(38698),l=a(31386),d=a(50838);const u="MUiWCNTfb6FcSwVPvQ1V",h="UAk3bMhekwJTV_wIyfsT",m="QHo82lWWkjoCkDa6baB3",g="X9w6LPfKsZHMCs38sVIQ",x="NXn5KjeUOjLGlAfS1Gao",v="N0wgFMDDvCiby4QB5kLJ",j="nloNe2BLRHjz9dxlwfLU",p="JzXND83mXvcEuntCNR34",f="GR08E4L_rOGljyQQX30R";var y=a(4637);const N=(0,n.memo)((function(e){var t=e.concert,a=e.isVirtual,n=e.onClick,N=t.venue,k=t.location,D=t.artists[0],b=(0,l.CH)(t.startDate.localDate);return(0,y.jsxs)(c.Link,{to:"/concert/".concat(t.id),className:u,onClick:n,children:[D.imageUri&&(0,y.jsx)(s.Z,{children:(0,y.jsx)("div",{role:"img",className:f,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(".concat(D.imageUri,")")}})}),(0,y.jsx)("time",{className:h,dateTime:t.startDate.localDate,children:(0,y.jsx)(r.D,{as:"h5",variant:"minuetBold",className:m,children:(0,l.jx)(b)})}),(0,y.jsxs)("div",{className:g,dir:"auto",children:[(0,y.jsxs)(r.D,{as:"h2",className:p,variant:"minuetBold",children:[(0,o.FO)(b)," • ",(0,l.hK)(b)]}),(0,y.jsx)(r.D,{as:"h2",variant:"cello",weight:"bold",className:x,children:(0,d.ij)(t)}),(0,y.jsx)("div",{className:v,children:(0,y.jsx)(r.D,{as:"h2",className:j,variant:"mesto","data-testid":"location-name",children:a?N:[N,k].join(i.ag.getSeparator())})})]})]})}))},82175:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Pe});var n=a(14942),r=a(88769),i=a(26533),c=a.n(i),s=a(59689),o=a(92053),l=a(22056),d=a(27293),u=a(39359),h=a(32366),m=a(59496),g=a(6042),x=a(51956),v=a(63061),j=a(86417),p=a(18805),f=a(53965),y=a(99567),N=a(69698),k=a(13034),D=(a(15970),a(93019),a(27586),a(56110),a(37029),a(4391),a(3726),a(47408),a(80489)),b=a(97921),C=a(67618),_=a(23351),w=a(24131),L=a(11278),P=a(80392),U=a(4637),I=m.memo((function(e){var t=e.uri,a=(0,w.T)(t).spec;return(0,U.jsx)(_.ZP,{value:"concert",children:(0,U.jsxs)(C.v,{children:[(0,U.jsxs)(L.q,{children:[(0,U.jsx)(P.Jx,{spec:a,uri:t,displayText:l.ag.get("context-menu.copy-concert-link")}),(0,U.jsx)(P.W2,{spec:a,uri:t})]}),(0,U.jsx)(P.h$,{spec:a,uri:t})]})})})),S=a(3777),T=a(46596),A=a(55540),F=a(85584),K=a(96723),E=a(31386);const V="YpfopxY2udneDY34uzRN",Z="KI_0F1jtTR5tWgl7gZ1E",M="gKtc3TdowDTXBaVESi1D",O="V8TIr8yJq4tYZfPEzm12",R="VvL91cIRcCi1hJh0K845",Y="vKcnOO1GNYoLKHg4T4lK",z="LdW0YNvo_Y77hgqhL4zY",H="cTkykhjfHxkEGKbxSxXw",Q="XgeTnLs82tTjczDR6oKn",W="P3fE7wn6Tqnibn3gljKV",G="A8LG_5Dvp7IiXDtdR571",J="OVY7plwgy_AKAzhgoCAF",X="O0PSSw8ttrMn9lzq_L16",q="FtDMCmLKQUjVntZJ3OiI",B="D_ffrfn62aOgZKOFfZVr",$="OH4mOZCual2ejIodzIkL",ee="se_ixDV6hBf7lve861oU",te="YDAJHPP5lDmg71SdvJZC",ae="lKQxSRsi8KcoYx5D7mjh";var ne=(0,m.memo)((function(e){var t=e.concert,a=e.onClick,n=t.category,r=t.venue,i=t.location,c=t.lat,s=t.lon;if("ONLINE"===n)return(0,U.jsx)(g.D,{as:"h3",variant:"canon",children:r});var o=new URL("https://maps.google.com/");return o.searchParams.set("q","".concat(r,",").concat(i)),o.searchParams.set("ll","".concat(c,",").concat(s)),(0,U.jsx)(S.default,{to:o.href,target:"_blank",onClick:function(){return a(o.href)},children:(0,U.jsxs)(g.D,{as:"h3",variant:"canon",children:[r,", ",i]})})}));const re=(0,m.memo)((function(e){var t=e.concert,a=e.ticketAvailabilityTranslated,n=e.entitySpec,r=(0,m.useMemo)((function(){return n.ticketProviderListFactory()}),[n]),i=(0,k.$P)(),c=(0,k.Wi)(r),s=(0,E.CH)(t.date),o="spotify:concert:".concat(t.id),d=(0,T.o)();if(0===t.ticketers.length)return null;if((0,E.OF)(t.date))return(0,U.jsxs)("div",{className:z,children:[(0,U.jsx)(g.D,{as:"h3",variant:"canon",children:l.ag.get("concert_event_ended")}),(0,U.jsx)(g.D,{variant:"ballad",children:(0,U.jsx)(S.default,{to:"spotify:concerts",children:l.ag.get("concert_past_message")})})]});var u;return(0,U.jsxs)("div",{className:z,ref:c,children:[(0,U.jsx)(g.D,{as:"h3",variant:"canon",children:(0,U.jsx)(ne,{concert:t,onClick:function(e){var t=n.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});i.logInteraction(t)}})}),(0,U.jsxs)(g.D,{as:"h3",variant:"mesto",className:te,children:[(0,E.xE)(s)," • ",(0,E.hK)(s)]}),(0,U.jsx)(g.D,{as:"h3",className:Y,variant:"mesto",children:(u=t.ticketers,0===u.length?null:1===u.length?l.ag.get("concert.header.tickets_from_1",u[0].partnerDisplayName):2===u.length?l.ag.get("concert.header.tickets_from_2",u[0].partnerDisplayName,u[1].partnerDisplayName):3===u.length?l.ag.get("concert.header.tickets_from_3",u[0].partnerDisplayName,u[1].partnerDisplayName,u[2].partnerDisplayName):l.ag.get("concert.header.tickets_from_4",u[0].partnerDisplayName,u[1].partnerDisplayName,u[2].partnerDisplayName,u.length-3))}),a&&(0,U.jsx)(g.D,{as:"h3",className:Y,variant:"mesto",children:a}),(0,U.jsx)(A.yj,{menu:(0,U.jsx)(I,{uri:o}),onShow:function(){var e=n.contextMenuButtonFactory().hitUiReveal();i.logInteraction(e)},children:(0,U.jsx)(b.z,{size:32,className:q})}),(0,U.jsx)(g.D.h3,{variant:"canon",children:l.ag.get("concert.header.available_tickets_from")}),(0,U.jsx)("div",{className:H,children:t.ticketers.map((function(e,t){return(0,U.jsxs)(S.default,{to:e.url,className:Q,onClick:function(){var a=r.ticketProviderCellFactory({identifier:e.partnerDisplayName,position:t}).hitNavigateToExternalUri({destination:e.url});i.logInteraction(a),d({targetUri:o,intent:"find-concert",type:"click"})},children:[(0,U.jsx)("div",{className:W,children:(0,U.jsx)(K.Ee,{loading:"eager",srcSet:e.imageURL,src:e.imageURL,height:"100%",width:"100%",children:(0,U.jsx)(D.i,{className:G,iconSize:24})})}),(0,U.jsxs)("div",{className:X,children:[(0,U.jsx)(g.D.span,{children:e.partnerDisplayName}),(0,U.jsx)(F.h,{className:J,iconSize:24})]})]},e.url)}))})]})}));a(98618),a(40905),a(25750);var ie=a(46220),ce=a(86440),se=a(44223),oe=a(48882),le=a(30985);const de="bnxKFmECExdcmyBXx9f_",ue="UrPgHWUndGwAWPfONuwd",he="pF2W693VDIpPdVTVCsDg",me="YGVuy3Qzaam0CJPc_s4K",ge="r5Kj2xQVLHK0hf_J00US",xe="qCN2f5PHVrzAPLvQ0lNc";var ve=(0,m.memo)((function(e){var t=e.entity,a=e.headliner,n=e.onClick,r=t.imageUri,i=t.name,c=t.uri;return(0,U.jsxs)(S.Link,{to:c,className:de,onClick:n,children:[r?(0,U.jsx)(le.Z,{children:(0,U.jsx)("div",{"data-testid":"image-container",className:xe,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat(r,")")}})}):null,(0,U.jsxs)("div",{className:ue,children:[a&&(0,U.jsx)("div",{className:me,children:(0,U.jsx)(g.D,{as:"h4",variant:"minuet",className:ge,weight:"bold",children:l.ag.get("concert.label.headliner")})}),(0,U.jsx)(g.D,{as:"h2",variant:"alto",className:he,children:i})]})]})}));const je=ve;const pe=(0,m.memo)((function(e){var t=e.artist,a=e.albums,n=e.position,r=e.lineupArtistsSpec,i=(0,m.useMemo)((function(){return r.artistRowFactory({position:n,uri:t.uri})}),[r,n,t.uri]),c=(0,k.$P)(),s=0===n,o="".concat((0,oe.GJ)(t.id),":discography");return(0,U.jsx)(_.ZP,{value:"headered-grid",index:n,children:(0,U.jsx)(k.Nh,{spec:i||null,children:(0,U.jsx)(se.P,{title:s?l.ag.get("concert_lineup"):"",total:a.length+2,seeAllUri:o,seeAllLabel:l.ag.get("artist-page.show-discography"),onClickShelfSeeAll:function(){var e=i.seeDiscographyLinkFactory().hitUiNavigate({destination:o});c.logInteraction(e)},children:[(0,U.jsx)(je,{entity:t,headliner:s,onClick:function(){var e=i.artistCardFactory().hitUiNavigate({destination:t.uri});c.logInteraction(e)}},"ConcertArtistCard-".concat(t.id)),null].concat((0,ie.Z)(a.map((function(e,a){return(0,U.jsx)(ce.r,{index:a,artists:[{uri:t.uri,name:t.name}],images:[{url:e.imageUri,width:100,height:100}],name:e.name,uri:e.uri,sharingInfo:null},e.uri)}))))})})},t.uri)}));const fe=(0,m.memo)((function(e){var t=e.albums,a=e.artists,n=e.entitySpec,r=(0,m.useMemo)((function(){return n.lineupArtistsFactory()}),[n]),i=(0,k.Wi)(r),c=(0,m.useMemo)((function(){var e={};return t.forEach((function(t){var a=t.artistName;e[a]?e[a].push(t):e[a]=[t]})),e}),[t]);return(0,U.jsx)("div",{className:B,ref:i,"data-testid":"concert-lineup",children:a.map((function(e,t){return(0,U.jsx)(pe,{artist:e,albums:c[e.name]||[],position:t,lineupArtistsSpec:r},e.uri)}))})})),ye="y4xsX4QR_wfM40vOhsQ4",Ne="TPdGbM0PhSqxmhkxP9n2",ke="y33j8HV43EGq3BPkZrLA";const De=(0,m.memo)((function(e){return(0,U.jsxs)(S.Link,{to:"spotify:concerts",className:ye,onClick:e.onClick,children:[(0,U.jsx)(le.Z,{children:(0,U.jsx)("div",{className:ke,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat("https://concerts.spotifycdn.com/ConcertHubCard.png",")")}})}),(0,U.jsx)("div",{className:Ne,children:(0,U.jsx)(g.D,{as:"h2",variant:"canon",children:l.ag.get("concerts_browse_more")})})]})}));var be=a(86716);const Ce=(0,m.memo)((function(e){var t=(0,m.useMemo)((function(){return e.entitySpec.recommendedConcertsFactory()}),[e.entitySpec]),a=(0,k.$P)(),n=(0,k.Wi)(t),r=e.upcomingConcerts;if(!r||r.length<1)return null;var i=r.map((function(e,n){var r="spotify:concert:".concat(e.concert.id);return(0,U.jsx)(be.Z,{concert:e.concert,onClick:function(){var e=t.concertCardFactory({position:n,uri:r}).hitUiNavigate({destination:r});a.logInteraction(e)}},e.concert.id)}));return(0,U.jsx)("div",{className:ee,ref:n,"data-testid":"concert-recommendations",children:(0,U.jsx)(_.ZP,{value:"headered-grid",children:(0,U.jsxs)(se.P,{title:l.ag.get("concerts_more_events"),total:r.length+1,className:ae,showSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:l.ag.get("view.see-all"),children:[(0,U.jsx)(De,{onClick:function(){var e=t.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});a.logInteraction(e)}}),i]})})})}));var _e=a(50838);const we=(0,m.memo)((function(e){var t=e.data,a=t.artists,n=t.albums,r=t.upcomingConcerts,i=t.concert.concert,c=(0,k.fU)(x.createDesktopConcertEntityEventFactory,{data:{identifier:i.id,uri:"spotify:concert:".concat(i.id)}}).spec;return(0,N.Y)(t.color),(0,U.jsxs)("section",{className:O,children:[(0,U.jsx)(j.$,{children:(0,_e.Yl)(i)}),(0,U.jsxs)(p.gF,{backgroundImages:[{url:t.headerImageUri,width:100,height:100}],backgroundColor:t.color,children:[(0,U.jsxs)(p.sP,{children:[(0,U.jsx)(p.T0,{children:(0,U.jsx)("div",{className:V,children:(0,U.jsx)(g.D,{as:"h3",variant:"canon",className:Z,children:(0,E.jx)((0,E.CH)(i.date))})})}),(0,U.jsx)(p.xd,{children:(0,_e.Yl)(i)})]}),(0,U.jsx)(f.W,{children:(0,U.jsx)("div",{className:$,children:(0,U.jsx)(y.i,{text:(0,_e.Yl)(i)})})})]}),(0,U.jsxs)("div",{className:M,children:[(0,U.jsx)(v.I,{backgroundColor:t.color}),(0,U.jsxs)("div",{className:R,children:[(0,U.jsx)(re,{concert:i,ticketAvailabilityTranslated:t.ticketAvailabilityTranslated,entitySpec:c}),(0,U.jsx)(fe,{artists:a,albums:n,entitySpec:c}),(0,U.jsx)(Ce,{upcomingConcerts:r,entitySpec:c})]})]})]})}));var Le=function(){var e=(0,r.Z)(c().mark((function e(t){var a,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,n.Z)(t.queryKey,2),a[0],r=a[1],e.next=3,(0,h.getConcert)(u.b.getInstance(),r);case 3:return i=e.sent,e.abrupt("return",i.body);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const Pe=function(){var e=(0,o.UO)().concertId,t=void 0===e?"":e,a=(0,s.useQuery)(["concert",t],Le,{staleTime:6e5}),n=a.data;return a.isLoading?(0,U.jsx)(d.h,{hasError:!1,errorMessage:""}):n?(0,U.jsx)(we,{data:n}):(0,U.jsx)(d.h,{hasError:!0,errorMessage:l.ag.get("concert.error.concert_not_found_title")})}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map