"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[5713],{2814:(e,t,n)=>{n.d(t,{V:()=>F,e:()=>A});var i=n(24255),r=n(14942),a=(n(25750),n(3726),n(26870),n(53987),n(79075),n(33208),n(93019),n(86978),n(98618),n(40905),n(79410),n(21105),n(72753),n(59496)),o=n(77646),s=n(58906),l=n(47018),c=n(27848),u=n(61741),d=n(79459),g=n(76392),p=n(66787),m=n(44881),f=n(52687),h=n(21586),v=n(46596),y=n(38402),x=n(6145),b=n(35407),j=n(99949),k=n(22508),P=n(23351),w=n(34720),C=n(69873),S=n(13034),O=n(34728),D=n(41314),N=n(73075),I=n(4637);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){return{uri:e.uri,name:e.name,trailer:e.trailer,showTypes:e.showTypes}}var U=function(e){return"activation-trigger-mme-".concat(e)},F=a.memo((function(e){var t,n,i,E,F,B,L,T=e.index,M=void 0===T?-1:T,_=e.showMetadata,Z=e.episode,z=e.usePlayContextItem,G=e.status,W=e.variant,H=(0,N.E)(),K=Z.playedState.playPositionMilliseconds,X=Z.uri,Y=(0,a.useRef)(null),V=(0,a.useState)(Z.playedState.state===O.sY.Completed),q=(0,r.Z)(V,2),Q=q[0],J=q[1],$=(0,h.O1)(),ee=(0,y.g)(),te=(0,w.jh)(),ne=(0,v.o)(),ie=(0,o.I0)(),re=(0,S.fU)(s.createDesktopEpisodeBlockEventFactory,{data:{uri:X,reason:Z.requestId||"",position:M}}),ae=re.UBIFragment,oe=re.spec,se=re.logger,le=(0,S.Wi)(oe),ce=z({uri:X}),ue=ce.isActive,de=ce.isPlaying,ge=ce.togglePlay,pe=(0,C.z)(1e4,(function(e){var t;return(null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===X})),me=(0,r.Z)(pe,1)[0];(0,a.useEffect)((function(){de&&(Y.current=me)}),[de,me]),(0,a.useEffect)((function(){!de&&Y.current&&Z.duration.milliseconds<=Y.current&&J(!0)}),[de,Z.duration.milliseconds]);var fe=(0,a.useCallback)((function(e){e||(Y.current=0),J(e)}),[]),he=A(_),ve=(0,x.s)(R(R({},Z),{},{coverArt:{sources:Z.coverArt}}),he),ye=(0,a.useCallback)((function(){if(Z.episodeType===O.Wf.Episode&&H)m.y.set((function(){return{triggerId:U(Z.uri),triggerAction:null}}));else if(ee)ve();else{var e;e=de?oe.playButtonFactory().hitPause({itemToBePaused:X}):ue?oe.playButtonFactory().hitResume({itemToBeResumed:X}):oe.playButtonFactory().hitPlay({itemToBePlayed:X});var t=se.logInteraction(e);ne({targetUri:X,intent:de?"pause":"play",type:"click"}),ge({loggingParams:t})}}),[ue,ve,ne,ge,X,de,ee,Z,H,se,oe]),xe=(0,a.useCallback)((function(){se.logInteraction(oe.hitUiNavigate({destination:X})),ne({type:"click",targetUri:X,intent:"navigate"})}),[X,ne,se,oe]),be=null!==(t=null===(n=Z.podcastSubscription)||void 0===n?void 0:n.isPaywalled)&&void 0!==t&&t,je=null!==(i=null===(E=Z.podcastSubscription)||void 0===E?void 0:E.isUserSubscribed)&&void 0!==i&&i,ke=be&&!je,Pe=be&&ee,we=(0,D.r)({contentRating:null===(F=Z.contentRating)||void 0===F?void 0:F.label,isPaywalled:be}).badges,Ce=(0,a.useCallback)((function(){return ie((0,c.RM)(_.uri))}),[_.uri,ie]),Se=(0,a.useCallback)((function(e){var t=e;return(ke||Pe)&&(t=(0,I.jsx)(p.l,{enabled:!0,showUri:_.uri,children:t})),!Z.playability.playable&&we.nineteen&&(t=(0,I.jsx)("div",{onClick:function(e){e.stopPropagation(),Ce()},children:e})),t=(0,I.jsx)(u.D,{id:U(X),targetURI:(0,l.EC)(X),children:t})}),[X,ke,Pe,_.uri,we.nineteen,Z.playability.playable,Ce]);return(0,I.jsx)(ae,{spec:oe,children:(0,I.jsx)(P.ZP,{value:"row",index:M,children:(0,I.jsx)(b._,{onShow:function(){se.logInteraction(oe.secondaryHitUiReveal())},menu:(0,I.jsx)(d.k,{uri:X,showUri:_.uri,sharingInfo:Z.sharingInfo,isPlayed:Q,onMarkAsPlayed:fe}),children:(0,I.jsx)(g.X,{ref:le,requestId:Z.requestId,index:M,uri:X,size:te,images:Z.coverArt||[],name:Z.name,showName:_.name,description:Z.description,isPlayable:Z.playability.playable||ke,fullyPlayed:Q,durationMs:Z.duration.milliseconds,releaseDate:(null===(B=Z.releaseDate)||void 0===B?void 0:B.isoString)||"",resumePositionMs:null!==(L=Y.current)&&void 0!==L?L:K,handleDragStart:function(e){if(e.target===e.currentTarget){var t="".concat(Z.name," • ").concat(_.name);$(e,[X],t,_.uri)}},handlePlaybackClick:ye,handleClick:xe,isCurrentlyPlaying:ue,isPaywalled:be,isUserSubscribed:je,isPlaying:de,position:de?me:void 0,episodeSharingInfo:Z.sharingInfo,onMarkAsPlayed:fe,contentInformation:Z.contentInformation,badges:(0,I.jsxs)(I.Fragment,{children:[we.explicit&&(0,I.jsx)(j.N,{}),we.paid&&(0,I.jsx)(f.g,{}),we.nineteen&&(0,I.jsx)(k.X,{size:16})]}),playButtonWrapper:Se,onMoreButtonClick:function(){se.logInteraction(oe.moreButtonFactory().hitUiReveal())},status:G,variant:W})})})})}))},73970:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Kn});var i=n(24255),r=(n(25750),n(59496)),a=n(92053),o=n(57231),s=n(6063),l=n(22056),c=n(86417),u=n(27293),d=n(88769),g=n(14942),p=n(26533),m=n.n(p),f=(n(3761),n(30169),n(15970),n(93019),n(27586),n(56110),n(4391),n(3726),n(84875)),h=n.n(f),v=n(6042),y=n(713),x=n(23654),b=n(97921),j=n(82488),k=n(46596),P=n(15848),w=n(13215),C=n(86494),S=n(99949),O=n(540),D=n(23300),N=n(47247),I=n(16020);const E="SpVoh9vvBN0kIwzfCiBh",R="nsGHaEmn310z9W4RMbb8",A="PfYVlZzroXSurDmS_kxY",U="kCT99_BcJQtW47mEfVF6",F="gmDgEbPyRXNixmjYAT9f",B="XlZGcb86bItwlMPQ2jOf",L="VGTtqfOlX2jIbpff6mPP",T="aexqooSgfdW95poEaxjH",M="Fui2wGupk4F1Khigbrhj",_="jWcvSz47NFpbLjnkFT1O",Z="Oo6MP8F01W5uGlnw8dag";var z,G=n(6236),W=n(22508),H=n(18191),K=n(41314),X=n(12323),Y=n(4637);!function(e){e.SMALL="small",e.LARGE="large"}(z||(z={}));var V=function(e){var t,n=e.images,r=e.title,a=e.contentRating,o=e.duration,s=e.moreButton,l=e.onClick,c=e.onContextMenu,u=e.onTouchStart,d=e.onTouchEnd,g=e.isPlaying,p=e.isActive,m=e.size,f=e.className,y=e.label,x=e.isPlayable,b=void 0===x||x,j=m===z.LARGE?"md":"sm",k=(0,K.r)({contentRating:a}).badges;return(0,Y.jsxs)("div",{"data-testid":"trailer-component",className:h()(E,f,(0,i.Z)({},R,p)),onContextMenu:c,onTouchStart:u,onTouchEnd:d,children:[(0,Y.jsxs)("div",{className:U,children:[(0,Y.jsxs)("div",{className:T,children:[(0,Y.jsx)(D.O,{type:I.p.EPISODE,title:r,className:h()(L,(t={},(0,i.Z)(t,Z,m===z.SMALL),(0,i.Z)(t,_,m===z.LARGE),t)),size:N.m$.SIZE_56,images:n,shape:D.K.ROUNDED_CORNERS}),(0,Y.jsx)("div",{className:M,children:(0,Y.jsx)(X.f,{"data-testid":"trailer-play-button",version:G.ul.transparent,size:j,isPlaying:g,onClick:l,disabled:!b})})]}),(0,Y.jsxs)("div",{children:[(0,Y.jsx)("div",{className:F,children:(0,Y.jsx)(v.D,{dir:"auto",className:A,variant:"balladBold",children:r})}),(0,Y.jsxs)("div",{className:B,children:[(0,Y.jsx)(H.V,{text:y}),k.explicit&&(0,Y.jsx)(S.N,{}),k.nineteen&&(0,Y.jsx)(W.X,{}),(0,Y.jsx)(v.D,{dir:"auto",variant:"mesto",children:(0,Y.jsx)(O.nL,{durationMs:o})})]})]})]}),s]})},q=n(34720),Q=n(75693),J=n(68765),$=n(13034),ee=(n(78390),n(82852)),te=function(e){var t=e.htmlDescription,n=e.narrators,i=e.spec,a=(0,k.o)(),o=(0,$.$P)(),s=(0,r.useCallback)((function(e){a({intent:"expand-description",type:"click"});var t=i.seeMoreButtonFactory();o.logInteraction(e?t.hitUiReveal():t.hitUiHide())}),[o,a,i]);return(0,Y.jsxs)(Y.Fragment,{children:[n.length?(0,Y.jsx)(v.D,{as:"p",variant:"ballad",children:l.ag.get("web-player.audiobooks.narratedByX",n.join(l.ag.getSeparator()))}):null,t&&(0,Y.jsx)(ee.o,{maxLines:4,content:t,htmlContent:t,onExpanded:s})]})},ne=n(17913),ie=n(99654),re=n(97174),ae=r.memo((function(e){var t=e.uri,n=e.size,i=void 0===n?re.q.md:n,a=e.className,o=e.onClick,s=(0,ie.Z)(t),l=(0,g.Z)(s,2),c=l[0],u=l[1],d=(0,k.o)(),p=(0,r.useCallback)((function(){d({targetUri:t,intent:c?"unsave":"save",type:"click"}),u(!c)}),[d,t,c,u]);return(0,Y.jsx)(re.o,{className:a,isFollowing:c,onFollow:p,onClick:o,uri:t,size:i})})),oe=n(81700);const se="8px",le="bUYG1AgkIOioFe_UYEO7";var ce=n(80505),ue=n(55540),de=n(54167),ge=n(93824),pe=n(17657),me=n(58844),fe=n(36714),he=n(38402),ve=n(94958);const ye="iZut9Dh2KEjNVhDUxzWw";function xe(e){var t,n=e.uri,i=e.price,r=e.size,a=e.spec,o=e.logger,s=e.onPlayback,c=(0,ve.k)(),u=(0,he.g)(),g=0===(null==i||null===(t=i.finalPrice)||void 0===t?void 0:t.amount),p=g?a.getButtonFactory({uri:n}):a.buyButtonFactory({uri:n}),f=(0,pe.y1)((0,d.Z)(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.logInteraction(p.hitShowPaywall({paywalledItem:n})),!u){e.next=4;break}return s(),e.abrupt("return");case 4:if(e.prev=4,null==i||!i.finalPrice){e.next=10;break}return e.next=8,(0,fe.Q)({show_uri:n,currency:i.finalPrice.currency,price:i.finalPrice.amount});case 8:e.next=11;break;case 10:c(l.ag.get("error.generic"));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),c(l.ag.get("error.generic"));case 16:s();case 17:case"end":return e.stop()}}),e,null,[[4,13]])}))),2e3,{leading:!0,trailing:!1});return(0,Y.jsx)(me.D,{buttonSize:r,className:ye,style:{flexShrink:0},onClick:f,children:g?l.ag.get("web-player.audiobooks.buyFree"):l.ag.get("web-player.audiobooks.buy")})}var be=function(e){var t=e.uri,n=e.isLocked,i=e.price,r=e.isPlaying,a=e.onPlayback,o=e.logger,s=e.spec,l=e.size,c=void 0===l?"lg":l;return n?(0,Y.jsx)(xe,{size:c,uri:t,price:i,logger:o,spec:s,onPlayback:a}):(0,Y.jsx)(ge.$,{size:c,isPlaying:r,uri:t,onClick:a})},je=n(22984),ke=n(32318),Pe=r.memo((function(e){var t=e.price;return t.finalPrice&&t.finalListPrice?0===t.finalPrice.amount&&0===t.finalListPrice.amount?(0,Y.jsxs)("div",{className:le,children:[(0,Y.jsx)(v.D,{variant:"cello",semanticColor:"textBase",children:l.ag.get("audiobook.freePriceDescription")}),(0,Y.jsx)(v.D,{variant:"mesto",children:l.ag.get("audiobook.freePriceExplanation")})]}):(0,Y.jsxs)("div",{className:le,children:[(0,Y.jsx)(v.D,{variant:"canon",semanticColor:"textBase",children:t.finalPrice.formattedPrice}),t.finalPrice.amount<t.finalListPrice.amount&&(0,Y.jsxs)(v.D,{variant:"ballad",semanticColor:"textSubdued",children:[l.ag.get("web-player.audiobooks.retailPrice"),":"," ",(0,Y.jsx)("span",{style:{textDecoration:"line-through"},children:t.finalListPrice.formattedPrice})]})]}):null})),we=r.memo((function(e){var t=e.backgroundColor,n=e.uri,i=e.name,a=e.isPlaying,o=e.togglePlay,s=e.isLocked,c=e.price,u=e.spec,d=(0,ie.Z)(n),p=(0,g.Z)(d,2),m=p[0],f=p[1],h=!(0,ke.k)(),v=s&&c,y=(0,k.o)(),x=(0,$.$P)(),j=(0,r.useCallback)((function(){y({targetUri:n,intent:m?"unsave":"save",type:"click"});var e=u.saveToLibraryButtonFactory();m?x.logInteraction(e.hitUnfollow({itemToBeUnfollowed:n})):x.logInteraction(e.hitFollow({itemToBeFollowed:n})),f(!m)}),[y,n,m,u,f,x]),P=(0,r.useCallback)((function(e,t){var i=u.downloadButtonFactory();t===de.mc.ADD?x.logInteraction(i.hitDownload({itemToDownload:n})):t===de.mc.REMOVE?x.logInteraction(i.hitRemoveDownload({itemToRemoveFromDownloads:n})):t===de.mc.NO_PERMISSION&&x.logInteraction(i.hitUiReveal())}),[x,u,n]),w=(0,r.useCallback)((function(){var e=u.contextButtonFactory().hitUiReveal();x.logInteraction(e)}),[x,u]);return(0,Y.jsxs)(ne.o,{backgroundColor:t,style:{"--action-bar-padding-bottom":se},children:[(0,Y.jsxs)(ne.F,{children:[(0,Y.jsx)(be,{uri:n,isLocked:s,price:c,isPlaying:a,onPlayback:o,logger:x,spec:u}),(0,Y.jsx)(je.r,{children:(0,Y.jsx)(ce.H,{isAdded:m,onClick:j,disabled:h,size:ce.q.md,isAudiobook:!0})},"follow-button"),!s&&(0,Y.jsx)(ae,{uri:n,onClick:P}),(0,Y.jsx)(ue.yj,{menu:(0,Y.jsx)(oe.X,{uri:n}),children:(0,Y.jsx)(b.z,{label:l.ag.get("more.label.context",i),onClick:w})})]}),v&&(0,Y.jsx)(Pe,{price:c})]})})),Ce=n(18805),Se=n(53965),Oe=n(99567),De=r.memo((function(e){var t=e.coverArt,n=e.name,i=e.authorName,r=e.uri,a=e.backgroundColor,o=e.isPlaying,s=e.togglePlay,c=e.isLocked,u=e.price,d=e.logger,g=e.spec;return(0,Y.jsxs)(Ce.gF,{backgroundColor:a,children:[(0,Y.jsxs)(Se.W,{children:[(0,Y.jsx)(be,{uri:r,isLocked:c,price:u,isPlaying:o,onPlayback:s,logger:d,spec:g,size:"md"}),(0,Y.jsx)(Oe.i,{text:n,dragUri:r,dragLabel:n})]}),(0,Y.jsx)(ue._P,{menu:(0,Y.jsx)(oe.X,{uri:r}),children:(0,Y.jsx)(Ce.Oz,{images:t,name:n,shape:D.K.ROUNDED_CORNERS})}),(0,Y.jsxs)(Ce.sP,{children:[(0,Y.jsx)(Ce.dy,{small:!0,uppercase:!0,children:l.ag.get("web-player.audiobooks.audiobook")}),(0,Y.jsx)(Ce.xd,{canEdit:!1,onClick:function(){},children:n}),(0,Y.jsx)(Ce.QS,{author:i})]})]})})),Ne=(n(53903),n(91673)),Ie=n(96210);const Ee="_yl4tOZxcpoUt28k6B8I",Re="lcJflizNrSwDM9yPNk6h",Ae="ret7iHkCxcJvsZU14oPY";var Ue=function(e){var t,n,i=e.rating,r=e.className,a=e.onClick;var o=null!=i&&null!==(t=i.rating)&&void 0!==t&&t.rating?Ne.u:Ie.G;if(!i)return null;var s=null!==(n=i.averageRating)&&void 0!==n&&n.showAverage?(0,Y.jsxs)(v.D,{variant:"mesto",className:h()(Ae),children:["(",l.ag.formatNumberCompact(Number(i.averageRating.totalRatings)),")"]}):null;return(0,Y.jsxs)("button",{className:h()(Ee,r),onClick:a,children:[(0,Y.jsx)(v.D,{dir:"auto",variant:"mestoBold",children:function(){var e,t,n,r,a;if(!((null!==(e=null==i||null===(t=i.averageRating)||void 0===t?void 0:t.totalRatings)&&void 0!==e?e:0)>0))return l.ag.get("web-player.audiobooks.noRating");var o=(null==i||null===(n=i.averageRating)||void 0===n?void 0:n.showAverage)&&(null===(r=i.averageRating)||void 0===r?void 0:r.average)||(null==i||null===(a=i.rating)||void 0===a?void 0:a.rating);return"number"==typeof o?l.ag.formatNumber(o,{maximumFractionDigits:1}):l.ag.get("web-player.audiobooks.noRating")}()}),(0,Y.jsx)(o,{iconSize:16,className:h()(Re)}),s]})},Fe=function(e){var t=e.rating,n=e.onClick;return(0,Y.jsx)(Ue,{rating:t,onClick:n})},Be=(n(33208),n(47408),n(89860)),Le=n(14077);var Te=n(38662);function Me(e){var t,n,i;return!(null!==(t=e.playability)&&void 0!==t&&t.playable||(null===(n=e.playability)||void 0===n?void 0:n.reason)!==Te.WY.PaymentRequired&&(null===(i=e.playability)||void 0===i?void 0:i.reason)!==Te.WY.Anonymous)}var _e=n(52687),Ze=n(40857),ze=n(21322),Ge=n(64384),We=n(24727),He=n(44170);n(79075),n(26870),n(86978),n(98618),n(40905),n(79410),n(21105),n(72753);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var Xe=r.memo((function(e){var t=e.uri,n=e.bookUri,i=e.size,a=void 0===i?re.q.md:i,o=e.className,s=e.onClick,l=void 0===s?function(){}:s,c=e.isLocked,u=void 0===c||c,d=(0,ie.Z)(n),p=(0,g.Z)(d,2),m=p[0],f=p[1],h=(0,k.o)(),v=(0,r.useCallback)((function(){h({targetUri:n,intent:"add-to-library",type:"click"}),f(!0)}),[h,n,f]);return(0,Y.jsx)(re.o,{className:o,isFollowing:m,canDownload:!u,onFollow:v,uri:t,size:a,onClick:l})})),Ye=r.memo((function(e){return(0,Y.jsx)(Xe,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))})),Ve=n(20031);const qe="b0Vng72SrQiFroJKXfk2",Qe="FfeP3XKSZcAdfviyk8fv",Je="eWxDd0LanTnTlSl8SOHX",$e="eAOkseqV13_CAmzuDJpa",et="fovofKIYdEIURgIYoKm2",tt="we_1b4qCQBaFPT12eUXp",nt="NXXFrQO7npgPCRuSKaAA",it="ekkhhuxKVGAzkEmuh9kE",rt="zd6xqobF255bxHFtCmXy";var at=r.memo((function(e){var t=e.name,n=e.duration,a=e.uri,o=e.bookUri,s=e.bookName,c=e.usePlayContextItem,u=e.isLocked,d=e.isPlayable,g=e.resumePositionMs,p=e.isFullyPlayed,m=e.isExplicit,f=e.is19PlusOnly,y=e.spec,x=e.index,P=(0,r.useRef)(g),w=c({uri:a}),C=w.isPlaying,O=w.togglePlay,D=w.isActive,N=(0,$.$P)(),I=(0,Ge.Y)((function(e){var t;if((null==e||null===(t=e.item)||void 0===t?void 0:t.uri)===a){var n,i=null!==(n=(0,We.k)(e))&&void 0!==n?n:0;return P.current=i,i}return 0})),E=(0,ze._)(a),R=(0,r.useCallback)((function(e){e.stopPropagation(),e.preventDefault()}),[]),A=(0,k.o)(),U=(0,r.useCallback)((function(e){R(e);var t=y.chapterBlockFactory({position:x,uri:a}).playButtonFactory();if(u)A({type:"click",intent:"audiobook-gated-entry-point",itemIdSuffix:"target-chapter"}),N.logInteraction(t.hitShowPaywall({paywalledItem:a}));else{var n=(0,Ve.aK)({isPlaying:C,isActive:D,spec:t,logger:N,uri:a});O({loggingParams:n})}}),[x,D,u,C,N,A,y,R,O,a]),F=(0,r.useCallback)((function(e,t){R(e);var n=y.chapterBlockFactory({position:x,uri:a}).downloadButtonFactory();t===de.mc.ADD?N.logInteraction(n.hitDownload({itemToDownload:a})):t===de.mc.REMOVE?N.logInteraction(n.hitRemoveDownload({itemToRemoveFromDownloads:a})):t===de.mc.NO_PERMISSION&&N.logInteraction(n.hitUiReveal())}),[x,N,y,R,a]),B=(0,r.useCallback)((function(){var e=y.chapterBlockFactory({position:x,uri:a}).secondaryHitUiReveal();N.logInteraction(e)}),[x,N,y,a]),L=(0,r.useCallback)((function(e){R(e);var t=y.chapterBlockFactory({position:x,uri:a}).contextMenuFactory().hitUiReveal();N.logInteraction(t)}),[x,N,y,R,a]),T=!u,M=(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("hr",{className:Je,"aria-hidden":!0}),(0,Y.jsxs)("div",{className:qe,onDoubleClick:function(e){A({targetUri:a,intent:"play",type:"double-click"}),U(e)},children:[(0,Y.jsx)(v.D,{as:"h2",variant:"balladBold",className:h()(nt,(0,i.Z)({},Qe,D)),semanticColor:"textBase",children:t}),(0,Y.jsxs)("div",{className:it,children:[(0,Y.jsx)(X.f,{size:"sm",version:X.u.secondary,onClick:U,isPlaying:C,ariaPlayLabel:l.ag.get("tracklist.a11y.play",t,s),ariaPauseLabel:l.ag.get("tracklist.a11y.pause",t,s),locked:u,disabled:!d&&!u}),u?(0,Y.jsx)(_e.g,{}):null,m&&(0,Y.jsx)(S.N,{fullText:!0}),f&&(0,Y.jsx)(W.X,{size:16}),(0,Y.jsx)("div",{className:rt,children:(0,Y.jsx)(He.E,{isPlaying:C,fullyPlayed:p,durationMs:n.milliseconds,resumePositionMs:P.current,position:C?I:void 0})})]}),T?(0,Y.jsx)(ue.yj,{menu:(0,Y.jsx)(j.r,{uri:a,showUri:o,isLocked:u}),children:(0,Y.jsx)(b.z,{className:et,size:re.q.sm,label:l.ag.get("more.label.context",t),onClick:L})}):null,(0,Y.jsx)(Ye,{uri:a,bookUri:o,className:h()((0,i.Z)({},tt,!(0,Ze.y)(E))),onClick:F,size:re.q.sm,isLocked:u})]})]});return T?(0,Y.jsx)(ue._P,{menu:(0,Y.jsx)(j.r,{uri:a,showUri:o,isLocked:u}),onShow:B,children:(0,Y.jsx)("div",{className:$e,children:M})}):(0,Y.jsx)("div",{className:$e,children:M})})),ot=function(e){var t=e.bookUri,n=e.bookName,i=e.sampleUri,a=e.isFinishedUnlockingJourney,o=e.usePlayContextItem,s=e.spec,l=function(e,t){var n=(0,Le.z)(),i=(0,r.useCallback)(function(){var i=(0,d.Z)(m().mark((function i(r,a){return m().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",n.getBookContents(e,{offset:r,limit:a,doRefreshSubscription:t}));case 1:case"end":return i.stop()}}),i)})));return function(e,t){return i.apply(this,arguments)}}(),[t,n,e]);return i}(t,a),c=(0,r.useRef)(!1),u=(0,r.useRef)(0),p=(0,r.useState)([]),f=(0,g.Z)(p,2),h=f[0],v=f[1],y=(0,r.useCallback)((function(e){return(null==e?void 0:e.uri)===i}),[i]),x=(0,r.useCallback)((function(e){return function(e){return null!==e}(e)&&!y(e)}),[y]),b=(0,r.useCallback)((function(){l&&(c.current||null===u.current||(c.current=!0,l(u.current,50).then((function(e){c.current=!1,u.current=e.nextOffset,e.items.length>0&&v((function(t){return t.concat(e.items.filter(x))}))}))))}),[l,x]);return(0,r.useEffect)((function(){u.current=0,v([])}),[t]),(0,Y.jsx)("ul",{children:(0,Y.jsx)(Be.C,{onReachBottom:b,triggerOnInitialLoad:!0,children:h.map((function(e,i){var r=e.name,a=e.duration,l=e.uri,c=e.playability.playable,u=e.playedState,d=u.playPositionMilliseconds,g=u.state,p=e.isExplicit,m=e.is19PlusOnly;return(0,Y.jsx)(at,{name:r,duration:a,uri:l,bookUri:t,bookName:n,usePlayContextItem:o,isLocked:Me(e),isPlayable:c,resumePositionMs:d,isFullyPlayed:g===Te.sY.Completed,isExplicit:p,is19PlusOnly:m,spec:s,index:i},l)}))})})},st=n(24814),lt=n(1715),ct=n(96723),ut=n(20786),dt=n(43603);const gt="QEd1L2SSRW1ol_sQQN6m",pt="ENuWK8u3C9kmadnqkErf",mt="i0gSVhns0PjhiUKm4OG1",ft="jKVb6K0dga3SfW1dp2Pg",ht="MOpV0_YizQER2NksxLju",vt="vrR8bh9DvivyDfUrh1vD",yt="_toO3CqMPAPTbny7Rh8R",xt="Iudw61HRePwOAJpbDRvA",bt="GWaz1n1SADn9enzKdi_Z";var jt=r.memo((function(e){var t=e.coverArt,n=e.toggleModal,i=e.uri,r=e.isBook,a=(0,ut.X)(t,{desiredSize:320}),o=(0,$.fU)(lt.createDesktopPodcastRatingEventFactory,{data:{identifier:r?s.Wg.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK:s.Wg.RATINGS_AND_REVIEWS_RATINGS,uri:i}}),c=o.spec,u=o.logger;return(0,Y.jsx)(dt.Z,{contentLabel:"podcast-rating-modal",isOpen:!0,onRequestClose:n,children:(0,Y.jsxs)("div",{className:gt,children:[(0,Y.jsxs)("div",{className:mt,children:[(0,Y.jsx)(v.D,{as:"h1",variant:"canon",className:yt,children:l.ag.get("web-player.audiobooks.rating.rateAudiobook")}),(0,Y.jsxs)("button",{className:ft,onClick:function(){var e=c.closeButtonFactory().hitUiNavigateBack();u.logInteraction(e),n()},children:[(0,Y.jsx)(st.k,{role:"presentation"}),(0,Y.jsx)("span",{className:"hidden-visually",children:l.ag.get("web-player.audiobooks.rating.closeModal")})]})]}),(0,Y.jsxs)("div",{className:ht,children:[(0,Y.jsx)(ct.Ee,{loading:"eager",src:null==a?void 0:a.url,className:pt}),(0,Y.jsxs)("div",{className:vt,children:[(0,Y.jsx)(v.D,{as:"p",variant:"cello",className:xt,children:l.ag.get("web-player.audiobooks.rating.wantToRate")}),(0,Y.jsx)(v.D,{as:"p",className:bt,children:l.ag.get("web-player.audiobooks.rating.goToApp")}),(0,Y.jsx)(me.D,{colorSet:"invertedLight",onClick:function(){var e=c.okButtonFactory().hitUiNavigateBack();u.logInteraction(e),n()},children:l.ag.get("web-player.audiobooks.rating.ok")})]})]})]})})}));const kt="mmCZ5VczybT9VqKB5wFU",Pt="At_ihDspJfh1yw3Cn2cq",wt="u3LLJx1KnMchfNCzi6k5",Ct="Yqz1Nv6wj1n3HmXL_qji",St="qRqn3JrWLPbGW9k2a63n",Ot="HAah1_lK_dHgyyE71I8Z",Dt="eiC4nh70nb5UHZBYMgNA",Nt="eYtmwXEvi1UdCevg8WoK",It="QOp2aYTYmZHZ6DFFHuYE",Et="zOSFBl22aXH_Vak33myy";var Rt=r.memo((function(e){var t,n,o,u,p=e.metadata,f=p.uri,D=p.coverArt,N=p.name,I=p.htmlDescriptionPlain,E=p.authorName,R=p.sample,A=p.narrators,U=p.rating,F=p.isExplicit,B=p.duration,L=p.copyrights,T=p.publishDate,M=p.price,_=p.isLocked,Z=(0,a.TH)().search,G=!!new URLSearchParams(Z).get("isUnlockingAudiobook"),W=!(!(0,Q.D)(G)||G),H=(0,he.g)(),K=(0,P.Z)(null===(t=D[0])||void 0===t?void 0:t.url),X=(0,r.useState)(!1),ee=(0,g.Z)(X,2),ne=ee[0],ie=ee[1],re=(0,k.o)(),ae=(0,$.fU)(y.createDesktopAudiobookEventFactory,{data:{uri:f,identifier:s.Wg.PODCAST_SHOW_AUDIOBOOK}}),oe=ae.spec,se=ae.logger,le=(0,$.fU)(y.createDesktopAudiobookEventFactory,{data:{uri:f,identifier:s.Wg.RATINGS_AND_REVIEWS_RATINGS_AUDIOBOOK}}),ce=le.spec,ue=le.logger,de=(0,$.fU)(x.createDesktopLockedAudiobookEventFactory,{data:{uri:f,identifier:s.Wg.PODCAST_SHOW_AUDIOBOOK}}),ge=de.spec,pe=de.logger,me=(0,r.useMemo)((function(){return oe.actionBarFactory()}),[oe]),fe=(0,r.useMemo)((function(){return ce.aboutSectionFactory()}),[ce]),ve=(0,r.useMemo)((function(){return oe.chapterListFactory()}),[oe]);(0,r.useEffect)((function(){re({type:"view",intent:"audiobook"})}),[re]),(0,r.useEffect)((function(){_&&pe.logImpression(ge.impression())}),[ge,pe,_]);var ye=(0,J.n)({uri:f},{featureIdentifier:"audiobook"}),xe=ye.isPlaying,be=ye.togglePlay,je=ye.usePlayContextItem,ke=ye.isActive,Pe=ye.triggerPlay,Ce=(0,J.n)({uri:null!==(n=null==R?void 0:R.uri)&&void 0!==n?n:""},{featureIdentifier:"audiobook"}),Se=Ce.togglePlay,Oe=Ce.isPlaying,Ne=Ce.isActive,Ie=xe&&!Oe,Ee=ke&&!Ne,Re=(0,r.useCallback)((0,d.Z)(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=oe.actionBarFactory().playButtonFactory(),!_||H){e.next=4;break}return se.logInteraction(t.hitShowPaywall({paywalledItem:f})),e.abrupt("return");case 4:H?be():(n=(0,Ve.aK)({isPlaying:Ie,isActive:Ee,spec:t,logger:se,uri:f}),Ee?be({loggingParams:n}):Pe({loggingParams:n}));case 5:case"end":return e.stop()}}),e)}))),[oe,_,H,se,f,be,Ie,Ee,Pe]),Ae=(0,r.useCallback)((function(){null!=R&&R.uri&&(re({targetUri:R.uri,intent:Oe?"play":"pause",type:"click"}),Se())}),[Oe,re,Se,null==R?void 0:R.uri]),Ue=(0,r.useCallback)((function(){var e=fe.ratingButtonFactory().hitUiReveal();ue.logInteraction(e),ie((function(e){return!e}))}),[fe,ue]),Be=(0,q.Db)((o={},(0,i.Z)(o,q.Uo.MEDIUM,600),(0,i.Z)(o,q.Uo.LARGE,1024),o)),Le=Be.ref,Te=Be.breakpoint;return(0,Y.jsxs)("section",{ref:Le,className:kt,children:[(0,Y.jsx)(c.$,{children:l.ag.get("show.page-title",N)}),(0,Y.jsx)(De,{name:N,authorName:E,uri:f,coverArt:D,backgroundColor:K,togglePlay:Re,isPlaying:Ie,isLocked:_,price:M,logger:se,spec:oe.actionBarFactory()}),(0,Y.jsx)(we,{name:N,backgroundColor:K,uri:f,togglePlay:Re,isPlaying:Ie,isLocked:_,isExplicit:F,duration:B,publishDate:T,price:M,spec:me}),(0,Y.jsxs)("div",{className:h()(Pt,"contentSpacing",(0,i.Z)({},wt,Te===q.Uo.LARGE)),children:[(0,Y.jsxs)("div",{className:Ct,children:[(0,Y.jsx)("hr",{className:Et,"aria-hidden":!0}),(0,Y.jsxs)("div",{className:Nt,children:[F&&(0,Y.jsx)(S.N,{fullText:!0}),(0,Y.jsxs)("div",{children:[T&&(0,Y.jsx)(v.D,{variant:"ballad",className:It,children:l.ag.formatDate(T)}),(0,Y.jsx)(v.D,{variant:"ballad",children:(0,Y.jsx)(O.nL,{durationMs:B})})]})]}),(0,Y.jsx)(te,{htmlDescription:I,narrators:A,spec:fe})]}),(0,Y.jsxs)("div",{className:St,children:[R&&(0,Y.jsx)(V,{label:l.ag.get("audiobook.page.sample"),images:R.coverArt||[],title:R.name,duration:R.duration.milliseconds,moreButton:_?null:(0,Y.jsx)(w.y,{menu:(0,Y.jsx)(j.r,{uri:R.uri,showUri:f,isLocked:_}),children:(0,Y.jsx)(b.z,{})}),onClick:Ae,isPlaying:Oe,isActive:Ne,size:z.LARGE,contentRating:null===(u=R.contentRating)||void 0===u?void 0:u.label,isPlayable:R.isPlayable}),(0,Y.jsx)("div",{className:Ot,children:(0,Y.jsx)(Fe,{rating:U,onClick:Ue})})]}),(0,Y.jsxs)("div",{className:Dt,children:[(0,Y.jsx)(ot,{bookUri:f,bookName:N,sampleUri:null==R?void 0:R.uri,isFinishedUnlockingJourney:W,usePlayContextItem:je,spec:ve},"".concat(f,"-").concat(_)),(0,Y.jsx)(C.k,{copyrights:L})]})]}),ne&&(0,Y.jsx)(jt,{toggleModal:function(){return ie(!1)},coverArt:D,uri:f,isBook:!0})]})})),At=n(31540),Ut=n(93630),Ft=n(56080),Bt=n(62738),Lt=function(e){var t=e.uri,n=e.name,i=e.backgroundColor,a=e.spec,o=(0,$.$P)(),s=(0,k.o)(),c=!(0,ke.k)(),u=(0,ie.Z)(t),d=(0,g.Z)(u,2),p=d[0],m=d[1],f=(0,r.useCallback)((function(){s({targetUri:t,intent:p?"unsave":"save",type:"click"});var e=a.followButtonFactory();o.logInteraction(p?e.hitUnfollow({itemToBeUnfollowed:t}):e.hitFollow({itemToBeFollowed:t})),m(!p)}),[s,t,p,a,o,m]),h=(0,r.useCallback)((function(){o.logInteraction(a.contextButtonFactory().hitUiReveal())}),[o,a]);return(0,Y.jsx)(ne.o,{backgroundColor:i,children:(0,Y.jsxs)(ne.F,{children:[(0,Y.jsx)(je.r,{children:(0,Y.jsx)(Bt.e,{isFollowing:p,onClick:f,disabled:c})},"follow-button"),(0,Y.jsx)(w.y,{menu:(0,Y.jsx)(Ft.M,{uri:t}),onShow:h,children:(0,Y.jsx)(b.z,{label:l.ag.get("more.label.context",n)})})]})})},Tt=(n(53987),n(41631),n(83055)),Mt=(n(84196),n(85388));function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=(0,r.lazy)((function(){return n.e(9510).then(n.bind(n,79510))}));function Gt(e){return(0,Tt.W6)(Mt.$f)?(0,Y.jsx)(r.Suspense,{fallback:!0,children:(0,Y.jsx)(zt,Zt({},e))}):null}var Wt=n(79459),Ht=n(60038),Kt=n(6145),Xt=n(35407),Yt=n(72104),Vt=n(84157),qt=n(2814),Qt=n(46220),Jt=(n(48285),n(23351)),$t=(n(43316),n(73630),n(83316)),en=(0,r.createContext)({setSortState:function(){throw new Error("setSortState must be used within a ShowFilterProvider")},sortState:[]}),tn=r.memo((function(e){var t=e.uri,n=e.children;return(0,Y.jsx)($t.r,{uri:t,defaultState:[],sortContext:en,localStorageKey:"showFilterParams-v2",children:n})})),nn=(n(66410),n(6201),n(40163),n(8101)),rn={field:nn.ay.PUBLISH_DATE,order:nn.i5.DESC},an={field:nn.ay.PUBLISH_DATE,order:nn.i5.ASC},on={episodic:rn,sequential:an,recent:rn};function sn(){return new Map([[rn,{key:"newest-to-oldest",value:l.ag.get("shows.sort.newest-to-oldest")}],[an,{key:"oldest-to-newest",value:l.ag.get("shows.sort.oldest-to-newest")}]])}function ln(e){return on[e]}var cn=(0,r.createContext)({setSortState:function(){throw new Error("setSortState must be used within a ShowSortProvider")},sortState:ln("recent")}),un=function(e){var t=sn();return Array.from(t.keys()).some((function(t){return t.field===(null==e?void 0:e.field)}))},dn=r.memo((function(e){var t=e.uri,n=e.children,i=e.defaultSortParam;return(0,Y.jsx)($t.r,{uri:t,defaultState:i,sortContext:cn,localStorageKey:"showSortParam",validator:un,children:n})}));const gn="cJJXVm4gQW6AdfCQRhpX",pn="hTRqaN61SDG95erQGMmx";function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn={totalCount:0,nextOffset:0,items:[]},vn=r.memo((function(e){var t=e.showMetadata,n=e.usePlayContextItem,i=(0,r.useContext)(cn).sortState,a=(0,r.useContext)(en).sortState,o=(0,Vt.ZM)(t.uri,i,a),s=(0,r.useState)(hn),l=(0,g.Z)(s,2),c=l[0],u=l[1],d=(0,r.useRef)(!1),p=(0,r.useRef)(0),m=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o){var t=p.current;null!==t&&(d.current||(d.current=!0,o(t,50).then((function(n){u((function(i){var r=e?[]:(0,Qt.Z)(i.items);return r.splice.apply(r,[t,n.items.length].concat((0,Qt.Z)(n.items))),p.current=n.nextOffset,fn(fn({},n),{},{items:r})})),d.current=!1}))))}}),[o]);return(0,r.useEffect)((function(){u(hn)}),[t.uri]),(0,r.useEffect)((function(){p.current=0,m(!0)}),[m]),(0,Y.jsx)(Jt.ZP,{value:"track-list",children:(0,Y.jsx)(Be.C,{onReachBottom:m,triggerOnInitialLoad:!0,children:c.items.map((function(e,i){return e&&(0,Y.jsxs)("div",{className:pn,children:[(0,Y.jsx)("hr",{className:gn,"aria-hidden":!0}),(0,Y.jsx)(qt.V,{index:i,episode:e,showMetadata:t,usePlayContextItem:n},"".concat(e.uri,"/").concat(i))]},"".concat(i).concat(e.uri))}))})})})),yn=(n(7232),n(83590)),xn={field:nn.YG.ISPLAYED,operator:nn.NK.EQUALS,value:!1},bn={field:nn.YG.STARTEDPLAYING,operator:nn.NK.GREATER_THAN,value:0};var jn="all-episodes",kn=function(e){var t=e.onFilter,n=(0,r.useContext)(en),i=n.sortState,a=n.setSortState,o=new Map([[xn,{key:"is-played",value:l.ag.get("shows.filter.unplayed")}],[bn,{key:"started-playing",value:l.ag.get("shows.filter.in-progress")}]]),s=Array.from(o.values());s.unshift({key:jn,value:l.ag.get("mwp.podcast.all.episodes")});var c=Array.from(o.keys()),u=(0,r.useCallback)((function(e){if(e===jn)a([]);else{var n=c.find((function(t){var n;return(null===(n=o.get(t))||void 0===n?void 0:n.key)===e}));n&&a([n])}t()}),[t,a,c,o]);if(!o.size||!c)return null;var d=s[0],g=Array.from(o.entries()).filter((function(e){return null==i?void 0:i.some((function(t){return t.field===e[0].field&&t.operator===e[0].operator}))}));return g.length>0&&(d=g[0][1]),(0,Y.jsx)(yn.A,{options:s,onSelect:function(e){return u(e)},selected:d,variant:"balladBold",semanticColor:"textBase",heading:l.ag.get("drop_down.filter_by")})},Pn=function(e){var t=e.onSort,n=(0,r.useContext)(cn),i=n.sortState,a=n.setSortState,o=sn(),s=Array.from(o.values()),c=Array.from(o.keys()),u=(0,r.useCallback)((function(e){var n=c.find((function(t){var n;return(null===(n=o.get(t))||void 0===n?void 0:n.key)===e}));n&&a(n),t()}),[c,t,o,a]);if(!o.size||!i)return null;var d=Array.from(o.keys()).find((function(e){return e.field===i.field&&e.order===i.order}));if(!d)return null;var g=o.get(d);return g?(0,Y.jsx)(yn.A,{options:s,onSelect:function(e){return u(e)},selected:g,heading:l.ag.get("drop_down.sort_by")}):null};const wn="aQMtxnKeiJqZ9XCcDuZ7",Cn="TYB4Y2xQujO7cifhHush",Sn="sSXKiPRvp2AHmwfHoCCS",On="YJlizbhw6DBPHT9OYbdj",Dn="klz_XuZpllvTMzpJF1gw",Nn="TfjbWiK8hca4HHEBnonP",In="kR0M2WSYVUj4cohADSFM",En="ghfuv80I8uW_ymG_jfx9",Rn="jtfSxoRam9rzTtdXIjzc",An="fejGrhq7pxGC99cUdyVw",Un="T0OjvsNXAJJGd23eBG2m",Fn="Ppm5YkDdE5ktTPwZC1Dw";var Bn=function(e){var t=e.spec,n=(0,$.$P)(),i=(0,Vt.zZ)().capabilities,a=i.canSort,o=i.canFilter,s=(0,r.useCallback)((function(){n.logInteraction(t.episodeListFactory().filterButtonFactory().hitFilter())}),[n,t]),c=(0,r.useCallback)((function(){n.logInteraction(t.episodeListFactory().sortButtonFactory().hitSort())}),[n,t]);return(0,Y.jsxs)("div",{className:In,children:[o&&(0,Y.jsx)("div",{className:Rn,children:(0,Y.jsx)(kn,{onFilter:s})}),!o&&(0,Y.jsx)(v.D,{as:"h3",variant:"canon",semanticColor:"textBase",className:An,children:l.ag.get("mwp.podcast.all.episodes")}),a&&(0,Y.jsx)("div",{className:En,children:(0,Y.jsx)(Pn,{onSort:c})})]})},Ln=function(e){switch(e){case Te.it.TRAILER:return l.ag.get("podcasts.next-episode.trailer");case Te.it.UP_NEXT:return l.ag.get("podcasts.next-episode.up-next");case Te.it.CONTINUE_LISTENING:return l.ag.get("podcasts.next-episode.continue-listening");case Te.it.FIRST_PUBLISHED:return l.ag.get("podcasts.next-episode.first-published");case Te.it.LATEST_PUBLISHED:return l.ag.get("podcasts.next-episode.latest-published");default:return}},Tn=function(e){var t,n,a,o=e.breakpoint,s=e.metadata,c=e.showId,u=e.spec,d=s.uri,g=s.trailer,p=s.topics,m=s.description,f=s.htmlDescription,y=(0,$.$P)(),x=(0,r.useMemo)((function(){return u.episodeListFactory()}),[u]),j=(0,Tt.W6)(Mt.Vz),P=(0,k.o)(),S=(0,Tt.W6)(Mt.Cz),O=(0,he.g)(),D=(0,r.useContext)(cn).sortState,N=(0,r.useContext)(en).sortState,I=(0,Vt.zZ)(),E=(0,J.n)({uri:d,metadata:(t={},(0,i.Z)(t,Yt.sb.SORTING_CRITERIA,I.getPlayerSort(D)),(0,i.Z)(t,Yt.sb.FILTERING_PREDICATE,I.getPlayerFilter(N)),t)},{featureIdentifier:"show"}).usePlayContextItem,R=E({uri:(null==g?void 0:g.uri)||""}),A=R.isActive,U=R.isPlaying,F=R.togglePlay,B=(0,r.useCallback)((function(e){P({intent:"expand-description",type:"click"});var t=u.aboutSectionFactory().seeMoreButtonFactory(),n=e?t.hitUiReveal():t.hitUiHide();y.logInteraction(n)}),[y,P,u]),L=(0,r.useCallback)((function(e,t){var n=u.aboutSectionFactory().topicFactory(t).hitUiNavigate({destination:t.uri});y.logInteraction(n)}),[y,u]),T=g?{name:g.name,uri:g.uri,audio:{items:g.audio.items.map((function(e){return{url:e.url}}))}}:null,M=(0,qt.e)(s),_=(0,Kt.s)(T,M),Z=(0,r.useCallback)((function(){null!=g&&g.uri&&(O?_():(P({targetUri:g.uri,intent:U?"play":"pause",type:"click"}),F()))}),[_,O,U,P,F,null==g?void 0:g.uri]),G=(0,q.Db)((n={},(0,i.Z)(n,q.Uo.MEDIUM,0),(0,i.Z)(n,q.Uo.LARGE,600),n)),W=G.ref,H=G.breakpoint,K=p.length>0,X=m||S&&f,Q=X||K;return(0,Y.jsxs)("div",{className:h()(Cn,"contentSpacing",(0,i.Z)({},Sn,o===q.Uo.LARGE)),children:[(0,Y.jsxs)("div",{className:On,children:[Q&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(v.D,{as:"h3",variant:"canon",semanticColor:"textBase",className:An,children:l.ag.get("artist.about")}),X&&(0,Y.jsx)(ee.o,{maxLines:4,content:(m||"").trim(),onExpanded:B,htmlContent:S&&f?f:void 0}),K&&(0,Y.jsx)(Ht.v,{topics:p,onClick:L})]}),(0,Y.jsx)(Gt,{showId:c,uri:d}),g&&!j&&(0,Y.jsx)(Xt._,{menu:(0,Y.jsx)(Wt.k,{uri:g.uri,showUri:d,sharingInfo:g.sharingInfo}),children:(0,Y.jsx)(V,{label:l.ag.get("track-trailer"),className:Un,images:g.coverArt||[],title:g.name,duration:g.duration.milliseconds,moreButton:(0,Y.jsx)(w.y,{menu:(0,Y.jsx)(Wt.k,{uri:g.uri,sharingInfo:g.sharingInfo,showUri:d}),children:(0,Y.jsx)(b.z,{})}),onClick:Z,isPlaying:U,isActive:A,size:z.LARGE,contentRating:null===(a=g.contentRating)||void 0===a?void 0:a.label})})]}),(0,Y.jsx)(q.ZU.Provider,{value:H,children:(0,Y.jsxs)("div",{className:Nn,"data-testid":"show-all-episode-list",ref:W,children:[j&&s.nextBestEpisode&&(0,Y.jsx)(qt.V,{showMetadata:s,episode:s.nextBestEpisode.data,usePlayContextItem:E,status:Ln(s.nextBestEpisode.type),variant:"next-best-episode"}),(0,Y.jsx)(Bn,{spec:u}),(0,Y.jsx)($.Nh,{spec:x,children:(0,Y.jsx)(vn,{showMetadata:s,usePlayContextItem:E})})]})}),(0,Y.jsx)(C.k,{copyrights:[]})]})},Mn=r.memo(Tn),_n=n(49990),Zn=function(e){var t=e.reason,n=(0,Tt.W6)(Mt.AL),i=function(e){switch(e){case"OTP":return l.ag.get("podcasts.subscriber-indicator.otp");case"SUBSCRIPTION":return l.ag.get("podcasts.subscriber-indicator.subscription");default:return""}}(t);return n&&i?(0,Y.jsx)("span",{className:Fn,children:i}):null};var zn=function(e){var t=e.metadata,n=e.backgroundColor,i=t.uri,r=t.coverArt,a=t.name,o=t.podcastType,s=t.publisherName,c=t.gatedContentAccessReason,u=(0,_n.e)(),d=u.isXSOnly,g=u.isSMOnly,p=d||g;return(0,Y.jsxs)(Ce.gF,{backgroundColor:n,children:[(0,Y.jsx)(Se.W,{children:(0,Y.jsx)(Oe.i,{text:a,dragUri:i,dragLabel:a})}),(0,Y.jsx)("div",{className:Dn,children:(0,Y.jsx)(Xt._,{menu:(0,Y.jsx)(Ft.M,{uri:i}),children:(0,Y.jsx)(Ce.Oe,{loading:"eager",name:a,images:r,placeholderType:"show",shape:Ce.Kc.ROUNDED_CORNERS})})}),(0,Y.jsxs)(Ce.sP,{children:[(0,Y.jsxs)(Ce.dy,{small:!0,uppercase:!0,children:["SHOW"===o?l.ag.get("type.show"):l.ag.get("type.podcast"),c&&(0,Y.jsx)(Zn,{reason:c})]}),(0,Y.jsx)(Xt._,{menu:(0,Y.jsx)(Ft.M,{uri:i}),children:(0,Y.jsx)(Ce.xd,{dragUri:i,dragLabel:a,children:(0,Y.jsx)("span",{"data-testid":"show-title",children:a})})}),(0,Y.jsx)(Ce.dy,{large:!p,medium:p,bold:!0,children:s})]})]})},Gn=n(57651),Wn=n(75449),Hn=function(e){var t,n,a=e.metadata,s=e.showId,u=a.coverArt,d=a.name,g=a.uri,p=(0,$.fU)(o.createDesktopPodcastEventFactory,{data:{uri:g}}).spec,m=(0,r.useMemo)((function(){return p.actionBarFactory()}),[p]),f=(0,P.Z)((null===(t=u[0])||void 0===t?void 0:t.url)||null),h=(0,q.Db)((n={},(0,i.Z)(n,q.Uo.MEDIUM,600),(0,i.Z)(n,q.Uo.LARGE,1024),n)),v=h.ref,y=h.breakpoint;return(0,Y.jsxs)("section",{ref:v,className:wn,children:[(0,Y.jsx)(c.$,{children:l.ag.get("podcasts.show.seo.title",{name:d})}),(0,Y.jsx)(zn,{metadata:a,backgroundColor:f}),(0,Y.jsx)(Lt,{uri:g,name:d,backgroundColor:f,spec:m}),(0,Y.jsx)(Mn,{breakpoint:y,metadata:a,showId:s,spec:p})]})};const Kn=(0,r.memo)((function(){var e=(0,a.UO)().showId,t=void 0===e?"":e,n="spotify:show:".concat(t),i=(0,Ut.l)(n),o=i.data,c=i.error,d=(0,At.V)("show",o);return!o||c?(0,Y.jsx)(u.h,{hasError:!!c,errorMessage:l.ag.get("error.not_found.title.page")}):(0,Te.l6)(o)?(0,Y.jsx)(r.Suspense,{fallback:null,children:(0,Y.jsx)(Wn.C,{pageId:s.Wg.PODCAST_SHOW_AUDIOBOOK,uri:n,children:(0,Y.jsx)(Rt,{metadata:o})})}):d?(0,Y.jsx)(Gn.InstrumentedRedirect,{to:d}):(0,Y.jsx)(r.Suspense,{fallback:null,children:(0,Y.jsx)(Wn.C,{pageId:s.Wg.PODCAST,uri:n,children:(0,Y.jsx)(tn,{uri:o.uri,children:(0,Y.jsx)(dn,{uri:o.uri,defaultSortParam:ln(o.consumptionOrder),children:(0,Y.jsx)(Hn,{showId:t,metadata:o})})})})})}))},49990:(e,t,n)=>{n.d(t,{e:()=>p});var i=n(10680);const r="(min-width: 0px)",a="(min-width: 0px) and (max-width: 767px)",o="(min-width: 768px)",s="(min-width: 768px) and (max-width: 1023px)",l="(min-width: 1024px)",c="(min-width: 1024px) and (max-width: 1279px)",u="(min-width: 1280px)",d="(min-width: 1280px) and (max-width: 1919px)",g="(min-width: 1920px)";var p=function(){return{isXS:(0,i.a)(r),isXSOnly:(0,i.a)(a),isSM:(0,i.a)(o),isSMOnly:(0,i.a)(s),isMD:(0,i.a)(l),isMDOnly:(0,i.a)(c),isLG:(0,i.a)(u),isLGOnly:(0,i.a)(d),isXL:(0,i.a)(g)}}},86494:(e,t,n)=>{n.d(t,{k:()=>o});n(47408),n(3761),n(68063),n(3726);var i=n(6042);const r="rTMkDBDp47Eo12ZEQv4U";var a=n(4637),o=function(e){var t=e.copyrights,n=e.courtesyLine,o=(t||[]).map((function(e,t){var n,r=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");return n="C"===e.type?"©":"P"===e.type?"℗":"(".concat(e.type,")"),(0,a.jsx)(i.D,{as:"p",variant:"finale",dir:"auto",children:"".concat(n," ").concat(r)},t)}));return n&&o.unshift((0,a.jsx)(i.D,{as:"p",variant:"finale",dir:"auto",children:n},o.length)),(0,a.jsx)("div",{className:r,children:o})}}}]);
//# sourceMappingURL=xpui-routes-show.js.map