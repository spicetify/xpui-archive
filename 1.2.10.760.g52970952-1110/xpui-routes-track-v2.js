"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[4179],{89507:(e,a,i)=>{i.d(a,{E:()=>r});var t=i(74599),n=i(49966),s=i(23401),l=i(4637);const r=({album:e,index:a,artistURI:i})=>(0,l.jsx)(t.ZP,{value:"card",index:a,children:(0,l.jsx)(s.i,{index:a,latest:!1,showType:!0,...(0,n.B$)(e,i,e.name)})})},96725:(e,a,i)=>{i.d(a,{R:()=>o});var t=i(14950),n=i(74599),s=i(29819),l=i(49966),r=i(89507),d=i(3831),c=i(4637);const o=({albums:e,artistName:a,artistId:i,artistUri:o,className:m})=>e?(0,c.jsx)(n.ZP,{value:"shelf/albums",children:(0,c.jsx)(d.P,{total:e.totalCount,title:t.ag.get("rich-page.popular-albums-by-artist",{artist:a}),seeAllUri:`${(0,l.GJ)(i)}:discography:${s.VZ.Album.toLowerCase()}`,seeAllLabel:t.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:m,children:(0,l.Hr)(e.items).map(((e,a)=>(0,c.jsx)(r.E,{album:e,index:a,artistURI:o},e.uri)))})}):null},69265:(e,a,i)=>{i.d(a,{V:()=>c});var t=i(14950),n=i(74599),s=i(49966),l=i(7812),r=i(3831),d=i(4637);const c=({artistId:e,className:a,fansAlsoLike:i,title:c})=>(0,d.jsx)(n.ZP,{value:"shelf/fans-also-like",children:(0,d.jsx)(r.P,{total:i.length,title:c??t.ag.get("rich-page.fans-also-like"),seeAllUri:`${(0,s.GJ)(e)}:related`,className:a,children:i.map(((e,a)=>(0,d.jsx)(n.ZP,{value:"card",index:a,children:(0,d.jsx)(l.I,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})})},10059:(e,a,i)=>{i.d(a,{j:()=>c});var t=i(59496),n=i(46810),s=i(14950),l=i(35387),r=i(2008),d=i(4637);const c=({artistName:e,artistUri:a,headerClassName:i,rowClassName:c,topTracks:o,topTracksTransformer:m,uri:u})=>{const k=(0,t.useMemo)((()=>o?.items.map((e=>m(e,u)))),[o?.items,m,u]),{usePlayContextItem:h}=(0,l.n)({uri:a},{featureIdentifier:"artist"});return k&&k.length>0?(0,d.jsxs)("div",{className:c,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(n.D,{variant:"mesto",children:s.ag.get("rich-page.popular-tracks")}),(0,d.jsx)(n.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:i,children:e})]}),(0,d.jsx)(r.k,{nrTracks:k.length,initialTracks:k,usePlayContextItem:h})]}):null}},36899:(e,a,i)=>{i.d(a,{y:()=>o});var t=i(14950),n=i(74599),s=i(29819),l=i(49966),r=i(89507),d=i(3831),c=i(4637);const o=({artistId:e,artistName:a,artistUri:i,className:o,singles:m})=>m?(0,c.jsx)(n.ZP,{value:"shelf/singles-and-eps",children:(0,c.jsx)(d.P,{total:m.totalCount,title:t.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:a}),seeAllUri:`${(0,l.GJ)(e)}:discography:${s.VZ.Single.toLowerCase()}`,seeAllLabel:t.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:o,children:(0,l.Hr)(m.items).map(((e,a)=>(0,c.jsx)(r.E,{album:e,index:a,artistURI:i},e.uri)))})}):null},36046:(e,a,i)=>{i.r(a),i.d(a,{default:()=>Da});var t=i(59496),n=i(61740),s=i(92053),l=i(46810),r=i(173),d=i(63459),c=i(14950),o=i(47970),m=i(92295),u=i(1893),k=i(75667),h=i(4378),g=i(81555),v=i(80206),p=i(30283),N=i(58309),S=i(65403),x=i(71914),y=i(91829),A=i(97360),j=i(27076),b=i(63821),F=i(69539),f=i(18846);let C=function(e){return e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE",e}({});const L=(0,f.ZP)(((e,a)=>{switch(a.type){case"LYRICS_LOADING":e[a.uri]={status:C.LOADING};break;case"LYRICS_LOADED":e[a.uri]={status:C.LOADED,data:{lyrics:{...a.response.lyrics}}};break;case"LYRICS_ERROR":e[a.uri]={status:C.UNAVAILABLE};break;default:throw new Error(`Unhandled lyrics action with type: ${a.type}`)}}));var T=i(81607),I=i(37077);var R=i(4637);const w={status:C.LOADING},P={status:C.UNAVAILABLE},D=t.createContext(void 0),U=({children:e,initialState:a={}})=>{const i=t.useReducer(L,a);return(0,R.jsx)(D.Provider,{value:i,children:e})},E=(e,a)=>{const i=t.useContext(D);if(void 0===i)throw new Error("useSEOLyrics must be used within a LyricsSEOProvider");if(!e||!(0,d.wj)(e)||a)return P;const[n,s]=i,l=n[e];return l||(s({type:"LYRICS_LOADING",uri:e}),(async e=>{const a=(0,d.EC)(e);return(await I.Zz.getSEOTrackLyrics(T.b.getInstance(),a.id)).body})(e).then((a=>{s({type:"LYRICS_LOADED",uri:e,response:a})})).catch((()=>{s({type:"LYRICS_ERROR",uri:e})})),w)};var O=i(35387),B=i(5221),_=i(882),G=i(69544),M=i(81091),$=i(5666),z=i(20251),Z=i(3567);const W="UDuv2dzJuOEimwKzf_Ht",K="crU3_phk5OplHUp2b_iW",V=({padded:e})=>(0,R.jsx)(l.D,{as:"p",dir:"auto",variant:"finale",className:`${W} ${e?K:""}`,children:"Lyrics powered by Musixmatch."}),Y=({uri:e})=>{const{status:a}=E(e);return a!==C.LOADED?null:(0,R.jsx)(V,{})};var Q=i(84875),H=i.n(Q),q=i(58866),J=i(89396),X=i(96725),ee=i(10059),ae=i(74599),ie=i(15999),te=i(29819),ne=i(49966),se=i(89507),le=i(3831);const re=({artistName:e,artistId:a,artistUri:i,className:t,releases:n,artistImages:s})=>n?(0,R.jsx)(ae.ZP,{value:"shelf/releases",children:(0,R.jsx)(le.P,{total:10,title:c.ag.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,ne.GJ)(a)}:discography:${te.VZ.Album.toLowerCase()}`,seeAllLabel:c.ag.get("shelf.see-all"),alwaysShowSeeAll:!0,className:t,listRowHeaderProps:s?{title:e,pretitle:c.ag.get("artist-page.popular"),media:(0,ie.o)(s,{desiredSize:48})||""}:null,children:n.items.map(((e,a)=>(0,R.jsx)(se.E,{album:e,index:a,artistURI:i},e.uri)))})}):null;var de=i(36899),ce=i(22646);const oe="o2TlnuNKxRO5RnB9BpHB",me="q0Ke_aAvTcc4dO4wCHQt",ue="UlKUfS_GcROZmofuafOW",ke="I5LORTI1u3A6VoUvRCBf",he="TS85Qkpioa31wR0p4kzT",ge="yL1DLXBc05CR_ACv_NhA",ve="k5kRkUyoz9znqg_SGOVQ";var pe=i(91849),Ne=i(69702),Se=i(73390),xe=i(18113),ye=i(30958);let Ae=function(e){return e.SMALL="small",e.LARGE="large",e}({});const je=({art:e,disabled:a=!1,LinkComponent:i,name:t,size:n=Ae.SMALL,type:r,uri:o})=>{const m=e?[e]:[],u=n===Ae.SMALL?(0,Ne.R)(r):function(e){switch(e){case pe.albumType.SINGLE:return c.ag.get("track-page.from-the-single");case pe.albumType.EP:return c.ag.get("track-page.from-the-ep");case pe.albumType.COMPILATION:return c.ag.get("track-page.from-the-compilation");case pe.albumType.ALBUM:default:return c.ag.get("track-page.from-the-album")}}(r),k=(0,s.s0)();return(0,R.jsxs)("div",{className:H()(oe,{[ue]:n===Ae.SMALL,[me]:a}),children:[(0,R.jsx)("div",{className:ke,children:(0,R.jsx)(Se.O,{images:m,size:ye.m$.SIZE_80,title:t,type:xe.p.ALBUM})}),(0,R.jsxs)("div",{className:he,children:[(0,R.jsx)(l.D,{variant:n===Ae.SMALL?"mestoBold":"finale",children:u}),(0,R.jsx)(i,{to:o,children:(0,R.jsx)(l.D,{as:"div",className:ge,variant:"balladBold",dir:"auto",children:t})})]}),(0,R.jsx)("div",{onClick:()=>{k((0,d.EC)(o).toURLPath(!0))},className:ve})]})};var be=i(97337),Fe=i(27964),fe=i(8536);const Ce="oTRKhYD0MZlNPm66W3Tw",Le="sc95MwPalcHwYGZ7j3xN",Te="zrCZCfYv4zZiB1HYv9i8",Ie="RnlxIDmWcYTbbwNSJNjA",Re="SHkxfN1vy0wpRMP1hK7I",we="COXBS6zLyyxKNYuEAzjZ",Pe="sR5IpdOUvoUGYKlC9Dk1",De="FHMr3WxshoYjZ7jd3YwI",Ue="Evcwc4KM2tf9xrLbfB8B",Ee="x4_dsi31Cx2SO1L0uYIj",Oe="euPDqfFEBILj9KHDNLC1",Be="x6FPRUKK40oDCPP7g6Ls",_e="k3SPcfaKewjfdYumDcGw",Ge="t9C7vRiN1OSC9uWfJEr0",Me="Onv6dO4lntCzKUqYa8PE",$e=({richTrack:e})=>{const{search:a}=(0,s.TH)(),i=(0,t.useCallback)((()=>new URLSearchParams(a.slice(1)).get("highlight")||""),[a])(),{tracklistRef:n}=(0,fe.W)(),l=e.albumOfTrack,r=(0,Fe.Y)(l?.uri||""),{usePlayContextItem:d}=(0,O.n)({uri:r},{featureIdentifier:"album"}),c=(0,t.useMemo)((()=>({items:[],totalCount:0})),[]);return l?(0,R.jsx)("div",{ref:n,className:Pe,children:(0,R.jsx)(be.L,{ariaLabel:l.name,nrTracks:l.tracks.totalCount,albumUri:l.uri,highlightUri:i,discs:c,usePlayContextItem:d,hasHeaderRow:!1})}):null};var ze=i(69265),Ze=i(30677);const We=(0,t.memo)((function({track:e,richTrackArtists:a}){const i=(0,ce.k)(),n=e.albumOfTrack,s=n?.playability?.playable,r=e.artistsWithRoles.items[0]?.artist,d=r?.discography?.topTracks,o=r?.discography?.popularReleasesAlbums,m=r?.discography?.albums,u=r?.discography?.singles,k={artistId:r?.id,artistName:r?.profile?.name,artistUri:r?.uri},[h,g]=(0,t.useState)(!1),v=(0,t.useCallback)((()=>{g(!h)}),[h]),p=a?.otherArtists&&a?.otherArtists.items.length>5;return(0,R.jsxs)("div",{"data-testid":"rich-track",children:[(0,R.jsx)(ee.j,{artistName:r?.profile?.name,artistUri:r?.uri,headerClassName:Ue,rowClassName:Re,topTracks:d,topTracksTransformer:Ze.X7,uri:e.uri}),(0,R.jsx)(re,{className:De,releases:o,...k}),(0,R.jsx)(X.R,{albums:m,className:De,...k}),(0,R.jsx)(de.y,{className:De,singles:u,...k}),a&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("div",{className:Oe,children:a.otherArtists.items.map(((e,a)=>(0,R.jsx)(re,{className:H()(Ee,{[_e]:a>4,[Ge]:h&&a>4}),releases:e.artist.discography.popularReleasesAlbums,artistName:e.artist.profile.name,artistId:e.artist.id,artistUri:e.artist.uri,artistImages:e.artist.visuals.avatarImage?.sources},e.artist.id)))}),p&&(0,R.jsx)(q.o,{onClick:v,className:Me,children:(0,R.jsx)(l.D,{as:"h2",variant:"violaBold",children:h?c.ag.get("show_less"):c.ag.get("mwp.search.artists.all")})}),(0,R.jsx)(ze.V,{artistId:r.id,className:H()(De,{[Be]:a.otherArtists.items.length>0}),fansAlsoLike:a.firstArtist.items[0].artist.relatedContent.relatedArtists.items,title:c.ag.get("artist-page.fansalsolike")})]}),n&&(0,R.jsx)(je,{art:n.coverArt?.sources[0],disabled:!s||!i,LinkComponent:J.default,name:n.name,type:n.type,size:Ae.LARGE,uri:n.uri}),(0,R.jsx)($e,{richTrack:e})]})})),Ke=We;var Ve=i(48445);const Ye="QhDsXG1Gmo7XmQWLggAO",Qe="bZgWQj7UxvK8GYKWDA7N",He="AW61P3tnW5cKJCWtbhFh",qe=({buttonText:e,onSecondaryButtonClick:a,onPrimaryButtonClick:i,secondaryButtonText:t,text:n})=>(0,R.jsxs)("div",{className:Ye,"data-testid":"static-activation-trigger",children:[(0,R.jsx)(l.D,{className:Qe,variant:"cello",children:n}),(0,R.jsxs)("div",{className:He,children:[(0,R.jsx)(q.o,{onClick:a,semanticColor:"textBase",children:t}),(0,R.jsx)(Ve.D,{onClick:i,colorSet:"invertedLight",children:e})]})]}),Je="T1nqQ4HEh3heHy4RCCKa",Xe="L8zjshPVgUMXyZR4FtOk",ea="YMn1FWcFmOz9osBrNvhF",aa="Inbyq3TnvKDOJtcKFTDQ",ia="lWk5se4WETUOJwaEb8D6",ta="i8DyQbWCmDV_8N5XGJQT",na="t5WPFlGTY6GCd9UOFfLu",sa="AGQ3wRyMVK1odq860qnT",la="ZX_r7uZgPgssaUplfpxT",ra="qrqctaPu2XBpxsw23nPX",da="XnWidTagai3nQwMPxIMF";var ca=i(28564);let oa=function(e){return e.SMALL="small",e.LARGE="large",e}({});const ma=e=>{const{disabled:a,images:i,LinkComponent:t,name:n,size:r,uri:o,enableI18nRoutes:m,enableI18nAdditionalPages:u}=e,k=r===oa.SMALL,h=(0,s.s0)(),g=(0,d.EC)(o),v=g?.type,p=c.ag.getLocale(),N=(0,z.S9)({localeFeatureFlag:m,entityFeatureFlag:u,locale:p,entity:v,type:"link"});return(0,R.jsxs)("div",{className:H()(Xe,{[ea]:a}),"data-testid":"track-artist-link-card",children:[(0,R.jsx)(Se.O,{shape:Se.K.CIRCLE,images:i,size:ye.m$.SIZE_80,title:n,type:xe.p.ARTIST}),(0,R.jsxs)("div",{className:H()(ia,{[ta]:k}),children:[(0,R.jsx)(l.D,{variant:"mestoBold",className:aa,children:c.ag.get("card.tag.artist")}),(0,R.jsx)(t,{to:o,children:(0,R.jsx)(l.D,{as:"div",dir:"ltr",className:na,variant:"balladBold",children:n})})]}),(0,R.jsx)("div",{onClick:()=>{const e=g?.toURL(`/${ca.F0}${p}/`);if(g){const a=N?e:g.toURLPath(!0);h(a)}},className:sa})]})},ua=({size:e=oa.LARGE,disabled:a=!1,enableI18nRoutes:i,enableI18nAdditionalPages:n,...s})=>{const[r,d]=(0,t.useState)(!1),o=(0,t.useCallback)((()=>{d(!r)}),[r]),m=s.artists;return(0,R.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,R.jsx)("div",{className:Je,children:m.map(((t,l)=>(0,R.jsx)("div",{className:H()({[ra]:r&&l>5,[la]:l>5}),children:(0,R.jsx)(ma,{name:t.name,uri:t.uri,images:t.images,size:e,LinkComponent:s.LinkComponent,disabled:a,enableI18nRoutes:i,enableI18nAdditionalPages:n},t.id)},`${t.uri}-${l}`)))}),m.length>6&&(0,R.jsx)(q.o,{onClick:o,className:da,children:(0,R.jsx)(l.D,{as:"p",variant:"violaBold",children:r?c.ag.get("show_less"):c.ag.get("mwp.search.artists.all")})})]})};var ka=i(13498);const ha="Q3OKWaFrTVTIRZyG05Gh",ga="cFQh4aLbQzp0aYzbWwjY",va="NAaJboGa8qckhNNQTKTn",pa=({lines:e=[]})=>0===e.length?null:(0,R.jsxs)("div",{className:ha,children:[(0,R.jsx)(l.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:ga,children:c.ag.get("web-player.lyrics.title")}),e.map((({words:e},a)=>(0,R.jsx)(l.D,{as:"p",dir:"auto",variant:"ballad",className:va,children:e},`lyrics-seo-line-${a}`)))]}),Na=({uri:e})=>{const{status:a,data:i}=E(e);return a!==C.LOADED?null:(0,R.jsx)(pa,{lines:i?.lyrics.lines})};var Sa=i(95804),xa=i(470);const ya=e=>{const{albumArtists:a,columnCount:i,uri:s}=e,l=i-2,r={"--column-count":i,"--left-column-end":l-2,"--right-column-start":l},{isAnonymous:d}=(0,n.v9)(xa.Gg),o=(0,ce.k)(),{data:m,status:u}=E(s,d),k=!!m&&u!==C.UNAVAILABLE||d,h=(0,n.v9)(Sa.br),g=(0,n.v9)(Sa.yE);return(0,R.jsxs)(t.Suspense,{fallback:null,children:[k&&(0,R.jsx)("div",{className:H()(Te,{[Ie]:i>5}),style:{...r},children:d?(0,R.jsx)(qe,{buttonText:c.ag.get("sign_up"),secondaryButtonText:c.ag.get("login"),text:c.ag.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:ka.L6,onSecondaryButtonClick:ka.h$}):(0,R.jsx)(Na,{uri:s})}),(0,R.jsx)("div",{className:H()(Ce,{[Le]:i>5&&k}),style:{...r},children:(0,R.jsx)(ua,{artists:a,LinkComponent:J.default,disabled:!o,enableI18nRoutes:h,enableI18nAdditionalPages:g})})]})};var Aa=i(54353),ja=i(75390),ba=i(49340),Fa=i(26929),fa=i(77803),Ca=i(28386),La=i(71587),Ta=i(88397);const Ia={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRichTrackArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistsFields"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistsFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtists"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"firstArtist"},name:{kind:"Name",value:"artistsWithRoles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richRelatedArtistsFields"}}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"otherArtists"},name:{kind:"Name",value:"artistsWithRoles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistItem"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richRelatedArtistsFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedArtists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackArtistPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richArtistFields"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richArtistFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistAlbums"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistAlbumFields"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistAlbumFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}},{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]},Ra=e=>{const a=(i={uri:e},(0,Ta.a)(Ia,i,t));var i,t;if(!a.loading&&"Track"===a.data?.trackUnion?.__typename)return a.data.trackUnion},wa=e=>e.items.map((e=>({name:e.artist.profile.name,images:(e.artist.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.artist.uri,id:e.artist.id}))),Pa=({uri:e,track:a,richTrackArtists:i})=>{const d=(0,ba.o)(),N=(0,ce.k)(),b=(0,Fa.g)(),f=(0,s.TH)(),C=(0,n.v9)(Sa.br),L=c.ag.getLocale(),T=(0,z.S9)({localeFeatureFlag:C,locale:L,type:"locale"}),{artistsWithRoles:I,albumOfTrack:w,duration:P,name:D}=a,E=w?.coverArt,W=w?.copyright.items,K=w?.courtesyLine,V=w?.date?.isoString,Q=E?.extractedColors?.colorRaw.hex,H=(E?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),q={uri:w?.uri||"",name:w?.name||""},J=(0,B.vI)($.k.RTPFeaturedArtists,f),X=(0,n.v9)(Ca.$2),ee=(0,Z.xU)(X,a.id),ae=J||ee,ie=ae&&i,te=wa(I),ne=ie?te.concat(wa(i.otherArtists)):te,{spec:se,logger:le}=(0,G.fU)(r.createDesktopTrackEventFactory,{data:{uri:e}}),re=(0,n.v9)(xa.n5),de=(0,n.v9)(fa.rZ);(0,ja.M)({category:"rtp-feat-artist-and-credits-test",action:"remote-config-response",remoteConfigProperty:M.es,label:"dwp",context:`${e}|${ae}`,country:re?de:"",spt:!0,isAnonymous:b});const oe=a.playability.playable,me=(0,Fe.Y)(e),{togglePlay:ue,isPlaying:ke,isActive:he}=(0,O.n)({uri:me},{featureIdentifier:"track"}),[ge,ve]=(0,F.Z)(e),pe=(0,t.useCallback)((async()=>{d({targetUri:e,intent:ge?"unsave":"save",type:"click"});const a=se.actionBarFactory().saveButtonFactory();le.logInteraction(ge?a.hitRemoveLike({itemNoLongerLiked:e}):a.hitLike({itemToBeLiked:e}));try{await ve(!ge)}catch{}}),[d,e,ge,se,le,ve]),Ne=(0,t.useCallback)((()=>(0,_.Zs)({i18n:c.ag,trackArtistsList:ne.map((e=>e.name)).join(c.ag.getSeparator()),trackName:a.name,shouldLocalize:T})),[ne,T,a.name]),Se=(0,t.useCallback)(((e,a)=>{le.logInteraction(se.headerFactory().artistLinkFactory({position:a.position,uri:a.creator.uri}).hitUiNavigate({destination:a.creator.uri}))}),[le,se]),xe=(0,t.useCallback)((()=>{const a=(0,x.aK)({isPlaying:ke,isActive:he,spec:se.actionBarFactory().playButtonFactory(),logger:le,uri:e});ue({loggingParams:a})}),[he,ke,le,se,ue,e]),ye=(0,t.useCallback)((()=>{le.logInteraction(se.actionBarFactory().contextButtonFactory().hitUiReveal())}),[le,se]);return(0,R.jsxs)("section",{"data-testid":"track-page",children:[(0,R.jsx)(Aa.$,{children:Ne()}),(0,R.jsxs)(g.gF,{backgroundColor:Q,children:[(0,R.jsxs)(v.W,{children:[(0,R.jsx)(S.$,{size:"md",onClick:xe,disabled:!oe,isPlaying:ke,uri:e}),(0,R.jsx)(p.i,{text:D,dragUri:e,dragLabel:D})]}),(0,R.jsx)(y._P,{menu:(0,R.jsx)(h.$,{uri:e}),children:(0,R.jsx)(g.Oz,{dragUri:e,images:H,name:D,placeholderType:"album"})}),(0,R.jsxs)(g.sP,{children:[(0,R.jsx)(l.D,{variant:"mestoBold",children:c.ag.get("song")}),(0,R.jsx)(y._P,{menu:(0,R.jsx)(h.$,{uri:e}),children:(0,R.jsx)(g.xd,{dragUri:e,dragLabel:D,children:D})}),ae?(0,R.jsx)(g.QS,{creators:te,releaseDate:V,durationMilliseconds:P.totalMilliseconds,onCreatorClick:Se,isTrack:!0,album:q}):(0,R.jsx)(g.QS,{creators:te,releaseDate:V,durationMilliseconds:P.totalMilliseconds,onCreatorClick:Se,isTrack:!0})]})]}),(0,R.jsx)(o.o,{backgroundColor:Q,children:(0,R.jsxs)(o.F,{children:[(0,R.jsx)(g.rn,{children:(0,R.jsx)(S.$,{onClick:xe,isPlaying:ke,disabled:!oe,size:"lg",uri:e})}),(0,R.jsx)(g.rn,{children:(0,R.jsx)(m.H,{isAdded:!!ge,onClick:pe,disabled:!N,size:m.q.md})}),(0,R.jsx)(u.o,{uri:e,isFollowing:!!ge,onFollow:pe,size:u.q.md}),(0,R.jsx)(y.yj,{menu:(0,R.jsx)(h.$,{uri:e}),onShow:ye,children:(0,R.jsx)(k.z,{label:c.ag.get("more.label.context",D)})})]})}),(0,R.jsxs)(U,{children:[(0,R.jsxs)("div",{className:"contentSpacing",children:[(0,R.jsx)("div",{className:Re,children:(0,R.jsx)(j.T,{render:({columnCount:a})=>(0,R.jsx)(ya,{albumArtists:ne,columnCount:a,uri:e})})}),ie?(0,R.jsx)(Ke,{track:a,richTrackArtists:i}):(0,R.jsx)(Ke,{track:a})]}),(0,R.jsx)("div",{className:"contentSpacing",children:(0,R.jsxs)("div",{className:we,children:[(0,R.jsx)(A.k,{copyrights:W||[],courtesyLine:K}),!b&&(0,R.jsx)(Y,{uri:e})]})})]})]})},Da=(0,t.memo)((function(){const{trackId:e=""}=(0,s.UO)(),a=(0,d.tn)(e).toURI(),i=(0,La.QN)({uri:a}),t=Ra(a);return i.loading||"Track"!==i.data?.trackUnion?.__typename?(0,R.jsx)(N.h,{hasError:null!==i.error,errorMessage:c.ag.get("track-page.error")}):(0,R.jsx)(b.fd,{surface:b.Tg.TRACK,uris:[a,i.data.trackUnion.albumOfTrack?.uri??null],children:(0,R.jsx)(Pa,{uri:a,track:i.data.trackUnion,richTrackArtists:t})})}))},75390:(e,a,i)=>{i.d(a,{M:()=>o});var t=i(59496),n=i(67052),s=i(67242),l=i(6948),r=i(50821),d=i(19666),c=i(16232);const o=({category:e,action:a,remoteConfigProperty:i,defaultVariant:o,label:m,context:u,country:k,spt:h=!1,isAnonymous:g=!1})=>{const v=(0,l.W6)(i),p=(0,c.s4)();(0,t.useEffect)((()=>{if(!v||!m)return;const i={category:e,action:a,variant:o??v,label:m,os:(0,r.y)(),...u&&{context:u},...k&&{country:k},...h&&{sp_t:(0,d.vQ)("sp_t")}};g?p.send((0,s.k)(i)):p.send((0,n.x)(i))}),[v,m,e,a,u,k,h,g,p,o])}},97360:(e,a,i)=>{i.d(a,{k:()=>l});var t=i(46810);const n="rTMkDBDp47Eo12ZEQv4U";var s=i(4637);const l=({copyrights:e,courtesyLine:a})=>{const i=(e||[]).map(((e,a)=>{const i=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let n;return n="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,s.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:`${n} ${i}`},a)}));return a&&i.unshift((0,s.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:a},i.length)),(0,s.jsx)("div",{className:n,children:i})}},5221:(e,a,i)=>{i.d(a,{j:()=>n,vI:()=>t});const t=(e,a)=>{const i=a?new URLSearchParams(a.search):void 0;return"1"===i?.get(e)},n=(e,a)=>e.map((e=>t(e,a)))},5666:(e,a,i)=>{i.d(a,{k:()=>t});let t=function(e){return e.UnauthLyrics="ulotw",e.InternalTrackLinks="itl",e.RichAlbumPageUI="ralphui",e.RichAlbumPageData="ralphdata",e.PathfinderAlbumPage="pfap",e.I18nSEO="i18nSEO",e.RTPFeaturedArtists="rtpv2p1",e.RTPTrackCredits="rtpv2p2",e.Canonicals="atc",e.BlendParty="bp",e.BlendPartyV2="bpv2",e.VideoPodcastShowTitleTag="vidpodshow",e.I18nAdditionalPages="i18nap",e}({})}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map