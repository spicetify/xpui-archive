"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[9209],{73462:(e,t,r)=>{r.d(t,{A:()=>y});var n=r(30758),i=r(73351),a=r(54925),s=r(96855),o=r(7104),c=r(42799),l=r(69880);const u="MUiWCNTfb6FcSwVPvQ1V",d="_eSrMs5LTUjW7l0vfuBg",m="UAk3bMhekwJTV_wIyfsT",v="X9w6LPfKsZHMCs38sVIQ",h="NXn5KjeUOjLGlAfS1Gao",f="N0wgFMDDvCiby4QB5kLJ",g="nloNe2BLRHjz9dxlwfLU",x="FyD0hF1e2PKzRxQ6sYDQ",p="GR08E4L_rOGljyQQX30R";var j=r(86070);const y=(0,n.memo)((function(e){var t=e.uri,r=e.title,n=e.imageUrl,y=e.date,b=e.subTitle,N=e.firstParty,S=e.onClick,_=y?(0,l.l4)(y):void 0;return(0,j.jsx)(o.N,{to:t,className:u,"data-testid":"concert-card",onClick:S,children:(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)(c.b,{children:(0,j.jsx)("div",{role:"img",className:p,style:{backgroundImage:"url(".concat(n,")")},children:!n&&(0,j.jsx)(i.r,{role:"img",size:"xxlarge",semanticColor:"textSubdued"})})}),_&&(0,j.jsxs)("time",{className:m,dateTime:y,children:[(0,j.jsx)(a.E,{as:"div",variant:"bodySmall",children:(0,l.tj)(_)}),(0,j.jsx)(a.E,{as:"div",variant:"bodyMediumBold",children:(0,l.Py)(_)})]}),(0,j.jsxs)("div",{className:v,dir:"auto",children:[(0,j.jsx)(a.E,{as:"h2",variant:"bodyMedium",className:h,children:r}),(0,j.jsxs)("div",{className:f,children:[N&&(0,j.jsx)("span",{className:x,children:(0,j.jsx)(s.D,{size:"small"})}),(0,j.jsx)(a.E,{as:"span",className:g,variant:"bodySmall","data-testid":"location-name",semanticColor:"textSubdued",children:b})]})]})]})})}))},49153:(e,t,r)=>{r.d(t,{bU:()=>u,fD:()=>c,he:()=>l,nm:()=>s});r(60905),r(51725),r(78381),r(38858),r(62172),r(98168),r(9332),r(21932),r(60850),r(21256),r(54436),r(66874),r(83892),r(69645),r(9981),r(31840),r(45991),r(36490),r(66230),r(5464),r(93902),r(64992),r(4207);var n=r(42534);function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,s=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw s}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e,t){if(!e)return"/concerts";var r=null==t?void 0:t.normalize().replaceAll(/\W+/g,"-");return r?"/concerts/location/".concat(e,"-").concat(r):"/concerts/location/".concat(e)},o=10;function c(e){if(0===e.length)return[];if(0===e[0].events.length)return[];var t,r=[],n={date:e[0].events[0].openingDate.slice(0,o),events:[]},a=i(e);try{for(a.s();!(t=a.n()).done;){var s,c=i(t.value.events);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=l.openingDate.slice(0,o);n.date!==u&&(r.push(n),n={date:u,events:[]}),n.events.push(l)}}catch(e){c.e(e)}finally{c.f()}}}catch(e){a.e(e)}finally{a.f()}return r.push(n),r}var l=function(e){return e.ticketers.some((function(e){return"spotify"===e.partnerDisplayName.toLowerCase()}))},u=function(e){return(0,n.x)(e,{representation:"date"})}},23162:(e,t,r)=>{r.d(t,{o:()=>m});var n=r(26017),i=r(98111),a=r(95514),s=r(16247),o=r.n(s),c=r(56761),l=r(45701),u=function(){var e=(0,a.A)(o().mark((function e(t,r){var n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.aw)(c.n.getInstance(),t,r);case 2:return i=e.sent,e.abrupt("return",null===(n=i.body)||void 0===n?void 0:n.found[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(e){var t=(0,n.A)(e.queryKey,2),r=(t[0],t[1]),i=r.username,a=r.concertUri;return u(i,a)},m=function(e){var t=["concertInCollection",e];return(0,i.I)({queryKey:t,queryFn:d,retry:!1,enabled:!!e.username})}},35231:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ut});r(93752),r(84008),r(10459),r(83892),r(69645),r(93902),r(49604),r(50252);var n=r(61022),i=r(54925),a=r(76495),s=r(51519),o=r(59081),c=r(12475),l=r(85107),u=r(47872),d=r(82930),m=r(98849),v=r(54212),h=r(19968),f=r(11182),g=r(46317),x=r(92373),p=r(33450),j=r(82035),y=r(81226),b=(r(60905),r(94238),r(63619),r(41679),r(81443),r(74457),r(6844),r(77458),r(63624),r(7410),r(50247),r(88190),r(30758)),N=r(7771),S=r(61957),_=r(90745),k=r(1409),C=r(8218),w=r(7104),I=r(49153),R=r(43407),A=r(17175),O=r(96674);const E="DT8qnb2n6r8T68jLVthh",D="zTsWYsr2n9I1LMmEDGTU",U="qWd4xt94mckHYR2xmAKj",M="SkMjjVu2vVUOX8DzcDSo",P="tyNr9rDKx_AdxYH5e_JY",T="od7mn8s0l5iqP3Svx0AV";var F=r(86070);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,y.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const V=(0,b.memo)((function(e){var t,r,n,a=e.location,s=e.showTime,c=e.ageRestriction,l=e.htmlDescription,u=e.doorsOpenTime,d=e.spec,m=(0,R.s)(),v=(0,k.NC)(A.Zx),h=a.metroAreaLocation?(0,I.nm)(null===(t=a.metroAreaLocation)||void 0===t?void 0:t.geonameId,null===(r=a.metroAreaLocation)||void 0===r?void 0:r.fullName):null;return(0,F.jsxs)("div",{className:E,children:[(null==l?void 0:l.trim())&&(0,F.jsxs)("div",{className:D,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:U,children:o.Ru.get("artist.about")}),(0,F.jsx)(C.q,{html:l,onTimeStampClick:function(){}})]}),(0,F.jsxs)("div",{className:D,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:U,children:o.Ru.get("tracklist.header.venue")}),(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(N.t,{className:M}),(0,F.jsxs)("div",{children:[(0,F.jsx)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:a.name}),(0,F.jsx)(i.E,{as:"p",variant:"bodyMedium",children:(0,O.im)(B(B({},a),{},{name:""}))})]})]}),(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(S.p,{className:M}),(0,F.jsxs)("div",{children:[(0,F.jsxs)(i.E,{as:"h4",variant:"bodyMediumBold",className:P,children:[u&&o.Ru.get("concert.door_time",o.Ru.formatDate(u,{timeStyle:"short"})),u&&" • ",o.Ru.get("concert.show_time",o.Ru.formatDate(s,{timeStyle:"short"}))]}),(null==c?void 0:c.trim())&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMedium",children:c})]})]}),v&&h&&(0,F.jsxs)("div",{className:T,children:[(0,F.jsx)(_.T,{className:M}),(0,F.jsx)(w.A,{to:h,onClick:function(){return e=h,t=d.concertLocationLinkFactory().hitUiNavigate({destination:e}),void m.logInteraction(t);var e,t},children:(0,F.jsx)(i.E,{variant:"bodyMedium",semanticColor:"textSubdued",children:o.Ru.get("concert.see_more_events_in_location",null===(n=a.metroAreaLocation)||void 0===n?void 0:n.fullName)})})]})]})]})}));r(67560);var z=r(78041),K=r(80049),q=r(60828),G=r(63336),W=r(34478),Y=r(9064),Q=r(60103),Z=r(16007),H=r(90464),X=b.memo((function(e){var t=e.uri,r=(0,Y.o)(t).spec;return(0,F.jsx)(W.pZ,{value:"concert",children:(0,F.jsxs)(G.W,{children:[(0,F.jsx)(H.h,{children:(0,F.jsx)(Q.m,{spec:r,uri:t,displayText:o.Ru.get("context-menu.copy-concert-link")})}),(0,F.jsx)(Z.q,{spec:r,uri:t})]})})})),J=r(71526),$=r(26017),ee=r(45976),te=r(34848),re=r(99580),ne=r(29318),ie=r(81874),ae=r(13147),se=r(56761),oe=r(45701),ce=r(22865),le=r(23162),ue=r(65775);const de="x6zNCqcdrTezhaUq6pck",me="ZcbYxrNgxYr3SbEDBTYc",ve="_vV79k5wVj4ojQrGsBb1",he="rdv_h11KFhUaePKRhMCV",fe="Iq0_yrjNiWn8wRH7aDph",ge="cywtrgfOWVwmo7QagmNV",xe="_vCmAsTSGBADcknU2Mzz",pe="Y6ilq5IfXWe4NCTIEAQs",je="F0GSgR3ItvuSGr62Oe5g",ye="LtnM_4Oyo1HSd2O3TmCE",be="IQqSOBxm76WfDmGIj1DU",Ne="FSRM6nxcxudGRBZa4PTT",Se="ptXgOTvLktMzK0gfIr3K",_e="Y2Rtthdu0TlFAE_wU0Ah",ke="ntlY4xYsXqEM8EWs1uvk",Ce="a4SDu_eWa3Lmy8zYJJOU",we="rkyLixjACVqakDzW70Fj",Ie="QktlqjloKFGPU6VeCdJB",Re="D5ikxKFFy7OrZoPNlsxA",Ae="_OGSfzdUucEdm0ll_tF7",Oe="NoeAvmXKTUNWhszGUnHk",Ee="YmnPLOjioNCevJtMZ0WW",De="y8RckB3uXs02SxhOZkH0",Ue="PnjkxsPxdfZjXVMFaK4X",Me="USYJQ5misC_yxAwGf2i_",Pe="LXNtpDfChMRAPEOEhNGW",Te="nfjG30FTqx4BgHijkNnt",Fe="B6WEG6LOQLlkS_qAvKTq",Le="pjNrzKzBuV7XUPky3ier",Be="i90BSV7_cgYaY8UBFCqg",Ve="TkfBKkvG2fmebTrGLIxi",ze="Cu2TG7TTa2wwKrEpEsKY";const Ke=(0,b.memo)((function(e){var t=e.concertUri,r=e.entitySpec,n=(0,b.useMemo)((function(){return r.interestedButtonFactory()}),[r]),i=(0,ce.t)(n),a=(0,R.s)(),c=(0,ue.d)().enqueueSnackbar,l=(0,ee.d4)(ae.F6),u=(0,le.o)({username:l,concertUri:t}),d=u.data,m=u.isLoading,v=(0,b.useState)(),h=(0,$.A)(v,2),f=h[0],g=h[1],x=void 0===f?d:f,p=(0,s.o_)(t);return(0,F.jsx)(ie.Zp,{label:o.Ru.get("concerts_interested_tooltip"),placement:"top-end",children:(0,F.jsx)(te.n,{ref:i,size:"small",iconLeading:x?re.i:ne.u,className:Oe,"aria-checked":x,disabled:m,onClick:function(){if(!m)if(x){var e=n.hitRemoveInterest();e&&a.logInteraction(e),g(!1),c(o.Ru.get("concerts_removed-from-your-saved-events")),(0,oe.Jr)(se.n.getInstance(),p.id)}else{var t=n.hitAddInterest();t&&a.logInteraction(t),g(!0),c(o.Ru.get("concerts_added-to-your-saved-events")),(0,oe.m9)(se.n.getInstance(),p.id)}},children:o.Ru.get("concerts_interested")})})}));r(66874);var qe=r(32303),Ge=r(69880),We=r(54509),Ye=r(99604),Qe=r(694);const Ze=(0,b.memo)((function(e){var t=e.concertUri,r=e.offer,n=e.position,a=e.spec,s=e.onRemindMe,c=r.soldOut||(0,Ge.m7)(r.endDateIsoString),l="Spotify"===r.providerName,u=(0,Ge.PR)(r.startDateIsoString),d=u?void 0:r.url,m=(0,R.s)(),v=(0,We.W)(),h=(0,b.useMemo)((function(){return a.ticketProviderCellFactory({identifier:r.providerName,position:n,uri:r.url})}),[a,r.providerName,n,r.url]),f=(0,ce.t)(h),g=(0,b.useMemo)((function(){if(c)return(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textSubdued",className:Pe,children:o.Ru.get("concerts.soldout")});if(u){var e=r.startDateIsoString&&new Date(r.startDateIsoString);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ue,children:o.Ru.get("concerts.tickets_on_sale_soon")}),e&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Fe,children:o.Ru.get("concerts.ticket_date_time",(0,Ge.Y)(e),(0,Ge.WB)(e))})]})}var t={"on-sale":o.Ru.get("concerts.on_sale"),presale:o.Ru.get("concerts.presale")};return(0,F.jsxs)(F.Fragment,{children:[t[r.saleType]&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:Ue,children:t[r.saleType]}),l&&r.minPrice&&(0,F.jsx)(i.E,{as:"p",variant:"bodyMediumBold",semanticColor:"textPositive",className:De,children:o.Ru.get("concerts.ticket_price",r.minPrice)})]})}),[c,u,r.saleType,r.minPrice,r.startDateIsoString,l]),x=(0,b.useMemo)((function(){return c?null:(u&&(qe.$,o.Ru.get("concerts.remind_me")),(0,F.jsx)(qe.$,{className:Ee,iconTrailing:Ye.p,size:"small",children:l?o.Ru.get("concert_buy_tickets"):o.Ru.get("concert_find_tickets")}))}),[c,u,l,s]);return(0,F.jsxs)("a",{href:d,className:be,target:"_blank",ref:f,onClick:function(){var e=h.hitNavigateToExternalUri({destination:r.url});e&&m.logInteraction(e),v({targetUri:t,intent:"find-concert",type:"click"})},children:[(0,F.jsx)("div",{className:Ne,children:(0,F.jsx)(Qe._,{loading:"eager",src:r.providerImageUrl,height:"100%",width:"100%",className:Se,children:(0,F.jsx)(_.T,{className:_e,size:"medium"})})}),(0,F.jsxs)("div",{className:ke,children:[(0,F.jsxs)("div",{dir:"auto",className:Me,children:[g,(0,F.jsx)(i.E,{as:"p",semanticColor:"textSubdued",children:r.providerName})]}),x]})]})}));const He=(0,b.memo)((function(e){var t=e.concertUri,r=e.offers,n=e.entitySpec,a=(0,b.useMemo)((function(){return n.ticketProviderListFactory()}),[n]),s=(0,ce.t)(a);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert.header.tickets_available_on")}),(0,F.jsx)("div",{ref:s,className:je,children:r.map((function(e,r){return(0,F.jsx)(Ze,{concertUri:t,offer:e,position:r,onRemindMe:function(){},spec:a},e.url)}))}),(0,F.jsx)(i.E,{as:"p",variant:"marginal",semanticColor:"textSubdued",className:ye,children:o.Ru.get("events_page.disclaimer")})]})}));r(98168),r(51945),r(60850),r(39921),r(36490),r(4207),r(61818),r(42858),r(64334),r(9433),r(26308),r(84815);var Xe=r(91981),Je=r(19919);function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var et=function(e){var t=e.locationName,r=e.latitude,n=e.longitude,a=e.onClick,s=new URL("https://maps.google.com/");return s.searchParams.set("q",t),r&&n&&s.searchParams.set("ll","".concat(r,",").concat(n)),(0,F.jsx)("a",{href:s.href,target:"_blank",onClick:function(){return null==a?void 0:a(s.href)},children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:t})})};const tt=(0,b.memo)((function(e){var t;if((0,k.NC)(Je.DKh)&&((t=e.venue)&&Object.keys(t.data).includes("uri"))){var r=e.venue.data.uri;return(0,F.jsx)(Xe.A,{to:r,onClick:function(){var t;return null===(t=e.onClick)||void 0===t?void 0:t.call(e,r)},children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:e.locationName})})}return(0,F.jsx)(et,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){(0,y.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e))}));const rt=(0,b.memo)((function(e){var t,r,n=e.concert,a=e.entitySpec,s=(0,R.s)(),c=(0,J.V)(),l=(0,Ge.l4)(n.startDateIsoString);if((0,Ge.m7)(n.startDateIsoString))return(0,F.jsxs)("div",{className:pe,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",children:o.Ru.get("concert_event_ended")}),(0,F.jsx)(i.E,{variant:"bodyMedium",children:(0,F.jsx)(w.A,{to:"spotify:concerts",children:o.Ru.get("concert_past_message")})})]});return(0,F.jsxs)("div",{className:pe,children:[(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:Te,children:(0,F.jsx)(tt,{venue:n.venue,locationName:(0,O.im)(n.location),latitude:null===(t=n.location.coordinates)||void 0===t?void 0:t.latitude,longitude:null===(r=n.location.coordinates)||void 0===r?void 0:r.longitude})}),(0,F.jsx)(i.E,{as:"h3",variant:"bodySmall",className:Re,children:[(0,Ge.Y)(l),(0,Ge.WB)(l)].join(" • ")}),(0,F.jsxs)("div",{className:de,children:[!c&&(0,F.jsx)(Ke,{concertUri:n.uri,entitySpec:a}),(0,F.jsx)(K.w,{uri:n.uri,sharingInfo:null,interactionData:{intent:"share",type:"click"},onClick:function(){var e=a.shareEventButtonFactory({uri:n.uri}).hitShare({entityToBeShared:n.uri,shareId:n.uri});e&&s.logInteraction(e)},className:Le,ariaLabel:o.Ru.get("concerts_share_with_friends")}),(0,F.jsx)(q.b,{menu:(0,F.jsx)(X,{uri:n.uri}),onShow:function(){var e=a.contextMenuButtonFactory().hitUiReveal();e&&s.logInteraction(e)},children:(0,F.jsx)(z.e,{size:"large"})})]}),(0,F.jsx)(He,{concertUri:n.uri,offers:n.offers.items,entitySpec:a})]})}));var nt=r(93209),it=(r(51725),r(92141)),at=r(94331),st=r(7766),ot=(r(48224),r(45286)),ct=function(e,t){return new Date(e.date.isoString).getTime()-new Date(t.date.isoString).getTime()},lt=function(e){var t,r,n,i,a=e.artist,s=e.spec,c=(0,R.s)(),l=a.goods.events.concerts.items.filter((function(e){return e.nearUser})).sort(ct).shift(),u=l&&(r=l,i=o.Ru.formatDate((0,Ge.l4)(null==r?void 0:r.date.isoString),{day:"numeric",month:"short"}),null!==(n=r.venue.location)&&void 0!==n&&n.name?"".concat(i,", ").concat(r.venue.location.name):i),d=null===(t=a.goods.events.userLocation)||void 0===t?void 0:t.name,m="".concat(a.uri,":concerts");return(0,F.jsxs)("div",{className:Ve,children:[l&&d&&(0,F.jsxs)("div",{className:ze,children:[(0,F.jsx)(ot.Z,{children:o.Ru.get("concerts.next_concert_near_location_colon",d)}),(0,F.jsx)(w.A,{to:l.uri,onClick:function(){return e=l.uri,t=s.nextConcertNearUserLinkFactory({uri:e}).hitUiNavigate({destination:e}),void c.logInteraction(t);var e,t},children:(0,F.jsx)(ot.Z,{semanticColor:"textSubdued",children:u})})]}),(0,F.jsxs)("div",{className:ze,children:[(0,F.jsx)(ot.Z,{children:o.Ru.get("concerts.on_tour_colon")}),(0,F.jsx)(w.A,{to:m,onClick:function(){var e=s.artistEventsLinkFactory({uri:m}).hitUiNavigate({destination:m});c.logInteraction(e)},children:(0,F.jsx)(ot.Z,{semanticColor:"textSubdued",children:o.Ru.get("concerts.view_all_upcoming_concerts_count",a.goods.events.concerts.totalCount)})})]})]})},ut=r(42799);const dt="FjO33VzGE6gfBjmL653W",mt="_NcmNLWwFe2sPY79b4Qa",vt="akNxAcOtC3FYI8sqvJjD",ht="mUE9LjVEFQPKle8deylh",ft="Vf1WyewhhIsg7A_HPmBJ",gt="XY8pb4mCvOicd35GIUMg",xt="_KEuwafdCwVU1rKBhfQz";var pt=(0,b.memo)((function(e){var t=e.imageUri,r=e.name,n=e.uri,a=e.headliner,s=e.onClick,c=(0,F.jsxs)(w.N,{to:n,className:mt,onClick:s,children:[t?(0,F.jsx)(ut.b,{children:(0,F.jsx)("div",{"data-testid":"image-container",className:xt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat(t,")")}})}):null,(0,F.jsxs)("div",{className:vt,children:[a&&(0,F.jsx)("div",{className:ft,children:(0,F.jsx)(i.E,{as:"h4",variant:"bodySmallBold",className:gt,children:o.Ru.get("concert.label.headliner")})}),(0,F.jsx)(i.E,{as:"h2",variant:"titleMedium",className:ht,children:r})]})]});return(0,F.jsx)("div",{className:dt,children:c})}));const jt=pt;const yt=(0,b.memo)((function(e){var t,r=e.artist,n=e.position,i=e.lineupSpec,a=(0,b.useMemo)((function(){return i.artistRowFactory({position:n,uri:r.uri})}),[i,n,r.uri]),s=(0,R.s)(),c=(0,k.NC)(Je.DFH),l=r.relatedContent.featuringV2.items.flatMap((function(e){var t=e.data;return"Playlist"===t.__typename&&"artistsets"===t.format?[t]:[]})),u=r.discography.popularReleasesAlbums.items,d=null===(t=r.visuals.avatarImage)||void 0===t||null===(t=t.sources)||void 0===t?void 0:t[0],m=(0,F.jsx)(jt,{uri:r.uri,name:r.profile.name,imageUri:null==d?void 0:d.url,headliner:0===n,onClick:function(){var e=null==a?void 0:a.artistCardFactory().hitUiNavigate({destination:r.uri});e&&s.logInteraction(e)}},r.uri),v=l.map((function(e,t){var r,n="User"===e.ownerV2.data.__typename&&e.ownerV2.data.name||e.name;return(0,F.jsx)(at.B,{index:t,uri:e.uri,name:e.name,images:null===(r=e.images.items[0])||void 0===r?void 0:r.sources,description:e.description||"",authorName:n},e.uri)})),h=u.map((function(e,t){var r,n=e.artists.items.map((function(e){return{uri:e.uri,name:e.profile.name}}));return(0,F.jsx)(it.a,{uri:e.uri,index:t,artists:n,images:(null===(r=e.coverArt)||void 0===r?void 0:r.sources)||[],name:e.name,sharingInfo:e.sharingInfo},e.uri)}));return(0,F.jsxs)(W.pZ,{value:"headered-grid",index:n,children:[(0,F.jsx)(st.$,{title:0===n?o.Ru.get("concert.lineup"):"",total:2+v.length+h.length,seeAllUri:r.uri,seeAllLabel:o.Ru.get("view.see-all"),onClickShelfSeeAll:function(){var e=null==a?void 0:a.seeDiscographyLinkFactory().hitUiNavigate({destination:r.uri});e&&s.logInteraction(e)},showSeeAll:!0,alwaysShowSeeAll:!0,children:[m,null].concat((0,nt.A)(v),(0,nt.A)(h)),className:Be}),c&&(0,F.jsx)(lt,{artist:r,spec:a})]},r.uri)}));const bt=(0,b.memo)((function(e){var t=e.artists,r=e.entitySpec,n=(0,b.useMemo)((function(){return r.lineupArtistsFactory()}),[r]),i=(0,ce.t)(n);return(0,F.jsx)("div",{ref:i,className:Ce,children:t.flatMap((function(e,t){if("Artist"!==e.data.__typename)return[];var r=e.data;return[(0,F.jsx)(yt,{artist:r,position:t,lineupSpec:n},r.uri)]}))})}));var Nt=r(27989);const St="Hfc2oes6xv_aDZe9NiT1",_t="SHue2Uo0VFHp8utelad9",kt="RR0j6Ja2HpvGlL7Hq2wg";const Ct=(0,b.memo)((function(e){return(0,F.jsxs)(w.N,{to:"spotify:concerts",className:St,onClick:e.onClick,children:[(0,F.jsx)(ut.b,{children:(0,F.jsx)("div",{className:kt,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(".concat("https://concerts.spotifycdn.com/ConcertHubCard.png",")")}})}),(0,F.jsx)("div",{className:_t,children:(0,F.jsx)(i.E,{as:"h2",variant:"titleSmall",children:o.Ru.get("concerts_browse_more")})})]})}));var wt=r(73462),It=(0,b.memo)((function(e){var t,r=e.concert,n=e.position,i=e.recommendedSpec,a=(0,R.s)(),s=r.artists.items.flatMap((function(e){return"Artist"===e.data.__typename?[e.data]:[]})),o=s.map((function(e){return e.profile.name})),c=(0,O.tI)(r.title,r.festival,o)?r.title:(0,O.Ac)(o),l=null===(t=s[0])||void 0===t||null===(t=t.visuals.avatarImage)||void 0===t?void 0:t.sources[0];return(0,F.jsx)(wt.A,{uri:r.uri,title:c,date:r.startDateIsoString,subTitle:(0,O.im)(r.location),imageUrl:null==l?void 0:l.url,firstParty:r.firstParty,onClick:function(){var e=null==i?void 0:i.concertCardFactory({position:n,uri:r.uri}).hitUiNavigate({destination:r.uri});e&&a.logInteraction(e)}})}));const Rt=(0,b.memo)((function(e){var t=e.relatedConcerts,r=e.entitySpec,n=(0,b.useMemo)((function(){return r.recommendedConcertsFactory()}),[r]),i=(0,R.s)(),a=(0,ce.t)(n),s=t.items.flatMap((function(e){return"ConcertV2"===e.data.__typename?[e.data]:[]}));if(0===s.length)return null;return(0,F.jsx)("div",{ref:a,className:Ie,"data-testid":"concert-recommendations",children:(0,F.jsx)(W.pZ,{value:"headered-grid",children:(0,F.jsxs)(st.$,{title:o.Ru.get("concert.similar_events"),total:t.totalCount,className:Ae,showSeeAll:!0,alwaysShowSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:o.Ru.get("view.see-all"),colGap:(0,Nt.po)("base"),withEncoreCards:!1,children:[(0,F.jsx)(Ct,{onClick:function(){var e=null==n?void 0:n.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});e&&i.logInteraction(e)}},"browse"),s.map((function(e,t){return(0,F.jsx)(It,{position:t,concert:e,recommendedSpec:n},e.uri)}))]})})})}));var At=r(37686),Ot=r(28937),Et=new At.l("concert","query","a3ed35c5dab1ccb9dc41018822adb997e77f34bf12b2ee7f92ffcc5469ce7ae3",null),Dt=function(e){var t,r,n,o=e.concert,g=(0,j.r)(a.b,{data:{identifier:null===(t=(0,s.o_)(o.uri))||void 0===t?void 0:t.id,uri:o.uri}}).spec,y=o.artists.items.flatMap((function(e){return"Artist"===e.data.__typename?[e.data]:[]})),b=y[0].visuals.headerImage;(0,x.z)(null==b||null===(r=b.extractedColors)||void 0===r?void 0:r.colorDark.hex);var N=y.map((function(e){return e.profile.name})),S=(0,O.tI)(o.title,o.festival,N)?o.title:(0,O.re)(N),_=(0,Ge.l4)(o.startDateIsoString);return(0,F.jsxs)("section",{className:fe,children:[(0,F.jsx)(l.Q,{children:(0,p.K9)(o.title,o.location.city,o.location.name)}),(0,F.jsxs)(d.z,{backgroundImages:null==b?void 0:b.sources,children:[(0,F.jsxs)(m.Y,{children:[(0,F.jsx)(u.Z,{children:(0,F.jsx)("div",{className:me,children:(0,F.jsx)(i.E,{as:"h3",variant:"titleSmall",className:ve,children:(0,Ge.Fn)(_)})})}),(0,F.jsx)(f.mm,{className:ge,children:S})]}),(0,F.jsx)(v.h,{children:(0,F.jsx)("div",{className:we,children:(0,F.jsx)(h.X,{text:S})})})]}),(0,F.jsxs)("div",{className:he,children:[(0,F.jsx)(c.K,{backgroundColor:null==b||null===(n=b.extractedColors)||void 0===n?void 0:n.colorDark.hex}),(0,F.jsxs)("div",{className:xe,children:[(0,F.jsx)(rt,{concert:o,entitySpec:g}),(0,F.jsx)(bt,{artists:o.artists.items,entitySpec:g}),(0,F.jsx)(V,{location:o.location,showTime:_,htmlDescription:o.htmlDescription,ageRestriction:o.ageRestriction,doorsOpenTime:o.doorsOpenTimeIsoString?(0,Ge.l4)(o.doorsOpenTimeIsoString):null,spec:g}),(0,F.jsx)(Rt,{relatedConcerts:o.relatedConcerts,entitySpec:g})]})]})]})};const Ut=function(){var e,t,r=(0,n.g)().concertId,i="spotify:concert:".concat(r),a=(e={uri:i},(0,Ot.I)(Et,e,t)),s=a.loading,c=a.error,l=a.data;return s?(0,F.jsx)(g.A,{hasError:!1,errorMessage:""}):c||"ConcertV2"!==(null==l?void 0:l.concert.__typename)?(0,F.jsx)(g.A,{hasError:!0,errorMessage:o.Ru.get("concert.error.concert_not_found_title")}):(0,F.jsx)(Dt,{concert:l.concert})}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map