"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[6450],{76656:(e,n,t)=>{t.r(n),t.d(n,{DISALLOWED_VIEWS:()=>J,View:()=>K,default:()=>X});var r=t(24255),o=(t(33208),t(93019),t(25750),t(66410),t(58549),t(24353),t(84437),t(7332),t(59496)),i=t(84875),c=t.n(i),s=t(77646),a=t(91351),u=t(22056),l=t(63061),d=t(69698),f=t(27874),v=t(89860),p=t(13034),g=t(15469),m=t(86417),h=t(18805),b=t(53965),j=t(99567),y=t(27293),x=(t(3761),t(68063),t(719),t(47408),t(26870),t(53987),t(79075),t(86978),t(98618),t(40905),t(79410),t(21105),t(72753),t(31810)),w=t(47807),O=t(23351),P=t(33892),k=t(60647),D=t(85388),N=t(3777);const A="EPMDgp7znILo0hvyirzv",E="noUm6pjQ6KWq7mVxYDor",I="PqnKjxzJ1Zvr9qKRlRbO",C="uuBQS9Ym_VPmAQrLhPQb";var S=t(4637);function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F=function(e){return(0,k.W6)(D.sE)?(0,S.jsxs)(N.default,{to:e.uri,target:"_blank",className:A,children:[(0,S.jsx)("div",{className:E}),(0,S.jsx)(P.D,{className:I,as:"h2",variant:"alto",children:e.label}),(0,S.jsx)(P.D,{className:C,as:"p",variant:"mesto",children:e.tagline})]}):null},Z=function(e){return(0,S.jsx)(o.Suspense,{fallback:null,children:(0,S.jsx)(F,M({},e))})};function q(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?q(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n;return null===(n=e.id)||void 0===n?void 0:n.startsWith("scc-corona")},G=function(e){var n=e.spaces,t=e.viewName,r=e.viewId,i=e.isAnonymous,c=(0,o.useCallback)((function(e,n){var t=function(e,n){var t=e.uri;return e.href.includes("https://api.spotify.com/v1/views/")&&(t=e.href.replace("https://api.spotify.com/v1/views/","spotify:genre:"),"hub-browse-grid"===n&&(t=t.replace(":view:",":genre:"))),t}(e,r);return(0,S.jsx)(x.q,{index:n,entity:W(W({},e),{},{uri:t})},e.href)}),[r]),s=(0,o.useCallback)((function(e,n){return(0,S.jsx)(O.JL,{value:"card",index:n,children:(0,S.jsx)(x.q,{index:n,entity:e})},e.uri||n)}),[]),a=(0,o.useCallback)((function(e,n){return"link"===e.type?c(e,n):s(e,n)}),[s,c]),u=(0,o.useCallback)((function(e){return!!_(e)||!(function(e){return"HEADER"===e.rendering}(e)||0===e.content.total||i&&"uniquely-yours-shelf"===e.id)}),[i]);return n&&0!==n.length?n[0].content?(0,S.jsx)(S.Fragment,{children:n.filter(u).map((function(e,n){var t=e.content&&(0,g.p)((0,g.S)(e.href));if(_(e)){var o=e.content.items[0];return o&&o.name&&o.description&&o.href?(0,S.jsx)(Z,{label:o.name,tagline:o.description,uri:o.href},"corona-banner"):null}return(0,S.jsx)(O.JL,{value:"headered-grid",index:n,children:(0,S.jsx)(w.q,{total:e.content.total,seeAllUri:t,pageId:r,title:e.name,tagline:e.tag_line||void 0,index:n,id:e.id,children:e.content.items.map(a)})},e.id)}))}):(0,S.jsx)(O.JL,{value:"headered-grid",children:(0,S.jsx)(w.q,{showAll:!0,title:t,total:(null==n?void 0:n.length)||0,index:0,id:null!=r?r:"spaces-see-all-grid",children:null==n?void 0:n.map(a)})}):null},Q=t(15310);const R="XD65NhAD6ebYxMaW9cZZ",V="AJqEY1gblQDvIgjU0jAH",U="Ft1cMGlqDsCbqmXQyeKN",H="zlBEnsMyvUhuHSEtst4Q",T="INYpiFRlwWIZ0vH30xW2";var Y=function(e){return"HEADER"===e.rendering},z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;if(!e)return(0,S.jsx)("div",{className:T});var r=n.filter((function(e){return"background"===e.name}));return(0,S.jsxs)(h.gF,{backgroundImages:r,backgroundColor:t,size:0===r.length?h.fR.SMALL:h.fR.DEFAULT,children:[(0,S.jsx)(b.W,{children:(0,S.jsx)(j.i,{text:e})}),(0,S.jsx)(h.sP,{children:(0,S.jsx)(h.xd,{children:e})})]})},B=function(e){var n=e.title,t=e.images,r=e.backgroundColor;return(0,S.jsx)(S.Fragment,{children:z(n,t,r)})},J=["ginger-genre-affinity"],K=o.memo((function(e){var n=e.viewData,t=e.viewId,i=e.backgroundColor,s=e.isFullyLoaded,f=e.isGenre,g=e.isAnonymous,b=e.getNextPage,j=null==n?void 0:n.name,x=(0,p.fU)(a.createDesktopGenreEventFactory,{data:{identifier:t,uri:"spotify:genre:".concat(t)}}),w=x.spec,O=x.UBIFragment,P=(0,o.useCallback)((function(){return J.some((function(e){var t;return null==n||null===(t=n.href)||void 0===t?void 0:t.includes(e)}))}),[n]),k=(0,o.useCallback)((function(){if(n){var e=P();s||e||b()}}),[n,P,s,b]),D=(0,o.useMemo)((function(){var e=(n||{}).content,t=(e=void 0===e?{}:e).items,r=(void 0===t?[]:t).filter(Y);return r.length>0?r[0]:null}),[n]),N=(0,o.useMemo)((function(){var e=(n||{}).name;return D?D.name:i&&e}),[i,D,n]),A=(0,o.useMemo)((function(){return f||Boolean(N)}),[f,N]),E=(0,o.useMemo)((function(){return!(!n||!Array.isArray(n.content.items))&&A}),[A,n]),I=(0,h.oX)(t)?(0,S.jsx)(h.YD,{isAnonymous:g}):(0,S.jsx)(B,{title:(null==D?void 0:D.name)||N,images:(null==D?void 0:D.images)||[],backgroundColor:i}),C=null==n?void 0:n.content.items,L=(0,o.useMemo)((function(){return w.shelvesFactory()}),[w]);return n?(0,S.jsxs)(S.Fragment,{children:[j?(0,S.jsx)(m.$,{children:j}):null,(0,S.jsx)(v.C,{onReachBottom:k,children:(0,S.jsxs)("section",{className:R,children:[E&&(0,S.jsx)(d.H,{color:i||null}),A?I:(0,S.jsx)("div",{className:T}),(0,S.jsxs)("div",{className:U,children:[A&&I&&(0,S.jsx)(l.I,{backgroundColor:i}),(0,S.jsx)("div",{className:c()(V,"contentSpacing",(0,r.Z)({},H,f)),children:(0,S.jsx)(O,{spec:L,children:(0,S.jsx)(G,{spaces:C,viewName:n.name,viewId:t,isAnonymous:g})})})]})]})})]}):(0,S.jsx)(y.h,{hasError:!1,errorMessage:u.ag.get("error.not_found.title.page")})}));const X=o.memo((function(e){var n=e.viewId,t=(0,s.v9)(Q.Gg).isAnonymous,r=(0,f.P)(n),o=r.view,i=r.getNextPage,c=!o||null===o.content.next,a=n.endsWith("-page")?n:"".concat(n,"-page"),u=(0,s.v9)((function(e){var n,t;return(null===(n=e.browse.allItemsStyle)||void 0===n||null===(t=n[a])||void 0===t?void 0:t.color)||""})),l=function(e){return e.viewId===n||"href"in e&&e.href===(0,g.p)(n)},d=(0,s.v9)((function(e){var n,t,r,o;return(null==e||null===(n=e.browse)||void 0===n||null===(t=n.browseAll)||void 0===t?void 0:t.items.some(l))||(null==e||null===(r=e.browse)||void 0===r||null===(o=r.topGenres)||void 0===o?void 0:o.items.some(l))||!!u}));return(0,S.jsx)(K,{viewData:o,isFullyLoaded:c,viewId:n,backgroundColor:u,isGenre:d,isAnonymous:t,getNextPage:i})}))},27874:(e,n,t)=>{t.d(n,{P:()=>j});var r=t(24255),o=t(88769),i=(t(73566),t(93019),t(3726),t(79075),t(26870),t(33208),t(86978),t(98618),t(40905),t(79410),t(21105),t(72753),t(26533)),c=t.n(i),s=t(59496),a=t(59689),u=t(39359),l=t(13870),d=(t(78390),t(77646)),f=t(60647),v=t(22056),p=t(29977),g=t(15310),m=t(21654);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var j=function(e,n){var t,r,i,u,l,h,j,x,O=(i=(0,f.W6)(m.Xf),u=(0,d.v9)(p.rZ),l=(0,d.v9)(g.Gg).overrides,h=v.ag.getLocale(),j=(null==l?void 0:l.country)||u,x=(null==l?void 0:l.locale)||h,(0,s.useMemo)((function(){var e=["album","playlist","artist","show","station","episode","merch","artist_concerts"];return i&&e.push("uri_link"),{country:j,locale:x,types:e.join(",")}}),[j,i,x])),P=(0,a.useInfiniteQuery)(["useView",e,O],function(){var n=(0,o.Z)(c().mark((function n(t){var r,o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.pageParam,o=void 0===r?void 0:r,n.abrupt("return",void 0===o?y(e,O):w(o));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{cacheTime:null!==(t=null==n?void 0:n.cacheTime)&&void 0!==t?t:18e5,staleTime:null!==(r=null==n?void 0:n.staleTime)&&void 0!==r?r:3e5,getNextPageParam:function(e){var n;return null!==(n=e.content.next)&&void 0!==n?n:void 0},getPreviousPageParam:function(e){var n;return null!==(n=e.content.previous)&&void 0!==n?n:void 0}}),k=P.data,D=P.fetchNextPage;return{view:(0,s.useMemo)((function(){return null==k?void 0:k.pages.reduce((function(e,n){return b(b({},e),{},{content:b(b({},e.content),{},{href:n.content.href,next:n.content.next,offset:n.content.offset,previous:n.content.previous,total:n.content.total,items:e.content.items.concat(n.content.items)})})}))}),[null==k?void 0:k.pages]),getNextPage:D}};function y(e,n){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(c().mark((function e(n,t){var r,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.kO.getView(u.b.getInstance(),n,t);case 2:return r=e.sent,o=r.body,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.TV.getGeneric(u.b.getInstance(),n,"/useView/fetchNext/{next}");case 2:return t=e.sent,r=t.body,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=xpui-routes-view.js.map