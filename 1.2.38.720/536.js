"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[536],{52429:(e,t,r)=>{r.d(t,{p:()=>f});var n=r(95514),i=r(16247),a=r.n(i),o=r(30758),l=r(45976),s=r(54268),c=r(89582),u=r(73576),d=r(78104),p=r(56311),y=r(86070),f=o.memo((function(e){var t=e.uri,r=e.divider,i=e.removeLabel,f=(0,l.wA)(),g=!(0,u.n)(),m=(0,d.t)(),b=(0,o.useCallback)((0,n.A)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f((0,p.aw)(t,!0));case 1:case"end":return e.stop()}}),e)}))),[f,t]);return(0,y.jsx)(c.D,{role:"menuitem",divider:r,disabled:g&&!(null!=m&&m.getCapabilities().canModifyOffline),onClick:b,leadingIcon:(0,y.jsx)(s.k,{semanticColor:"textBrightAccent",size:"small"}),children:i})}))},99010:(e,t,r)=>{r.d(t,{P:()=>m});var n=r(30758),i=r(59081),a=r(63336),o=r(34478),l=r(47551),s=r(9064),c=r(53921),u=r(60103),d=r(11962),p=r(16007),y=r(13567),f=r(52429),g=r(86070),m=n.memo((function(e){var t=e.uri,r=e.artistUri,n=e.canPin,m=void 0===n?l.oT.NO:n,b=e.isPinned,v=void 0!==b&&b,x=e.canRemove,h=void 0!==x&&x,O=(0,s.o)(t).spec;return(0,g.jsx)(o.pZ,{value:"album",children:(0,g.jsxs)(a.W,{children:[h&&(0,g.jsx)(f.p,{uri:t,removeLabel:i.Ru.get("contextmenu.remove-from-library")}),r&&(0,g.jsx)(d.z,{spec:O,divider:"after",uri:r,displayText:i.Ru.get("contextmenu.go-to-artist-radio")}),m!==l.oT.NO&&(0,g.jsx)(y.k,{uri:t,canPin:m,isPinned:v,type:c.c.PRE_RELEASE_ALBUM,spec:O}),(0,g.jsx)(u.m,{uri:t,spec:O,displayText:i.Ru.get("context-menu.copy-album-link")}),(0,g.jsx)(p.q,{spec:O,divider:"before",uri:t})]})})}))},4910:(e,t,r)=>{r.d(t,{e:()=>d});r(60905),r(94238),r(63619),r(41679),r(81443),r(74457),r(6844),r(77458),r(69645),r(93902),r(7410),r(50247),r(88190);var n=r(81226),i=r(17450),a=r(4744);const o="k270skPbT7JOaSidSA2a";var l=r(86070),s=["iconSize"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,n.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t=e.iconSize,r=void 0===t?64:t,n=(0,i.A)(e,s);return(0,l.jsx)("div",{className:o,children:(0,l.jsx)(a.E,u(u({iconSize:r},n),{},{semanticColor:"textBrightAccent","aria-hidden":!0}))})}},50536:(e,t,r)=>{r.r(t),r.d(t,{CompactModeState:()=>nt,YourLibraryX:()=>Ms,useLibraryRowMode:()=>it});var n=r(93209),i=r(81226),a=r(17450),o=r(26017),l=r(95514),s=r(16247),c=r.n(s),u=(r(60905),r(61369),r(98168),r(94238),r(63619),r(60850),r(84008),r(41679),r(81443),r(74457),r(6844),r(77458),r(69645),r(49932),r(23099),r(36490),r(93902),r(7410),r(50247),r(50252),r(88190),r(4207),r(30758)),d=r(97500),p=r.n(d),y=r(96131),f=r(45976),g=r(78370),m=r(61272),b=r(1409),v=r(52155),x=r(36092),h=r(63336),O=r(34478),P=r(47551),j=r(9064),w=r(51445),S=r(12356),A=r(59081),D=r(89582),C=r(62775),T=r(43407),R=r(54509),I=r(86070);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=function(e){var t=e.position,r=e.divider,n=e.onCreateCallback,i=void 0===n?function(){}:n,a=e.spec,o=(0,R.W)(),l=(0,C.A)().createPlaylist,s=(0,T.s)(),c=(0,u.useCallback)((function(){o({intent:"create-playlist",type:"click"});var e=a.createButtonFactory().hitCreatePlaylist();e&&s.logInteraction(e),l(A.Ru.get("playlist.default_playlist_name"),t),i()}),[o,a,s,l,t,i]);return(0,I.jsx)(D.D,{role:"menuitem",divider:r,onClick:c,leadingIcon:(0,I.jsx)(S.u,{semanticColor:"textSubdued",size:"small"}),children:A.Ru.get("contextmenu.create-playlist")})},N=u.memo((function(e){return(0,I.jsx)(O.pZ,{value:"create-playlist",children:(0,I.jsx)(E,L({},e))})})),F=u.memo((function(e){var t=e.folderUri,r=e.onCreateCallback,n=t?{after:{uri:t}}:{before:"start"},i=(0,j.o)(null!=t?t:P.gv).spec;return(0,I.jsx)(O.pZ,{value:"folder",children:(0,I.jsxs)(h.W,{children:[(0,I.jsx)(N,{position:n,onCreateCallback:r,spec:i}),(0,I.jsx)(w.j,{position:n,onCreateCallback:r,spec:i})]})})})),M=r(24427),B=r(86485),U=r(17074),_=r(28359),V=r(85187),H=r(51148),W=r(80380),z=r(53921),X=r(47601),K=r(39049),Y=r(55730),Z=r(82916),G=r(36109),J=(r(38858),r(62172),r(21256),r(177),r(61689),r(22081),r(13903),r(3794),r(92063),r(32440),r(52767),r(41859),new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock","Hyper","Super","Enter","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Backspace","Clear","Copy","CrSel","Cut","Delete","EraseEof","ExSel","Insert","Paste","Redo","Undo","Accept","Again","Attn","Cancel","ContextMenu","Escape","Execute","Find","Help","Pause","Play","Props","Select","ZoomIn","ZoomOut","BrightnessDown","BrightnessUp","Eject","LogOff","Power","PowerOff","PrintScreen","Hibernate","Standby","WakeUp","AllCandidates","Alphanumeric","CodeInput","Compose","Convert","Dead","FinalMode","GroupFirst","GroupLast","GroupNext","GroupPrevious","ModeChange","NextCandidate","NonConvert","PreviousCandidate","Process","SingleCandidate","HangulMode","HanjaMode","JunjaMode","Eisu","Hankaku","Hiragana","HiraganaKatakana","KanaMode","KanjiMode","Katakana","Romaji","Zenkaku","ZenkakuHankaku","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Soft1","Soft2","Soft3","Soft4","ChannelDown","ChannelUp","Close","MailForward","MailReply","MailSend","MediaClose","MediaFastForward","MediaPause","MediaPlay","MediaPlayPause","MediaRecord","MediaRewind","MediaStop","MediaTrackNext","MediaTrackPrevious","New","Open","Print","Save","SpellCheck","Key11","Key12","AudioBalanceLeft","AudioBalanceRight","AudioBassBoostDown","AudioBassBoostToggle","AudioBassBoostUp","AudioFaderFront","AudioFaderRear","AudioSurroundModeNext","AudioTrebleDown","AudioTrebleUp","AudioVolumeDown","AudioVolumeUp","AudioVolumeMute","MicrophoneToggle","MicrophoneVolumeDown","MicrophoneVolumeUp","MicrophoneVolumeMute","SpeechCorrectionList","SpeechInputToggle","LaunchApplication1","LaunchApplication2","LaunchCalendar","LaunchContacts","LaunchMail","LaunchMediaPlayer","LaunchMusicPlayer","LaunchPhone","LaunchScreenSaver","LaunchSpreadsheet","LaunchWebBrowser","LaunchWebCam","LaunchWordProcessor","BrowserBack","BrowserFavorites","BrowserForward","BrowserHome","BrowserRefresh","BrowserSearch","BrowserStop","AppSwitch","Call","Camera","CameraFocus","EndCall","GoBack","GoHome","HeadsetHook","LastNumberRedial","Notification","MannerMode","VoiceDial","TV","TV3DMode","TVAntennaCable","TVAudioDescription","TVAudioDescriptionMixDown","TVAudioDescriptionMixUp","TVContentsMenu","TVDataService","TVInput","TVInputComponent1","TVInputComponent2","TVInputComposite1","TVInputComposite2","TVInputHDMI1","TVInputHDMI2","TVInputHDMI3","TVInputHDMI4","TVInputVGA1","TVMediaContext","TVNetwork","TVNumberEntry","TVPower","TVRadioService","TVSatellite","TVSatelliteBS","TVSatelliteCS","TVSatelliteToggle","TVTerrestrialAnalog","TVTerrestrialDigital","TVTimer","AVRInput","AVRPower","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","ColorF4Grey","ColorF5Brown","ClosedCaptionToggle","Dimmer","DisplaySwap","DVR","Exit","FavoriteClear0","FavoriteClear1","FavoriteClear2","FavoriteClear3","FavoriteRecall0","FavoriteRecall1","FavoriteRecall2","FavoriteRecall3","FavoriteStore0","FavoriteStore1","FavoriteStore2","FavoriteStore3","Guide","GuideNextDay","GuidePreviousDay","Info","InstantReplay","Link","ListProgram","LiveContent","Lock","MediaApps","MediaAudioTrack","MediaLast","MediaSkipBackward","MediaSkipForward","MediaStepBackward","MediaStepForward","MediaTopMenu","NavigateIn","NavigateNext","NavigateOut","NavigatePrevious","NextFavoriteChannel","NextUserProfile","OnDemand","Pairing","PinPDown","PinPMove","PinPToggle","PinPUp","PlaySpeedDown","PlaySpeedReset","PlaySpeedUp","RandomToggle","RcLowBattery","RecordSpeedNext","RfBypass","ScanChannelsToggle","ScreenModeNext","Settings","SplitScreenToggle","STBInput","STBPower","Subtitle","Teletext","VideoModeNext","Wink","ZoomToggle"]));function q(e,t){var r=(0,u.useState)(""),n=(0,o.A)(r,2),i=n[0],a=n[1],l=(0,u.useRef)(i);l.current=i;var s=(0,u.useRef)(null);return(0,u.useEffect)((function(){var r=e.current;if(!r||!t)return a(""),function(){};var n=function(e){var t,r,n="Backspace"===e.key,i=" "===e.key,o=e.metaKey||e.ctrlKey,c=e.target instanceof HTMLElement&&(null===(t=e.target)||void 0===t?void 0:t.matches("input, textarea, [contenteditable]")),u=e.isComposing||229===e.keyCode,d=(r=e.key,J.has(r)&&!n),p=i&&!l.current,y=n&&!l.current;o||c||u||d||p||y||((n&&l.current||i)&&(e.preventDefault(),e.stopPropagation()),a((function(t){return n?t.slice(0,-1):t+e.key})),s.current&&clearTimeout(s.current),s.current=setTimeout((function(){return a("")}),1e3))};return r.addEventListener("keydown",n,!0),function(){r.removeEventListener("keydown",n,!0),s.current&&clearTimeout(s.current)}}),[e,t]),i}var Q=(0,u.createContext)({setTypeaheadResult:function(e){var t=e.uid,r=e.str;if(t||r)throw new Error("setTypeaheadResult must be used within a TypeaheadProvider")},typeaheadResult:{uid:null,str:""}}),$=function(e){var t=e.children,r=e.containerRef,n=e.findMatchingTypeaheadUid,i=e.isEnabled,a=void 0===i||i,l=(0,u.useState)({uid:null,str:""}),s=(0,o.A)(l,2),c=s[0],d=s[1],p=(0,u.useMemo)((function(){return{typeaheadResult:c,setTypeaheadResult:d}}),[c,d]),y=q(r,a),f=(0,u.useRef)(y);f.current=y;var g=(0,u.useRef)(n);return g.current=n,(0,u.useEffect)((function(){y&&a?g.current(y).then((function(e){y===f.current&&d({uid:e,str:y})})):d({uid:null,str:""})}),[a,y,d]),(0,I.jsx)(Q.Provider,{value:p,children:t})};const ee="Vf3ww2_My5QuwUnbpzhu";var te=r(15527),re=function(){var e=(0,u.useContext)(Q).typeaheadResult.str;return e?(0,I.jsx)(te.qb,{className:ee,children:e}):null},ne=r(22865),ie=r(82035),ae=r(55089),oe=r(21581),le=r(94810),se=r(17620),ce=r(74797),ue=r(46103),de=r(58607),pe=r(43322),ye=r(45345),fe=r(37786),ge=r(92986),me=r(19919),be=r(39740),ve=r(28175),xe=r(18697),he=r(97450),Oe=1248,Pe=800,je=(0,be.g)(ye.Z),we=(0,be.g)(fe.fX),Se=function(){var e,t,r,n,i,a,o,l,s,c,d,p,f,g,m,b,v,x,h,O,P,j,w;return e=(0,xe.y)(),t=e.size,r=e.setSize,n=e.minWidth,i=e.maxWidth,a=e.ylxCollapsedStateNavbarWidth,o=e.ylxDefaultStateNavbarWidth,l=e.ylxExpandedStateNavbarWidth,s=(0,fe.$)(),c=s.ylxSidebarState,d=s.setYlxSidebarState,p=s.canCollapse,f=(0,pe.XB)(),g=(0,pe._Y)(),m=(0,pe.Zf)(),b=m.min,v=m.max,x=m.size,h=m.setSize,O=(0,ge.H)(),P=(0,u.useRef)(null),j=(0,u.useRef)(null),w=(0,u.useRef)(null),(0,u.useLayoutEffect)((function(){var e=O-t-3*de.KV-(f!==ye.Z.Disabled?x+de.KV:0),s={leftSidebarWidth:t,leftSidebarMinWidth:n,leftSidebarMaxWidth:i,ylxSidebarState:c,ylxSidebarStateRestoreTarget:P.current,rightSidebarWidth:x,rightSidebarMinWidth:b,rightSidebarMaxWidth:v,rightSidebarPanel:f,rightSidebarPanelRestoreTarget:j.current,storedCollapsedYLXWidth:a,storedDefaultYLXWidth:o,storedExpandedYLXWidth:l,clientWidth:O,mainContentWidth:e,canCollapse:p},u=w.current;if(!(0,y.j)(s,u)){var m=function(e,t){if(!e)return{};var r=t.leftSidebarWidth,n=void 0===r?0:r,i=t.rightSidebarWidth,a=void 0===i?0:i,o=t.mainContentWidth,l=void 0===o?0:o,s=t.leftSidebarMinWidth,c=void 0===s?0:s,u=t.leftSidebarMaxWidth,d=void 0===u?0:u,p=t.ylxSidebarState,y=t.ylxSidebarStateRestoreTarget,f=t.rightSidebarMinWidth,g=void 0===f?0:f,m=t.rightSidebarMaxWidth,b=void 0===m?0:m,v=t.rightSidebarPanel,x=t.rightSidebarPanelRestoreTarget,h=t.storedCollapsedYLXWidth,O=void 0===h?0:h,P=t.storedDefaultYLXWidth,j=void 0===P?0:P,w=t.storedExpandedYLXWidth,S=void 0===w?0:w,A=t.clientWidth,D=void 0===A?0:A,C=t.canCollapse,T=void 0===C||C,R={},I=v!==ye.Z.Disabled,k=void 0!==e.leftSidebarWidth&&n>e.leftSidebarWidth,L=void 0!==e.rightSidebarWidth&&a>e.rightSidebarWidth,E=void 0===e.clientWidth?0:D-e.clientWidth,N=E<0,F=D>0,M=l<de.ev?de.ev-l:0,B=N?-1*E:0;l>Oe?B=Math.max(0,B-(l-Oe)):M&&(B=M);var U=p===fe.fX.EXPANDED&&e.ylxSidebarState!==fe.fX.EXPANDED,_=p===fe.fX.DEFAULT&&e.ylxSidebarState!==fe.fX.DEFAULT,V=n-c;k&&(V=U?n-ve.ZU.EXPANDED_MIN:_?n-ve.ZU.DEFAULT_MIN:0);var H=L?0:a-g,W=B<=V+H;if(l<de.ev&&!W)I&&(k||N&&(p===fe.fX.COLLAPSED||!T))?(R.rightSidebarPanel=ye.Z.Disabled,R.rightSidebarPanelRestoreTarget=t.rightSidebarPanel,B-=a,H=0):(p===fe.fX.EXPANDED&&l+(n-ve.ZU.DEFAULT_MIN)>de.ev?(R.ylxSidebarState=fe.fX.DEFAULT,B-=n-j,V=j-ve.ZU.DEFAULT_MIN):(R.ylxSidebarState=fe.fX.COLLAPSED,B-=n-O,V=0),R.ylxSidebarStateRestoreTarget=t.ylxSidebarState);else if(v===ye.Z.Disabled&&x!==ye.Z.Disabled&&je(x)&&v!==e.rightSidebarPanelRestoreTarget&&l-a-de.KV>=de.ev)R.rightSidebarPanel=x,R.rightSidebarPanelRestoreTarget=null;else if(p===fe.fX.DEFAULT&&y===fe.fX.EXPANDED&&l-(S-n)>=de.ev)R.ylxSidebarState=fe.fX.EXPANDED,R.ylxSidebarStateRestoreTarget=null;else if(p===fe.fX.COLLAPSED&&y===fe.fX.DEFAULT&&l-(j-n)>=de.ev)R.ylxSidebarState=fe.fX.DEFAULT,R.ylxSidebarStateRestoreTarget=null;else if(F&&l>=Pe)for(var z=d-n,X=b-a,K=Math.min(E,z+X),Y=0;Y<K;Y++)n<a&&n<d&&z>0?(n++,z--):a<b&&X>0&&(a++,X--);if(p!==e.ylxSidebarState&&we(y)&&y===e.ylxSidebarStateRestoreTarget&&(R.ylxSidebarStateRestoreTarget=null),v!==e.rightSidebarPanel&&je(x)&&x===e.rightSidebarPanelRestoreTarget&&(R.rightSidebarPanelRestoreTarget=null),B>0&&B<=V+H)for(var Z=0;Z<B;Z++)n>a&&n>c&&V>0?(n--,V--):a>g&&H>0&&(a--,H--);return n&&n!==t.leftSidebarWidth&&(R.leftSidebarWidth=n),a&&a!==t.rightSidebarWidth&&(R.rightSidebarWidth=a),R}(u,s);void 0!==m.leftSidebarWidth&&r(m.leftSidebarWidth),we(m.ylxSidebarState)&&d(m.ylxSidebarState),void 0!==m.ylxSidebarStateRestoreTarget&&(P.current=m.ylxSidebarStateRestoreTarget),void 0!==m.rightSidebarWidth&&0!==(null==u?void 0:u.rightSidebarWidth)&&h(m.rightSidebarWidth),void 0!==m.rightSidebarPanel&&g((0,he.MQ)(m.rightSidebarPanel)),void 0!==m.rightSidebarPanelRestoreTarget&&(j.current=m.rightSidebarPanelRestoreTarget),w.current=s}}),[t,n,i,r,c,x,b,v,h,f,a,o,l,d,g,O,p]),null},Ae=function(){return(0,b.NC)(me.Wfl,{loadingValue:!1})?(0,I.jsx)(Se,{}):null};var De=r(30405),Ce=r(71128),Te=r(87852),Re=function(){return null},Ie=r(95259),ke=r(54925),Le=r(51484),Ee=r(28811),Ne=r(71526),Fe=r(24865);const Me="rqGyIqd3Igk05BEB2ZC6",Be="WycFx_Gl2tUXbUJpZiD8";var Ue=function(){var e=(0,u.useState)(!1),t=(0,o.A)(e,2),r=t[0],n=t[1],i=(0,Ne.V)(),a=(0,f.d4)(Fe.JJ);(0,u.useEffect)((function(){var e=setTimeout((function(){n(!0)}),1100);return function(){n(!1),clearTimeout(e)}}),[]);var l=(0,f.d4)(Fe.mo);return i&&r?(0,I.jsx)(Le.t5,{language:A.Ru.getLocaleForSmartling(),market:a.toLowerCase(),children:(0,I.jsxs)("div",{className:Me,"data-testid":"left-sidebar-legal-links",children:[(0,I.jsx)(Le.JM,{}),(0,I.jsx)("a",{draggable:!1,href:Ee.Bl,target:"_blank",rel:"noopener",className:Be,children:(0,I.jsx)(ke.E,{variant:"marginal",children:A.Ru.get("cookies")})}),l&&(0,I.jsx)("a",{draggable:!1,href:Ee.Vd,target:"_blank",rel:"noopener",className:Be,children:(0,I.jsx)(ke.E,{variant:"marginal",children:"Форма для Ваших обращений"})})]})}):null};const _e="YNnobzGm5w3XKBniKdW9";var Ve=(0,u.memo)((function(e){var t=e.isAnonymous;return(0,I.jsx)("div",{className:_e,"data-testid":"left-sidebar-footer",children:t&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ue,{}),(0,I.jsx)(Ie.X,{})]})})})),He=[ae.fl.TRACKS,ae.fl.LOCAL_TRACKS,ae.fl.ALBUMS,ae.fl.ARTISTS,ae.fl.PLAYLISTS_V2,ae.fl.SHOWS,ae.fl.AUDIOBOOKS,ae.fl.EPISODES,ae.fl.FOLDERS],We=[ae.fl.TRACKS,ae.fl.LOCAL_TRACKS,ae.fl.ALBUMS,ae.fl.EPISODES,ae.fl.PLAYLISTS_V2,ae.fl.FOLDERS],ze=[ae.fl.TRACKS,ae.fl.LOCAL_TRACKS,ae.fl.ALBUMS,ae.fl.EPISODES,ae.fl.PLAYLISTS_V2,ae.fl.FOLDERS],Xe=(r(51945),r(39921),r(73576));function Ke(){var e=(0,u.useContext)(ce.O_),t=e.dropOriginUri,r=e.sectionId;return{dropOriginIsYLX:t===P.gv,entityIsInFolder:r>0}}var Ye=(0,u.createContext)(null);r(9332);var Ze=r(42715),Ge="",Je=(0,u.createContext)({openedFolderUri:Ge,pushFolder:function(){},popFolder:function(){},resetFolder:function(){},change:"PUSH"}),qe=function(e){var t=e.children,r=(0,u.useContext)(De.g).setFilter,n=(0,Ze.x)("opened-folder-uri",Ge),i=(0,o.A)(n,2),a=i[0],l=i[1],s=(0,u.useRef)([null!=a?a:Ge]),c=(0,u.useRef)("PUSH"),d=(0,u.useCallback)((function(e){l(e),r(Ge)}),[l,r]),p=(0,u.useCallback)((function(e){s.current.push(e),c.current="PUSH",d(s.current.at(-1))}),[d]),y=(0,u.useCallback)((function(){s.current.pop();var e=s.current.at(-1);return c.current="POP",d(e),e}),[d]),f=(0,u.useCallback)((function(){s.current=[Ge],d(Ge)}),[d]);return(0,I.jsx)(Je.Provider,{value:{openedFolderUri:a,pushFolder:p,popFolder:y,resetFolder:f,change:c.current},children:t})};function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r(85367),r(6990),r(83892),r(78003);var et=r(9187);function tt(e,t,r,n){if(e){var i=e.scrollTop,a=e.offsetHeight,o=t&&e?t.getBoundingClientRect().top+i-e.getBoundingClientRect().top:0;if(o+r<i||o+r+n>i+a){var l=r-a/2+o+n/2;e.scrollTop=l}}}var rt=r(20485),nt=function(e){return e[e.DEFAULT=0]="DEFAULT",e[e.COMPACT=1]="COMPACT",e}({}),it=function(){var e=(0,Ze.x)("library-row-mode",nt.DEFAULT),t=(0,o.A)(e,2),r=t[0],n=t[1],i=(0,V.vW)();return{libraryRowMode:r,setLibraryRowMode:n,rowHeight:r===nt.DEFAULT||i===V.fX.COLLAPSED?64:32}};r(54436),r(64992);var at=r(78104),ot=r(71359),lt=r(19733),st=function(e){var t=e.isConfirmationForPlaylist,r=e.onConfirm,n=e.onClose,i=t?A.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.title-playlist"):A.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.title-folder");return(0,I.jsx)(lt.T,{"aria-label":i,titleText:i,descriptionText:t?A.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.message-playlist"):A.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.message-folder"),onConfirm:r,onClose:n,confirmText:A.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-text"),confirmLabel:t?A.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-playlist"):A.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.confirm-button-label-folder"),cancelText:A.Ru.get("web-player.your-library-x.unpin-confirmation-dialog.cancel-button-text"),allowHTML:!0})};function ct(e){var t,r=e.onApplyDrop,i=e.spec,a=e.isDropTargetPinned,s=(0,at.t)(),d=(0,ot.p)("ylpin").contains,p=(0,u.useState)(null),y=(0,o.A)(p,2),f=y[0],g=y[1],m=(0,u.useCallback)(function(){var e=(0,l.A)(c().mark((function e(t,i){var o,l,s,u,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return r(t,i),e.abrupt("return");case 3:if(o=t[ae.fl.PLAYLISTS_V2],l=void 0===o?[]:o,s=t[ae.fl.FOLDERS],u=void 0===s?[]:s,p=[].concat((0,n.A)(l),(0,n.A)(u)),e.t0=!!p.length,!e.t0){e.next=10;break}return e.next=9,d.apply(void 0,(0,n.A)(p));case 9:e.t0=e.sent.some(Boolean);case 10:if(!e.t0){e.next=17;break}if(!(p.length>1)){e.next=14;break}throw new Error("Reordering multiple pinned items at once is not supported");case 14:g({dropData:t,dropPosition:i}),e.next=18;break;case 17:r(t,i);case 18:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[a,d,r]),b=(0,T.s)();return{applyDropWithUnpinConfirmation:m,unpinConfirmationDialog:f?(0,I.jsx)(st,{isConfirmationForPlaylist:!(null!==(t=f.dropData[ae.fl.FOLDERS])&&void 0!==t&&t.length),onClose:function(){return g(null)},onConfirm:(0,l.A)(c().mark((function e(){var t,a,o,l,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.dropData,a=t[ae.fl.PLAYLISTS_V2],o=void 0===a?[]:a,l=t[ae.fl.FOLDERS],u=void 0===l?[]:l,e.next=3,s.unpin([].concat((0,n.A)(o),(0,n.A)(u))[0]);case 3:null!=i&&i.dragUnpinItem&&b.logInteraction(i.dragUnpinItem({itemToUnpin:[].concat((0,n.A)(o),(0,n.A)(u))[0]})),r(f.dropData,f.dropPosition),g(null);case 6:case"end":return e.stop()}}),e)})))}):null}}function ut(){var e=(0,Z.g)(),t=Ke().dropOriginIsYLX,r=(0,u.useCallback)(function(){var r=(0,l.A)(c().mark((function r(n,i){var a;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.contains(n);case 2:if(a=r.sent,1===new Set(a).size){r.next=5;break}throw new Error("Dropping a mix of newly added and moved playlists is not supported");case 5:if(!a[0]){r.next=18;break}if(!(n.length>1)){r.next=9;break}throw new Error("Moving multiple playlists at once is not supported");case 9:if(!t){r.next=14;break}return r.next=12,e.move({uri:n[0]},i);case 12:r.next=16;break;case 14:return r.next=16,e.move({uri:n[0]},i,!0);case 16:r.next=20;break;case 18:return r.next=20,e.add(n,i);case 20:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),[t,e]);return r}function dt(e,t){var r=(0,C.A)(),i=r.createPlaylistFromAlbum,a=r.createPlaylistFromTracks,o=(0,T.s)(),s=(0,Z.g)(),d=ut(),p=ct({onApplyDrop:(0,u.useCallback)((function(r){if(t){var n=r[ae.fl.PLAYLISTS_V2],i=void 0===n?[]:n,a=r[ae.fl.FOLDERS],l=void 0===a?[]:a,c={after:{uri:t}};i.length&&(d(i,c),o.logInteraction(e.dragSort())),l.length&&(s.moveFolder({uri:l[0]},c),o.logInteraction(e.dragSort()))}}),[d,o,s,e,t])}),y=p.unpinConfirmationDialog,f=p.applyDropWithUnpinConfirmation,g=(0,u.useCallback)(function(){var r=(0,l.A)(c().mark((function r(l){var s,u,d,p,y,g,m,b,v,x,h,O,P;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:s=l[ae.fl.TRACKS],u=void 0===s?[]:s,d=l[ae.fl.LOCAL_TRACKS],p=void 0===d?[]:d,y=l[ae.fl.ALBUMS],g=void 0===y?[]:y,m=l[ae.fl.EPISODES],b=void 0===m?[]:m,v=l[ae.fl.PLAYLISTS_V2],x=void 0===v?[]:v,h=l[ae.fl.FOLDERS],O=void 0===h?[]:h,P={after:{uri:t}},x.length||O.length?f(l,oe.Nz.ON):g.length?(i(g[0],P),o.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist())):(u.length||p.length||b.length)&&(a([].concat((0,n.A)(u),(0,n.A)(p),(0,n.A)(b)),P),o.logInteraction(e.yourLibraryItemFactory().dragCreatePlaylist()));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,f,i,o,e,a]);return{unpinConfirmationDialog:y,handleDropOnFolder:g}}var pt=r(812),yt=r(89454),ft=r(77666),gt=r(41485);function mt(){var e=(0,u.useState)(null),t=(0,o.A)(e,2),r=t[0],n=t[1];if((0,ft.l)(yt.UV.UPDATE_PIN_ERROR,(function(e){n(e.data)})),void 0===(null==r?void 0:r.reason))return null;switch(r.reason){case yt.uL.TOO_MANY_PINS:return(0,I.jsx)(pt.x,{animated:!0,headingMessage:A.Ru.get("web-player.your-library-x.pin-error.title"),message:A.Ru.get("web-player.your-library-x.pin-error.message",r.maximumPinnedItems),buttonLabel:A.Ru.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:function(){return n(null)}});case yt.uL.NO_PIN_IN_FOLDER:return(0,I.jsx)(pt.x,{animated:!0,headingMessage:A.Ru.get("web-player.your-library-x.pin-error.no-pin-in-folder.title"),message:A.Ru.get("web-player.your-library-x.pin-error.no-pin-in-folder.message"),buttonLabel:A.Ru.get("web-player.your-library-x.pin-error.ok"),isOpen:!0,onDismissDialog:function(){return n(null)}});default:return(0,gt.k)(r),null}}function bt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xt=r(15582),ht=r(75341),Ot=r(7047),Pt=r(77159),jt=r(14853),wt=r(59440),St=function(e,t,r,n,i){var a=(0,wt.Q)(),o=(0,u.useRef)(r),s=(0,u.useRef)(),d=(0,u.useRef)();s.current=n,d.current=i,(0,u.useEffect)((function(){var r,n,i={ident:e,isPrefix:t,onMessage:function(e){return o.current(e)},onSubscribe:(n=(0,l.A)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=s.current)||void 0===r?void 0:r.call(s,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onCancel:(r=(0,l.A)(c().mark((function e(t){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(r=d.current)||void 0===r?void 0:r.call(d,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},u=a.subscribe(i);return function(){u.cancel()}}),[e,t,a])},At=(0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)((0,i.A)({},yt.Ir.ALBUMS,z.c.ALBUM),yt.Ir.ARTISTS,z.c.ARTIST),yt.Ir.BOOKS,z.c.AUDIOBOOK),yt.Ir.EPISODES,z.c.EPISODE),yt.Ir.SHOWS,z.c.SHOW),yt.Ir.TRACKS,z.c.TRACK);function Dt(e,t){var r=(0,u.useCallback)((function(r){var n=r.data.list,i=At[n];Ct(e,i)&&t()}),[e,t]);(0,ft.l)(yt.UV.UPDATE,r),(0,ft.l)(yt.UV.UPDATE_PIN,t);var n=(0,u.useCallback)((function(){Ct(e,z.c.PLAYLIST)&&t()}),[e,t]);(0,jt.L)(n),function(e){St("hm://collection/ylpin/",!0,e)}(t),function(e){var t=(0,u.useContext)(Pt._),r=t.getEvents();(0,u.useEffect)((function(){return r.addListener(Ot.T.UPDATE,e),function(){r.removeListener(Ot.T.UPDATE,e)}}),[t,r,e])}(t),function(e){var t=(0,ht.l)().getEvents();(0,u.useEffect)((function(){var r=function(t){"prerelease"===t.data.set&&e()};return t.addListener(xt.ar.ADDED,r),t.addListener(xt.ar.REMOVED,r),function(){t.removeListener(xt.ar.ADDED,r),t.removeListener(xt.ar.REMOVED,r)}}),[e,t])}(t)}function Ct(e,t){switch(e){case z.c.ALBUM:case z.c.ARTIST:case z.c.AUDIOBOOK:case z.c.SHOW:return e===t;case z.c.PLAYLIST:switch(t){case z.c.TRACK:case z.c.PLAYLIST:case z.c.EPISODE:return!0;default:return!1}default:return!0}}var Tt=r(61957),Rt=r(13234),It=r(45755),kt=r(81874),Lt=r(71083);const Et="lvJXjYO7YXxGKHcgx5pe",Nt="yYGZUqSKJttCw_Z2JvPL",Ft="wkyebhrfwyJPCfDhQgbp";var Mt=function(){var e=(0,V.sy)(),t=(0,T.s)(),r=(0,f.wA)(),n=(0,ie.r)(It.V,{}).spec,i=A.Ru.get("web-player.your-library-x.dsa-message",A.Ru.get("web-player.your-library-x.dsa-message-link")),a=(0,u.useCallback)((function(){r(Lt.r8.actions.open()),t.logInteraction(n.learnMoreButtonFactory().hitUiReveal())}),[r,t,n]);return(0,I.jsx)("div",{className:Et,children:e?(0,I.jsx)(kt.Zp,{label:(0,I.jsx)(ke.E,{children:i}),placement:"right",showDelay:0,children:(0,I.jsx)("div",{className:Nt,children:(0,I.jsx)(Tt.p,{"aria-label":i})})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{children:(0,I.jsx)(Tt.p,{size:"small"})}),(0,I.jsx)(ke.E,{as:"p",semanticColor:"textSubdued",children:A.Ru.get("web-player.your-library-x.dsa-message",(0,I.jsx)(Rt.H,{condensedAll:!0,size:"small",semanticColor:"textBase",onClick:a,className:Ft,children:(0,I.jsx)(ke.E,{variant:"bodyMedium",children:A.Ru.get("web-player.your-library-x.dsa-message-link")})}))})]})})};const Bt="AhNLpx0iVnlj4SuL_Gaw",Ut="JyZRugeRBHbUtS5ABOQ8";var _t=function(e){var t=e.className;return(0,I.jsx)("section",{className:p()(Bt,t),children:(0,I.jsxs)("div",{className:Ut,children:[(0,I.jsx)(ke.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:A.Ru.get("web-player.your-library-x.empty-state-folder-title")}),(0,I.jsx)(ke.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:A.Ru.get("web-player.your-library-x.empty-state-folder-subtitle")})]})})},Vt=r(4587),Ht=r(55616);function Wt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xt={getTitle:function(){return A.Ru.get("action-trigger.create-playlist")},getDescription:function(){return A.Ru.get("action-trigger.login-playlist")}},Kt=function(e){var t=e.children,r=e.renderInline;return(0,I.jsx)(Vt.y,{id:Ht.x9,options:zt(zt({},Xt),{},{renderInline:r}),children:t})},Yt=r(32303),Zt=r(90940);const Gt="CfruGiDGW_FH4l65GMpb",Jt="fIgbQ9qpINdyy__tkaHi",qt="wv308QWnPnkI8n0GdqYO";var Qt=(0,u.memo)((function(e){var t=e.message,r=e.title,n=e.linkTitle,i=e.linkTo,a=e.onClick,o=e.className;return(0,I.jsxs)("section",{className:p()(Gt,o),children:[(0,I.jsxs)("div",{className:Jt,children:[(0,I.jsx)(ke.E,{variant:"bodyMediumBold",semanticColor:"textBase",children:r}),(0,I.jsx)(ke.E,{variant:"bodySmall",semanticColor:"textBase",children:t})]}),(0,I.jsx)("div",{className:qt,children:n&&(i||a)&&(0,I.jsx)(Yt.$,{className:qt,as:a?"button":void 0,colorSet:"invertedLight",href:i,onClick:a,component:Zt.v,size:"small",children:n})})]})})),$t=function(e){var t=e.className,r=(0,C.A)().createPlaylist,n=(0,u.useCallback)((function(){r()}),[r]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Kt,{renderInline:!1,children:(0,I.jsx)(Qt,{onClick:n,linkTitle:A.Ru.get("web-player.your-library-x.empty-state-playlists-cta"),title:A.Ru.get("web-player.your-library-x.empty-state-playlists-title"),message:A.Ru.get("web-player.your-library-x.empty-state-playlists-subtitle"),className:t})}),(0,I.jsx)(Qt,{linkTo:"/genre/podcasts-web",linkTitle:A.Ru.get("web-player.your-library-x.empty-state-podcasts-browse"),title:A.Ru.get("web-player.your-library-x.empty-state-podcasts-to-follow"),message:A.Ru.get("web-player.your-library-x.empty-state-podcasts-keep-you-updated"),className:t})]})};const er="NOXrKH_1anB9lsOlyv5g",tr="FIARvjbv_YZKwz7yxNHw",rr="Fqrv8StT3DnEAfntIKCg",nr="JydI9ZzWnssPC899sOGP";var ir=function(e){var t=e.query,r=e.className;return(0,I.jsxs)("div",{className:p()(er,r),"data-testid":"no-search-results-view",children:[(0,I.jsx)(ke.E,{as:"h1",variant:"bodyMediumBold",className:tr,children:A.Ru.get("web-player.your-library-x.empty-results-title-short",(0,I.jsx)("span",{className:rr,children:(0,I.jsx)("span",{className:nr,children:t})}))}),(0,I.jsx)(ke.E,{as:"h2",variant:"bodySmall",children:A.Ru.get("web-player.your-library-x.empty-results-text-short")})]})},ar=r(10203);const or="vhOeYrTmSoea5vemsMpv",lr="pCKhe1uJhYBUC4YVmz9B";var sr=function(e){var t=e.onClick;return(0,I.jsxs)("div",{className:or,children:[(0,I.jsx)("div",{className:"icon",children:(0,I.jsx)(ar.b,{size:"xlarge",semanticColor:"textBase"})}),(0,I.jsxs)("div",{className:lr,children:[(0,I.jsx)(ke.E,{as:"h2",variant:"titleSmall",semanticColor:"textBase",children:A.Ru.get("web-player.your-library-x.error-title")}),(0,I.jsx)(ke.E,{as:"p",variant:"bodySmall",semanticColor:"textBase",children:A.Ru.get("web-player.your-library-x.error-body")})]}),(0,I.jsx)("div",{children:(0,I.jsx)(Yt.$,{onClick:t,colorSet:"invertedLight",size:"small",children:A.Ru.get("web-player.your-library-x.error-button")})})]})};var cr=function(e){var t=e.children,r=function(){var e=(0,Ze.x)("ylx-expanded-folders",[]),t=(0,o.A)(e,2),r=t[0],i=t[1],a=(0,u.useCallback)((function(e){return r.includes(e)}),[r]),l=(0,u.useCallback)((function(e,t){var a=r.indexOf(e);if(t){if(-1!==a)return;i([].concat((0,n.A)(r),[e]))}else{if(-1===a)return;i(r.filter((function(t){return t!==e})))}}),[r,i]);return{expandedFolders:r,getIsFolderExpanded:a,setIsFolderExpanded:l}}();return(0,I.jsx)(Ye.Provider,{value:r,children:t})};const ur="fYWNdY4zhj4OX_T2Xtg6",dr="BRX6aJUAuAsvHKD_fpbo",pr="ZZsPF3Sn4h7m0_5Clhk0",yr="IZq_xBKdh88HLD4QY90X",fr="PUipCs3_0Qott0Sru3pB",gr="XAOxFVWnd185_vZ5zPGu",mr="YsCa3XbOXEm79LH0B7do",br="eC25_w41L83mXDCqdm_A",vr="VyDwqqtx0153zD8a3TED",xr="rOgsguaurlHVlgCTY0P7",hr="zS8ATyQNwnAiEoPrCcIo",Or="Zwr4MoUVImDin82vBn4y",Pr="lb8li6m8Zei4tr0zNKxX",jr="aK6vld0FgHGxjz6IiHyS",wr="Xw1OibA6EkrU4F47EMw9",Sr="_EFIA9HjgZxxgTSZzQcg",Ar="JUPaw8kZF94Coth4G88s",Dr="vSC5QuwmzUhqUNWdMTJ5",Cr="c1PJ2LHU0EnzyA0jDc1j";var Tr=function(e){var t=e.isScrolled;return(0,I.jsxs)("div",{className:p()(Or,jr,(0,i.A)({},wr,t)),children:[(0,I.jsx)(ke.E,{variant:"marginalBold",semanticColor:"textSubdued",children:A.Ru.get("web-player.your-library-x.expanded-list-header.title")}),(0,I.jsx)(ke.E,{variant:"marginalBold",semanticColor:"textSubdued",children:A.Ru.get("web-player.your-library-x.expanded-list-header.date-added")}),(0,I.jsx)(ke.E,{variant:"marginalBold",semanticColor:"textSubdued",children:A.Ru.get("web-player.your-library-x.expanded-list-header.played-at")})]})},Rr=r(98846),Ir=r(16287),kr=r(14124);const Lr="mA1QNQx6oUXgQ8kMID2S",Er="a2XwshgvydvJO9If_GzQ",Nr="aVLBGREPTnbTFhkSdUMV",Fr="ViXEX4SVVU_NA7zcS9kd",Mr="pQvrkwXAqZnbSqJiiQuo";var Br=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetMimeTypes","className","innerRef","index","spec"],Ur=["className","dropPosition"];function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Hr={marginBlockEnd:0,willChange:"transform, opacity"},Wr=function(e){var t=e.filterId,r=e.isPrimaryFilter,n=e.isPlaceholder,o=e.resetFilterIds,l=e.toggleFilterId,s=e.allowedDropTargetMimeTypes,c=void 0===s?oe.Vp:s,d=e.className,y=e.innerRef,f=e.index,g=void 0===f?0:f,m=e.spec,b=(0,a.A)(e,Br),v=(0,T.s)(),x=(0,at.t)(),h=b.selected,O=t?x.getFilterLabel(t):"",P=(0,u.useCallback)((function(){!t||h&&r?(o(),h&&r&&t?v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitClearFilter()):v.logInteraction(m.clearButtonFactory().hitClearFilter())):(l(t),h?v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitClearFilter()):v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitFilter()))}),[t,O,h,r,o,l,g,v,m]),j=(0,u.useCallback)((function(e){e.detail>1||n||P()}),[n,P]),w=(0,le.A)({allowedMimeTypesByDropPosition:(0,i.A)({},oe.Nz.ON,c),onLongDragOver:P}),S=w.className,A=w.dropPosition,D=(0,a.A)(w,Ur);return(0,I.jsx)(kr.v,Vr(Vr(Vr(Vr({},b),{},{"aria-label":b["aria-label"]},D),A===oe.Nz.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(d,S,(0,i.A)((0,i.A)({},Nr,A===oe.Nz.ON),Lr,n)),onClick:j,selectedColorSet:A===oe.Nz.ON?"invertedDark":"invertedLight",secondary:h&&!r,style:Hr,ref:y,tabIndex:-1}))},zr=r(41509),Xr=["filterId","isPrimaryFilter","isPlaceholder","resetFilterIds","toggleFilterId","allowedDropTargetMimeTypes","className","innerRef","index","spec"],Kr=["className","dropPosition"];function Yr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gr={marginBlockEnd:0,willChange:"transform, opacity"},Jr=function(e){var t=e.filterId,r=e.isPrimaryFilter,n=e.isPlaceholder,o=e.resetFilterIds,l=e.toggleFilterId,s=e.allowedDropTargetMimeTypes,c=void 0===s?oe.Vp:s,d=e.className,y=e.innerRef,f=e.index,g=void 0===f?0:f,m=e.spec,b=(0,a.A)(e,Xr),v=(0,T.s)(),x=(0,at.t)(),h=b.selected,O=t?x.getFilterLabel(t):"",P=(0,u.useCallback)((function(){!t||h&&r?(o(),h&&r&&t?v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitClearFilter()):v.logInteraction(m.clearButtonFactory().hitClearFilter())):(l(t),h?v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitClearFilter()):v.logInteraction(m.filterChipFactory({identifier:O,position:g}).hitFilter()))}),[t,O,h,r,o,l,g,v,m]),j=(0,u.useCallback)((function(e){e.detail>1||n||P()}),[n,P]),w=(0,le.A)({allowedMimeTypesByDropPosition:(0,i.A)({},oe.Nz.ON,c),onLongDragOver:P}),S=w.className,A=w.dropPosition,D=(0,a.A)(w,Kr);return(0,I.jsx)(zr.m,Zr(Zr(Zr(Zr({},b),{},{"aria-label":b["aria-label"]},D),A===oe.Nz.ON?{selectedColorSet:"base"}:void 0),{},{className:p()(d,S,(0,i.A)((0,i.A)({},Nr,A===oe.Nz.ON),Lr,n)),onClick:j,style:Gr,ref:y,tabIndex:-1}))},qr=[{id:"p1",name:"Playlists"},{id:"p2",name:"Podcasts & Shows"},{id:"p3",name:"Artists"},{id:"p4",name:"Albums"}],Qr=(0,u.memo)((function(e){var t=e.availableFilters,r=e.selectedFilters,i=e.toggleFilterId,a=e.resetFilterIds,o=e.className,l=e.spec,s=!(r||t),c=s?qr:[].concat((0,n.A)(null!=r?r:[]),(0,n.A)(null!=t?t:[])),d=(0,u.useRef)(null),p=(0,u.useCallback)((function(){var e,t;(0,Ir.MS)(d.current,(null===(e=d.current)||void 0===e?void 0:e.nextElementSibling)instanceof HTMLElement?null===(t=d.current)||void 0===t?void 0:t.nextElementSibling:null),a()}),[a]);return 0===c.length?null:(0,I.jsxs)(Rr.F,{className:o,ariaLabel:A.Ru.get("web-player.your-library-x.filter_options"),children:[!(null==r||!r.length)&&(0,I.jsx)(Jr,{resetFilterIds:p,toggleFilterId:i,allowedDropTargetMimeTypes:He,"aria-label":A.Ru.get("web-player.your-library-x.clear_filters"),innerRef:d,spec:l}),c.map((function(e,t){var n=null==r?void 0:r.includes(e),o=0===t;return(0,I.jsx)(Wr,{filterId:e.id,isPrimaryFilter:o,isPlaceholder:s,resetFilterIds:a,toggleFilterId:i,selected:n,spec:l,index:t,children:e.name},e.id)}))]})})),$r=r(33747),en=r(70465),tn=r(76519),rn=function(e){var t=e.span,r=e.onInView,n=e.marginBottom,i=e.marginTop,a=(0,u.useRef)(null);return(0,u.useEffect)((function(){if(!window.IntersectionObserver)return function(){};var e=new window.IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&r()}))}));return a.current&&e.observe(a.current),function(){e.disconnect()}}),[r]),t<=0?null:(0,I.jsx)("div",{style:{gridColumn:"1/-1",gridRow:"span ".concat(t),marginBottom:n,marginTop:i},ref:a,"data-type":"sentinel"},"topSentinel")},nn=function(e){var t=e.renderItems,r=e.nrItems,n=e.estimatedItemMaxHeight,i=e.scrollNodeRef,a=e.nrRowsOverscan,l=void 0===a?5:a,s=e.initalNrRows,c=void 0===s?5:s,d=e.onGridResize,p=(0,u.useState)({firstRowToRender:0,nrRows:c+l}),y=(0,o.A)(p,2),f=y[0],g=y[1],m=(0,u.useRef)(0),b=(0,u.useRef)(null),v=(0,u.useRef)(n),x=(0,u.useCallback)((function(){var e,t=null===(e=b.current)||void 0===e?void 0:e.querySelector(':scope > *:not([data-type="sentinel"])');v.current=t?t.getBoundingClientRect().height:v.current}),[]),h=(0,u.useCallback)((function(){var e=i.current;if(e){x();var t=Math.floor((e.scrollTop-m.current)/v.current),r=Math.max(t-l,0),n=Math.ceil(e.offsetHeight/v.current)+2*l;r===f.firstRowToRender&&n===f.nrRows||g({firstRowToRender:r,nrRows:n})}}),[l,f,i,x]),O=(0,u.useCallback)((function(e){var n=e.columnCount;if(n<=0)return[null];d&&d(n,v.current);var i=Math.ceil(r/n),a=f.firstRowToRender*n,o=f.firstRowToRender+f.nrRows-1,s=Math.min(r-1,(o+1)*n-1),c=v.current*(l-2);return[(0,I.jsx)(rn,{span:f.firstRowToRender,onInView:h,marginBottom:"-".concat(c,"px")},"topSentinel-".concat(f.firstRowToRender)),t(a,s,n),(0,I.jsx)(rn,{span:i-o,onInView:h,marginTop:"-".concat(c,"px")},"bottomSentinel-".concat(i-o))]}),[r,l,d,h,t,f]);return(0,u.useEffect)((function(){var e=b.current,t=i.current;e&&t&&(m.current=e.getBoundingClientRect().top-t.getBoundingClientRect().top+t.scrollTop)}),[i]),(0,I.jsx)(tn.E,{useUniformRowHeight:!0,ref:b,render:O,onLayoutChange:x})},an=r(48291),on=r(3504);function ln(){var e=(0,b.NC)(me.AEN),t=(0,Ze.x)("ylx-grid-scale",1),r=(0,o.A)(t,2),n=r[0];return{gridScale:e?n:1,setGridScale:r[1]}}r(63624);var sn=r(56311),cn=r(88354),un=r(46618),dn=r(76157),pn=r(97150),yn=r(10545),fn=r(20060),gn=r(23908),mn=r(78221),bn=r(88666),vn=r(95767),xn=r(91598),hn=function(e){var t=e.iconSize,r=void 0===t?"small":t;return(0,I.jsx)("span",{className:fr,children:(0,I.jsx)(xn.C,{size:r,semanticColor:"textBrightAccent",className:yr})})},On=r(17175),Pn=r(2965);function jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Sn=function(e){var t=e.children,r=e.title,n=e.subtitleSlot,i=e.isPlaying,a=(0,b.NC)(On.rW);return(0,I.jsx)(kt.Zp,{label:(0,I.jsxs)("div",{className:p()({"circular-sp-vietnamese":a},hr),children:[(0,I.jsxs)("div",{children:[r,n]}),i&&(0,I.jsx)(hn,{})]}),placement:"right",showDelay:0,children:t})},An=function(e){var t=(0,u.useRef)(null);return(0,on.c0)(e.uri)?(0,I.jsx)(Pn.cW,{parentRef:e.parentRef,api:t,children:(0,I.jsx)(Sn,wn({},e))}):(0,I.jsx)(Sn,wn({},e))},Dn=(r(35340),r(56142)),Cn=r(45294),Tn=r(57023),Rn=function(e){var t=e.leading,r=e.subtitle,n=e.uri,i="listrow-subtitle-".concat(n);return(0,I.jsx)("div",{className:Tn.A.subtitle,children:(0,I.jsxs)(Dn.j,{lineClamp:1,className:Tn.A.link,id:i,dir:"auto",children:[(0,I.jsx)("span",{className:Tn.A.subtitleLeadingWrapper,children:t}),r]})})},In=function(e){var t=e.leading,r=e.subtitle,n=e.uri,i="card-subtitle-".concat(n);return(0,I.jsx)("div",{className:Tn.A.subtitle,children:(0,I.jsxs)(Cn.j,{lineClamp:1,className:Tn.A.link,id:i,role:"gridcell",dir:"auto",children:[(0,I.jsx)("span",{className:Tn.A.subtitleLeadingWrapper,children:t}),r]})})},kn=r(61022),Ln=r(93482),En=r(43786),Nn=r(66964);var Fn=r(93105),Mn={state:{referrer:"your_library",preventMoveFocus:!0}};function Bn(e,t,r,i){var a,o,l,s,c,d=(0,u.useContext)(De.g).filter,p=(0,yn.l_)(e).isActive,y=(o=e,l=(0,u.useContext)(Q).typeaheadResult,s=l.uid,c=l.str,s===o?c:null),f=!!y,g=(0,Nn.W)({uri:e,type:"link"})?(0,Fn.hF)(t):t,m=(0,u.useRef)(null),b=(0,kn.Zp)(),v=(0,u.useCallback)((function(e){e.preventDefault(),i?i():g&&b(g,Mn)}),[i,b,g]);return(0,u.useLayoutEffect)((function(){var e;f&&(null===(e=m.current)||void 0===e||null===(e=e.closest('[role="row"], [role="listitem"]'))||void 0===e||null===(e=e.querySelector("button"))||void 0===e||e.focus({preventScroll:!0}))}),[f]),{isActive:p,onClick:v,contents:d||y?(0,I.jsx)("span",{ref:m,children:(0,I.jsx)(dn.M,{autoEscape:!0,searchWords:[d.trim()].concat((0,n.A)(null!==(a=null==y?void 0:y.split(" "))&&void 0!==a?a:"")),textToHighlight:r})}):r}}var Un=function(e){var t,r=e.uri,n=e.playbackUri,i=void 0===n?r:n,a=e.title,o=e.menu,l=e.to,s=Bn(i,void 0===l?(null===(t=(0,mn.o_)(r))||void 0===t?void 0:t.toURLPath(!0))||"":l,a,e.handleNavigate),c=s.isActive,u=s.contents,d="listrow-title-".concat(r);return(0,I.jsx)(x.h,{menu:o,children:(0,I.jsx)(Ln.d,{id:d,lineClamp:1,className:p()(Tn.A.link,Tn.A.titleLink),semanticColor:c?"textBrightAccent":"textBase",dir:"auto",children:u})})},_n=function(e){var t,r=e.uri,n=e.playbackUri,i=void 0===n?r:n,a=e.title,o=e.menu,l=e.to,s=void 0===l?(null===(t=(0,mn.o_)(r))||void 0===t?void 0:t.toURLPath(!0))||"":l,c=Bn(i,s,a,e.handleNavigate),u=c.isActive,d=c.onClick,y=c.contents;return(0,I.jsx)(x.h,{menu:o,children:(0,I.jsx)(En.Z,{lineClamp:1,className:p()(Tn.A.link,Tn.A.titleLink),semanticColor:u?"textBrightAccent":"textBase",href:s,onClick:d,role:"gridcell",dir:"auto",children:y})})},Vn=(r(79443),r(28171),r(69760)),Hn=[ae.fl.ALBUMS,ae.fl.ARTISTS,ae.fl.PLAYLISTS_V2,ae.fl.SHOWS,ae.fl.FOLDERS,ae.fl.PSEUDO_PLAYLISTS],Wn=[ae.fl.PLAYLISTS_V2,ae.fl.FOLDERS],zn=(r(51725),r(78381),r(21932),r(66874),r(9981),r(31840),r(45991),r(46567));function Xn(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Kn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kn(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(l)throw a}}}}function Kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yn(e){var t=e.dropTargetUri,r=e.spec,n=e.isDropTargetPinned,i=(0,Z.g)(),a=(0,u.useContext)(W.Z),s=(0,T.s)(),d=ut(),p=(0,u.useCallback)(function(){var e=(0,l.A)(c().mark((function e(l,u){var p,y,f,g,m,b,v,x,h,O,P,j;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=l[ae.fl.PLAYLISTS_V2],y=void 0===p?[]:p,f=l[ae.fl.FOLDERS],g=void 0===f?[]:f,m=(0,o.A)(g,1),b=m[0],v=u===oe.Nz.BEFORE?{before:{uri:t}}:{after:{uri:t}},!n){e.next=38;break}if(x=l[Object.keys(l)[0]][0],!(0,mn.tb)(x)&&!(0,mn.fp)(x)){e.next=24;break}return e.next=7,i.getContents();case 7:if(h=e.sent,-1!==(O=Zn(h.items,x))){e.next=14;break}return e.next=12,i.add([x],{before:"start"});case 12:e.next=22;break;case 14:if(!(O>0)){e.next=22;break}if(!(0,mn.tb)(x)){e.next=20;break}return e.next=18,i.move({uri:x},{before:"start"});case 18:e.next=22;break;case 20:return e.next=22,i.moveFolder({uri:x},{before:"start"});case 22:e.next=33;break;case 24:if((0,mn.Z0)(x)){e.next=33;break}return e.next=27,a.contains(x);case 27:if(P=e.sent,j=(0,o.A)(P,1),j[0]){e.next=33;break}return e.next=33,a.add({uris:[x]});case 33:return e.next=35,a.pin(x,v);case 35:s.logInteraction(r.dragPinItem({itemToPin:x})),e.next=46;break;case 38:if(!b){e.next=43;break}return e.next=41,i.moveFolder({uri:b},v);case 41:e.next=46;break;case 43:if(!y.length){e.next=46;break}return e.next=46,d(y,v);case 46:s.logInteraction(r.dragSort());case 47:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[t,n,a,s,r,i,d]),y=ct(n?{onApplyDrop:p,spec:r,isDropTargetPinned:n}:{onApplyDrop:p}),f=y.unpinConfirmationDialog,g=y.applyDropWithUnpinConfirmation,m=(0,u.useCallback)(function(){var e=(0,l.A)(c().mark((function e(t,r){var n,i,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[ae.fl.PLAYLISTS_V2],i=void 0===n?[]:n,a=t[ae.fl.FOLDERS],o=void 0===a?[]:a,!i.length||!o.length){e.next=5;break}throw new Error("Dropping a mix of playlists and folders is not supported");case 5:if(!(o.length>1)){e.next=7;break}throw new Error("Dropping multiple folders is not supported");case 7:g(t,r);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[g]);return{handleDropBeforeOrAfterRootlistItem:m,unpinConfirmationDialog:f}}function Zn(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Xn(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if((0,zn.Af)(a)||(0,zn.sA)(a)){if((0,mn.B2)(a.uri,t))return n;if((0,zn.sA)(a)){var o=Zn(a.items,t,n+1);if(-1!==o)return o}}}}catch(e){i.e(e)}finally{i.f()}return-1}var Gn=["dropPosition","className"];function Jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qn={state:{referrer:"your_library",preventMoveFocus:!0}};function $n(e){var t,r,n=e.uri,o=e.to,l=void 0===o?(null===(t=(0,mn.o_)(n))||void 0===t?void 0:t.toURLPath(!0))||"":o,s=e.type,c=e.handleNavigate,d=e.dragLabel,p=e.isPinned,y=e.canReorder,f=e.allowedDropTargetDropOnMimeTypes,g=void 0===f?[]:f,m=e.onDropTargetDropOn,b=e.onLongDragOver,v=e.openDeleteDialog,x=e.togglePlay,h=e.isItemInGrid,O=e.playInsteadOfNavigating,j=void 0!==O&&O,w=e.isPlaying,S=e.isActive,A=e.spec,D=e.folderDepth,C=(0,Nn.W)({uri:n,type:"link"})?(0,Fn.hF)(l):l,R=(0,kn.Zp)(),I=(0,kn.zy)(),k=(0,u.useCallback)((function(){R(C,Qn)}),[R,C]),L=(0,T.s)(),E=(0,u.useRef)(0),N=(0,u.useRef)(null),F=(0,u.useCallback)((function(e){var t,r=e.target;return r instanceof HTMLElement&&!(null!==(t=N.current)&&void 0!==t&&t.contains(r))}),[]),M=(0,u.useCallback)((function(e){if(!F(e)){if(e.preventDefault(),e.currentTarget.scrollIntoView({block:"nearest"}),j){if(E.current>Date.now())return;return E.current=Date.now()+300,void(w||(null==x||x(),L.logInteraction(A.yourLibraryItemFactory().hitPlay({itemToBePlayed:n}))))}c?c():C&&R(C,qn(qn({},Qn),{},{replace:C===I.pathname})),L.logInteraction(A.yourLibraryItemFactory().hitUiNavigate({destination:n}))}}),[F,j,c,C,L,A,n,x,w,R,I.pathname]),B=(0,u.useCallback)((function(e){j||F(e)||x&&(S?w?L.logInteraction(A.yourLibraryItemFactory().doubleHitPause({itemToBePaused:n})):L.logInteraction(A.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:n})):L.logInteraction(A.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:n})),null==x||x())}),[F,j,x,S,w,L,A,n]),U=(0,u.useCallback)((function(){L.logInteraction(A.yourLibraryItemFactory().secondaryHitUiReveal())}),[L,A]),_=(0,Vn.P)({itemUris:[n],itemMimeTypes:[(0,ae.j3)(s)],dragLabelText:d,sectionId:null!=D?D:0,dropOriginUri:P.gv}),V=_.draggable,H=_.onDragStart,W=[];p?W=Hn:y&&(W=Wn);var z=(0,i.A)((0,i.A)((0,i.A)({},oe.Nz.ON,g),oe.Nz.BEFORE,W),oe.Nz.AFTER,W),X=Yn({dropTargetUri:n,spec:A,isDropTargetPinned:p}),K=X.handleDropBeforeOrAfterRootlistItem,Y=X.unpinConfirmationDialog,Z=(0,u.useCallback)((function(e,t){t===oe.Nz.ON?null==m||m(e,t):t!==oe.Nz.BEFORE&&t!==oe.Nz.AFTER||K(e,t)}),[m,K]),G=(0,le.A)({uri:n,allowedMimeTypesByDropPosition:z,onDrop:Z,onLongDragOver:null!=b?b:k,reorderDirection:h?"horizontal":"vertical"}),J=G.dropPosition,q=G.className,Q=(0,a.A)(G,Gn),$=(0,u.useCallback)((function(e){e.repeat||F(e)||("Backspace"!==e.key&&"Delete"!==e.key||!v||v(),"Enter"===e.key&&e.shiftKey&&x&&(e.preventDefault(),x()),"Enter"===e.key&&L.logInteraction(A.yourLibraryItemFactory().keyStrokeUiNavigate({destination:n})))}),[F,L,v,A,x,n]),ee=null===(r=(0,mn.o_)(I.pathname,{parseUnknown:!0}))||void 0===r?void 0:r.toURI();return qn({onClick:M,onDoubleClick:B,draggable:V&&!!d,onDragStart:H,onKeyDown:$,unpinConfirmationDialog:Y,dropPosition:J,dropTargetClassName:q,logRightClick:U,isViewActive:!!ee&&(0,mn.B2)(n,ee),itemRef:N},Q)}var ei=function(e){switch(e){case z.c.ALBUM:return A.Ru.get("web-player.your-library-x.type-album");case z.c.ARTIST:return A.Ru.get("web-player.your-library-x.type-artist");case z.c.FOLDER:return A.Ru.get("web-player.your-library-x.type-folder");case z.c.AUDIOBOOK:return A.Ru.get("web-player.your-library-x.type-audiobook");case z.c.YOUR_EPISODES:case z.c.LOCAL_FILES:case z.c.LIKED_SONGS:case z.c.PLAYLIST:return A.Ru.get("web-player.your-library-x.type-playlist");case z.c.SHOW:return A.Ru.get("web-player.your-library-x.type-show");case z.c.PRE_RELEASE_ALBUM:return A.Ru.get("web-player.your-library-x.type-prerelease-album");case z.c.PRE_RELEASE_BOOK:return A.Ru.get("web-player.your-library-x.type-prerelease-audiobook");default:return(0,gt.d)(e)}},ti=function(e){switch(e){case z.c.YOUR_EPISODES:case z.c.LIKED_SONGS:case z.c.LOCAL_FILES:return z.c.PLAYLIST;default:return e}},ri=r(48177),ni=u.createContext(!1),ii=function(e){var t=e.children,r=e.isCompact;return(0,I.jsx)(ni.Provider,{value:r,children:t})},ai=function(){return(0,u.useContext)(ni)};const oi="wJTUKAyYI219kJtclJLa",li="q0_cpEyu_8EC7he96qT_",si="L8ET6xwMh_wMEqCpmunH",ci="D_1eJKOJ3wTCKO93GX06",ui="_7kcfiJ2UNEh3CDR9Wau",di="N8wAJha8ApfxgOfqv4UM",pi="iJMxV9zMXSfrjJPyB3Fw";var yi=["onClick","onDoubleClick","draggable","onDragStart","onKeyDown","dropPosition","dropTargetClassName","unpinConfirmationDialog","logRightClick","isViewActive","itemRef"];function fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fi(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mi=function(e){var t,r=e.uri,n=e.to,o=void 0===n?(null===(t=(0,mn.o_)(r))||void 0===t?void 0:t.toURLPath(!0))||"":n,l=e.handleNavigate,s=e.dragLabel,c=e.name,d=e.subtitle,y=e.cover,f=e.type,g=e.downloadButton,m=e.canReorder,b=e.allowedDropTargetDropOnMimeTypes,v=e.onDropTargetDropOn,h=e.onLongDragOver,O=e.menu,P=e.leading,j=e.openDeleteDialog,w=e.togglePlay,S=e.isPinned,A=e.shouldShowType,D=e.playbackUri,C=e.isPlaying,T=e.isActive,R=e.playInsteadOfNavigating,k=e.spec,L=e.index,E=e.animateClassName,N=void 0===E?"":E,F=e.animateState,M=e.preReleaseIcon,B=e.lockedIcon,U=$n({uri:r,to:o,handleNavigate:l,dragLabel:s,isPinned:S,canReorder:m,allowedDropTargetDropOnMimeTypes:b,onDropTargetDropOn:v,openDeleteDialog:j,onLongDragOver:h,togglePlay:w,isItemInGrid:!0,isPlaying:C,isActive:T,spec:k,playInsteadOfNavigating:R}),_=U.onClick,V=U.onDoubleClick,H=U.draggable,W=U.onDragStart,z=U.onKeyDown,X=U.dropPosition,K=U.dropTargetClassName,Y=U.unpinConfirmationDialog,Z=U.logRightClick,G=U.isViewActive,J=U.itemRef,q=(0,a.A)(U,yi),Q=(0,I.jsx)(_n,{uri:r,title:c,menu:O,handleNavigate:l,playbackUri:D}),$=(0,I.jsx)(In,{leading:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ri.g,{pinned:S}),B,M,g]}),subtitle:(0,I.jsxs)(I.Fragment,{children:[A&&ei(f),!!d&&A&&" • ",d]}),uri:r}),ee=(0,u.useRef)(null),te=ai(),re=(0,I.jsx)(x.h,{menu:O,onShow:Z,children:(0,I.jsx)(vn.E,{uri:r,trigger:vn.l.OnMouseDown,children:(0,I.jsx)(fn.Z,gi({id:r,title:Q,subtitle:$,media:y,size:"sm",leading:P,className:p()(oi,(0,i.A)({},N,F)),variant:G?"tinted":void 0,onClick:_,onDoubleClick:V,padding:gn.CJ},q))})});return te&&(re=(0,I.jsx)(An,{title:Q,subtitleSlot:$,uri:r,isPlaying:C,parentRef:ee,children:(0,I.jsx)("div",{children:(0,I.jsx)(x.h,{menu:O,onShow:Z,children:(0,I.jsx)(vn.E,{uri:r,trigger:vn.l.OnMouseDown,children:(0,I.jsx)(fn.Z,gi({id:r,title:void 0,media:y,size:"sm",className:p()(oi,li,(0,i.A)({},N,F)),variant:G?"tinted":void 0,onClick:_,onDoubleClick:V,padding:gn.vw,ref:ee},q))})})})})),(0,I.jsxs)(I.Fragment,{children:[Y,(0,I.jsx)(bn.W,{draggable:H,onDragStart:W,onKeyDown:z,className:p()(K,(0,i.A)((0,i.A)((0,i.A)({},Er,X===oe.Nz.ON),Fr,X===oe.Nz.BEFORE),Mr,X===oe.Nz.AFTER)),"aria-selected":T,innerRef:J,"aria-posinset":L,children:re})]})},bi=r(96041),vi=r(78227),xi=r(85262),hi=r(82122),Oi=r(22030),Pi=r(34757),ji=(r(99997),r(23401)),wi=function(e){var t=e.name,r=e.uri,n=e.togglePlay,a=e.spec,o=e.isActive,l=e.isPlaying,s=e.size,c=(0,T.s)(),d=(0,u.useCallback)((function(){o?l?c.logInteraction(a.yourLibraryItemFactory().doubleHitPause({itemToBePaused:r})):c.logInteraction(a.yourLibraryItemFactory().doubleHitResume({itemToBeResumed:r})):c.logInteraction(a.yourLibraryItemFactory().doubleHitPlay({itemToBePlayed:r})),n()}),[o,l,c,a,n,r]);return(0,I.jsx)("div",{className:p()(ui,(0,i.A)((0,i.A)({},pi,l),di,"small"===s)),role:"gridcell",children:(0,I.jsx)(ji.R,{isPlaying:l,onClick:d,ariaPlayLabel:A.Ru.get("playlist.a11y.play",t),ariaPauseLabel:A.Ru.get("playlist.a11y.pause",t),size:s})})};function Si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Ai=(0,u.memo)((function(e){var t=e.title,r=e.type,n=e.images,a=e.isCircular,o=e.color,l=e.animateState,s=e.animateClassName,c=void 0===s?"":s,u=(0,Pi._)();return(0,I.jsx)(vi.b,{fadeIn:!0,images:u(n,48),shape:a?vi.u.CIRCLE:vi.u.ROUNDED_CORNERS,size:xi.Qe.SIZE_48,iconSize:"medium",type:r,title:t,className:p()(Tn.A.entityImage,(0,i.A)({},c,l)),color:o,loadingMode:"eager"})})),Di=(0,u.memo)((function(e){var t=e.title,r=e.type,n=e.uri,a=e.images,l=e.isCircular,s=e.togglePlay,c=e.color,d=e.spec,p=e.isActive,y=e.isPlaying,f=(0,b.NC)(On.AE),g=ai(),m=(0,Pi._)(),v=(0,u.useState)("medium"),x=(0,o.A)(v,2),h=x[0],O=x[1],P=(0,u.useRef)(null);return(0,Oi.w)({onResize:function(e){var t=e.width;O(t<90?"small":"medium")},refOrElement:P}),(0,I.jsx)("div",{className:ci,ref:P,children:(0,I.jsx)(bi.M,{images:m(a,250),FallbackComponent:function(e){return(0,I.jsx)(hi.s,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Si(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({semanticColor:"textSubdued",type:r,size:"xxlarge",className:f?si:""},e))},isCircular:l,color:c,loadingMode:"eager",children:s&&!g&&(0,I.jsx)(wi,{name:t,uri:n,togglePlay:s,spec:d,isActive:p,isPlaying:y,size:h})})})})),Ci=r(60202);const Ti="_ymJNIfklFmogab9uWY1";var Ri=function(e){var t=e.folderDepth,r=void 0===t?0:t;return(0,I.jsx)("li",{className:Ti,style:{"--ylx-folder-depth":r}})},Ii=["RowVariantComponent","uri","to","handleNavigate","folderDepth","className","dragLabel","isPinned","canReorder","allowedDropTargetDropOnMimeTypes","onDropTargetDropOn","onLongDragOver","style","openDeleteDialog","togglePlay","isPlaying","isActive","type","menu","name","subtitle","downloadButton","expandFolderButton","cover","alt","addedAt","lastPlayedAt","shouldShowType","playbackUri","playInsteadOfNavigating","spec","nrValidItems","index","lockedIcon","onKeyDown","preReleaseIcon"],ki=["onClick","onDoubleClick","onDragStart","onKeyDown","dropPosition","dropTargetClassName","draggable","unpinConfirmationDialog","logRightClick","isViewActive","itemRef"];function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ni=function(e){var t,r=e.RowVariantComponent,n=e.uri,o=e.to,l=void 0===o?(null===(t=(0,mn.o_)(n))||void 0===t?void 0:t.toURLPath(!0))||"":o,s=e.handleNavigate,c=e.folderDepth,d=e.className,y=e.dragLabel,f=e.isPinned,g=e.canReorder,m=e.allowedDropTargetDropOnMimeTypes,b=e.onDropTargetDropOn,v=e.onLongDragOver,x=e.style,h=e.openDeleteDialog,O=e.togglePlay,P=e.isPlaying,j=e.isActive,w=e.type,S=(e.menu,e.name,e.subtitle,e.downloadButton,e.expandFolderButton,e.cover,e.alt,e.addedAt,e.lastPlayedAt,e.shouldShowType,e.playbackUri,e.playInsteadOfNavigating),A=e.spec,D=e.nrValidItems,C=e.index,T=(e.lockedIcon,e.onKeyDown),R=(e.preReleaseIcon,(0,a.A)(e,Ii)),k=$n({uri:n,to:l,type:w,handleNavigate:s,dragLabel:y,isPinned:f,canReorder:g,allowedDropTargetDropOnMimeTypes:m,onDropTargetDropOn:b,onLongDragOver:v,openDeleteDialog:h,togglePlay:O,isPlaying:P,isActive:j,playInsteadOfNavigating:S,spec:A,folderDepth:c}),L=k.onClick,E=k.onDoubleClick,N=k.onDragStart,F=k.onKeyDown,M=k.dropPosition,B=k.dropTargetClassName,U=k.draggable,_=k.unpinConfirmationDialog,V=k.logRightClick,H=k.isViewActive,W=k.itemRef,z=(0,a.A)(k,ki),X=(0,u.useCallback)((function(e){F(e),null==T||T(e)}),[F,T]);return(0,I.jsxs)(I.Fragment,{children:[_,M===oe.Nz.BEFORE&&(0,I.jsx)(Ri,{folderDepth:c}),(0,I.jsx)(Ci.c,Ei(Ei(Ei({style:Ei({"--ylx-folder-depth":c},x),draggable:U,onDragStart:N,onDoubleClick:E,className:p()(d,B,Dr,(0,i.A)({},Er,M===oe.Nz.ON))},R),z),{},{onKeyDown:X,innerRef:W,"aria-setsize":D,"aria-posinset":C+1,children:(0,I.jsx)(r,Ei(Ei({},e),{},{to:l,isActive:j,isViewActive:H,onClick:L,logRightClick:V,playInsteadOfNavigating:S,parentRef:W}))})),M===oe.Nz.AFTER&&(0,I.jsx)(Ri,{folderDepth:c})]})},Fi=r(76558),Mi=function(e){return e.locked?(0,I.jsx)(Fi.u,{semanticColor:"textSubdued",title:A.Ru.get("mwp.header.content.unavailable"),className:Tn.A.icon,size:"xsmall"}):null};function Bi(e){var t,r,n=e.uri,i=e.artists,a=e.isPremiumOnly,o=(0,u.useContext)(De.g).filter,l=(0,yn.l_)(n),s=l.isPlaying,c=l.isActive,d=(0,f.wA)(),p=(0,u.useCallback)((function(){d((0,sn.aw)(n))}),[d,n]),y=(0,pn.P)({uri:n},{featureIdentifier:"album",referrerIdentifier:"your_library"}).togglePlay;return{isPlaying:s,isActive:c,openDeleteDialog:p,togglePlay:a?void 0:y,menu:(0,I.jsx)(cn.h,{uri:n,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,I.jsx)(dn.M,{searchWords:[o.trim()],textToHighlight:null!==(t=null===(r=i.at(0))||void 0===r?void 0:r.name)&&void 0!==t?t:""}),downloadButton:(0,I.jsx)(un.M,{uri:n,size:"xsmall",className:Tn.A.icon,as:"span"})}}var Ui=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.RowVariantComponent,a=e.spec,o=e.nrValidItems,l=e.index,s=t.uri,c=t.images,u=t.name,d=t.pinned,p=t.type,y=t.addedAt,f=t.lastPlayedAt,g=t.color,m=t.isPremiumOnly,b=Bi(t),v=b.isPlaying,x=b.isActive,h=b.openDeleteDialog,O=b.togglePlay,P=b.menu,j=b.subtitleText,w=b.downloadButton,S=(0,I.jsx)(Ai,{title:u,type:p,images:c,color:g}),A=(0,I.jsx)(Mi,{locked:m});return(0,I.jsx)(Ni,{RowVariantComponent:i,uri:s,cover:S,name:u,subtitle:j,downloadButton:w,alt:u,type:p,dragLabel:u,menu:P,togglePlay:O,openDeleteDialog:h,addedAt:y,lastPlayedAt:f,isPinned:d,isPlaying:v,isActive:x,shouldShowType:n,spec:a,nrValidItems:o,index:l,lockedIcon:A})},_i=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.spec,a=e.index,o=t.uri,l=t.images,s=t.name,c=t.pinned,u=t.type,d=t.color,p=t.isPremiumOnly,y=Bi(t),f=y.togglePlay,g=y.menu,m=y.subtitleText,b=y.downloadButton,v=y.openDeleteDialog,x=y.isPlaying,h=y.isActive,O=(0,I.jsx)(Di,{title:s,type:u,images:l,uri:o,togglePlay:f,color:d,spec:i,isActive:h,isPlaying:x}),P=(0,I.jsx)(Mi,{locked:p});return(0,I.jsx)(mi,{uri:o,name:s,subtitle:m,menu:g,dragLabel:s,cover:O,downloadButton:b,type:u,togglePlay:f,isPinned:c,shouldShowType:n,openDeleteDialog:v,isPlaying:x,isActive:h,spec:i,index:a,lockedIcon:P})},Vi=r(65623);function Hi(e){var t=e.uri,r=(0,f.wA)(),n=(0,pn.P)({uri:t},{featureIdentifier:"artist",referrerIdentifier:"your_library"}).togglePlay,i=(0,yn.l_)(t);return{togglePlay:n,isPlaying:i.isPlaying,isActive:i.isActive,openDeleteDialog:(0,u.useCallback)((function(){r((0,sn.aw)(t))}),[r,t]),menu:(0,I.jsx)(Vi.t,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0})}}var Wi=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.addedAt,p=t.lastPlayedAt,y=t.pinned,f=t.color,g=Hi(t),m=g.togglePlay,b=g.isPlaying,v=g.isActive,x=g.openDeleteDialog,h=g.menu,O=(0,I.jsx)(Ai,{title:c,type:u,images:s,isCircular:!0,color:f});return(0,I.jsx)(Ni,{RowVariantComponent:n,uri:l,cover:O,name:c,type:u,alt:c,dragLabel:c,menu:h,togglePlay:m,openDeleteDialog:x,addedAt:d,lastPlayedAt:p,isPlaying:b,isActive:v,isPinned:y,shouldShowType:r,spec:i,nrValidItems:a,index:o})},zi=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=Hi(t),p=d.togglePlay,y=d.menu,f=d.openDeleteDialog,g=d.isPlaying,m=d.isActive,b=(0,I.jsx)(Di,{title:l,type:s,images:o,uri:a,togglePlay:p,isCircular:!0,color:u,spec:n,isActive:m,isPlaying:g});return(0,I.jsx)(mi,{uri:a,name:l,menu:y,dragLabel:l,cover:b,type:s,togglePlay:p,isPinned:c,shouldShowType:r,openDeleteDialog:f,isPlaying:g,isActive:m,spec:n,index:i})},Xi=r(83800);function Ki(e){var t=e.uri,r=e.authorName,n=(0,u.useContext)(De.g).filter,i=(0,f.wA)(),a=(0,yn.l_)(t);return{isPlaying:a.isPlaying,isActive:a.isActive,openDeleteDialog:(0,u.useCallback)((function(){i((0,sn.aw)(t))}),[i,t]),menu:(0,I.jsx)(Xi.p,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),subtitleText:(0,I.jsx)(dn.M,{searchWords:[n.trim()],textToHighlight:r}),downloadButton:(0,I.jsx)(un.M,{uri:t,size:"xsmall",className:Tn.A.icon,as:"span"})}}var Yi=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.pinned,p=t.addedAt,y=t.lastPlayedAt,f=t.color,g=Ki(t),m=g.isPlaying,b=g.isActive,v=g.openDeleteDialog,x=g.menu,h=g.subtitleText,O=g.downloadButton,P=(0,I.jsx)(Ai,{title:c,type:u,images:s,color:f}),j=(0,I.jsx)(Mi,{locked:t.isLocked});return(0,I.jsx)(Ni,{RowVariantComponent:n,uri:l,cover:P,name:c,subtitle:h,alt:c,dragLabel:c,menu:x,openDeleteDialog:v,addedAt:p,lastPlayedAt:y,isPlaying:m,isActive:b,isPinned:d,shouldShowType:r,type:u,spec:i,nrValidItems:a,lockedIcon:j,index:o,downloadButton:O})},Zi=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=Ki(t),p=d.menu,y=d.subtitleText,f=d.openDeleteDialog,g=d.isPlaying,m=d.isActive,b=d.downloadButton,v=(0,I.jsx)(Di,{title:l,type:s,images:o,uri:a,color:u,spec:n,isActive:m,isPlaying:g});return(0,I.jsx)(mi,{uri:a,name:l,subtitle:y,menu:p,dragLabel:l,cover:v,isPinned:c,shouldShowType:r,type:s,openDeleteDialog:f,isPlaying:g,isActive:m,spec:n,index:i,downloadButton:b})},Gi=(r(67560),r(33204)),Ji=r(69115),qi=r(22643);function Qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qi(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ea=function(e){var t=e.uri,r=e.divider,n=e.onDeleteCallback,i=(0,R.W)(),a=(0,f.wA)(),o=(0,u.useCallback)((function(){i({intent:"playlisting",type:"click"}),a((0,sn.OB)(t,n))}),[a,n,i,t]);return(0,I.jsx)(D.D,{role:"menuitem",divider:r,onClick:o,leadingIcon:(0,I.jsx)(qi.P,{semanticColor:"textSubdued",size:"small"}),children:A.Ru.get("contextmenu.delete")})},ta=u.memo((function(e){return(0,I.jsx)(O.pZ,{value:"delete-folder",children:(0,I.jsx)(ea,$i({},e))})})),ra=r(13567),na=r(84394),ia=r(65888);function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var la=function(e){var t=e.uri,r=e.spec,n=(0,pn.P)({uri:t},{featureIdentifier:"folder"}),i=n.togglePlay,a=n.isPlaying,o=n.isActive,l=(0,T.s)(),s=(0,u.useCallback)((function(){i(),r&&l&&(a?l.logInteraction(r.playButtonFactory({uri:t}).hitPause({itemToBePaused:t})):o?l.logInteraction(r.playButtonFactory({uri:t}).hitResume({itemToBeResumed:t})):l.logInteraction(r.playButtonFactory({uri:t}).hitPlay({itemToBePlayed:t})))}),[o,a,l,r,i,t]);return(0,I.jsx)(D.D,{role:"menuitem",onClick:s,leadingIcon:a?(0,I.jsx)(na._,{semanticColor:"textSubdued",size:"small"}):(0,I.jsx)(ia.A,{semanticColor:"textSubdued",size:"small"}),children:a?A.Ru.get("pause"):A.Ru.get("play")})},sa=u.memo((function(e){return(0,I.jsx)(O.pZ,{value:"create-folder",children:(0,I.jsx)(la,oa({},e))})})),ca=r(12182);function ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pa=function(e){var t=e.uri,r=e.name,n=e.divider,i=e.spec,a=e.handleRename,o=(0,T.s)(),l=(0,f.wA)(),s=(0,u.useCallback)((function(){i&&o.logInteraction(i.editButtonFactory({uri:t}).hitUiReveal()),l((0,sn.O2)(r,a))}),[l,o,r,a,i,t]);return(0,I.jsx)(D.D,{role:"menuitem",divider:n,onClick:s,leadingIcon:(0,I.jsx)(ca.G,{semanticColor:"textSubdued",size:"small"}),children:A.Ru.get("contextmenu.rename")})},ya=u.memo((function(e){return(0,I.jsx)(O.pZ,{value:"rename",children:(0,I.jsx)(pa,da({},e))})})),fa=r(42272),ga=u.memo((function(e){var t=e.reference,r=e.name,n=void 0===r?"":r,i=e.onRename,a=e.onCreateCallback,o=void 0===a?function(){}:a,l=e.onDeleteCallback,s=e.canPin,c=void 0===s?P.oT.NO:s,u=e.isPinned,d=void 0!==u&&u,p=(0,j.o)(t.uri).spec,y=(0,Ji.Ek)();return(0,I.jsx)(O.pZ,{value:"folder",children:(0,I.jsxs)(h.W,{children:[(0,I.jsx)(ya,{spec:p,uri:t.uri,name:n,handleRename:i}),(0,I.jsx)(ta,{uri:t.uri,divider:"after",onDeleteCallback:l}),(c!==P.oT.NO||d)&&(0,I.jsx)(ra.k,{uri:t.uri,canPin:c,isPinned:d,type:z.c.FOLDER,spec:p}),(0,I.jsx)(N,{position:{after:t},onCreateCallback:o,spec:p}),(0,I.jsx)(w.j,{position:{after:t},onCreateCallback:o,spec:p}),(0,I.jsx)(fa.y,{uriToBeAdded:t.uri,isInLibrary:!0,spec:p}),y&&(0,I.jsx)(sa,{uri:t.uri,spec:p})]})})})),ma=r(11244),ba=r(84828),va=r(68198),xa=function(e){var t=e.uri,r=(0,u.useState)(!1),n=(0,o.A)(r,2),i=n[0],a=n[1],l=(0,u.useCallback)((function(){a(!0),setTimeout((function(){a(!1)}),500)}),[]);return(0,ft.l)(yt.UV.OPERATION_COMPLETE,(function(e){"add"===e.data.operation&&"liked-songs"===t&&l()})),(0,ba.e)(ma.Lj.OPERATION_COMPLETE,(function(e){"add"===e.data.operation&&t===e.data.uri&&l()})),(0,jt.b)(va.tD.OPERATION_COMPLETE,(function(e){var r,n;"remove"!==e.data.operation&&"end"!==(null===(r=e.data.position)||void 0===r?void 0:r.after)&&(null===(n=e.data.position.after)||void 0===n?void 0:n.uri)===t&&(0,mn.fp)(t)&&l()})),{animateState:i,animateClassName:Tn.A.pulse}},ha=r(90827),Oa=r(99665);function Pa(e,t){var r=e.uri,n=e.name,i=e.numberOfFolders,a=e.numberOfPlaylists,o=e.pinned,l=(0,yn.l_)(r),s=l.isPlaying,c=l.isActive,d=(0,u.useContext)(Je).pushFolder,p=(0,f.wA)(),y=(0,pn.P)({uri:r},{featureIdentifier:"folder",referrerIdentifier:"your_library"}).togglePlay,g=(0,f.d4)((function(e){return e.platform.isDesktop})),m=dt(t,r),b=m.handleDropOnFolder,v=m.unpinConfirmationDialog,x=(0,ha.Z)().renameFolder,h=b,O=[a>0||!i?A.Ru.get("web-player.your-library-x.rows.folder.number-of-playlists",a):null,i>0?A.Ru.get("web-player.your-library-x.rows.folder.number-of-folders",i):null].filter(Oa.P).join(A.Ru.getSeparator()),P=(0,u.useCallback)((function(){x(e,arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}),[e,x]),j=(0,u.useCallback)((function(){d(e.uri)}),[e.uri,d]);return{openDeleteDialog:(0,u.useCallback)((function(){p((0,sn.OB)(r))}),[p,r]),togglePlay:g?y:void 0,menu:(0,I.jsx)(ga,{reference:{uri:r},name:n,canPin:e.canPin,isPinned:o,onRename:P}),subtitleText:O,onDropTargetDropOn:h,handleNavigate:j,dropOnFolderUnpinConfirmationDialog:v,isPlaying:s,isActive:c}}var ja=function(e){var t,r,n=e.libraryItem,a=e.RowVariantComponent,l=e.spec,s=e.nrValidItems,c=e.index,d=n.uri,y=n.folderDepth,f=n.name,g=n.type,m=n.isFlattened,b=n.pinned,v=n.canReorder,x=Pa(n,l),h=x.openDeleteDialog,O=x.togglePlay,P=x.menu,j=x.subtitleText,w=x.onDropTargetDropOn,S=x.handleNavigate,D=x.dropOnFolderUnpinConfirmationDialog,C=x.isPlaying,R=x.isActive,k=function(e){var t=(0,u.useContext)(Ye),r=t.getIsFolderExpanded,n=t.setIsFolderExpanded;return[(0,u.useMemo)((function(){return r(e)}),[r,e]),(0,u.useCallback)((function(t){n(e,t)}),[n,e])]}(d),L=(0,o.A)(k,2),E=L[0],N=L[1],F=(0,T.s)(),M=(0,u.useCallback)((function(){N(!0),F.logInteraction(l.yourLibraryItemFactory().dragUiReveal())}),[F,N,l]),B=(0,u.useCallback)((function(e){e.stopPropagation()}),[]),U=(0,u.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),N(!E),E?F.logInteraction(l.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiHide()):F.logInteraction(l.yourLibraryItemFactory().toggleFolderButtonFactory().hitUiReveal())}),[N,E,F,l]),_=(0,u.useCallback)((function(e){"ArrowLeft"===e.key?N(!1):"ArrowRight"===e.key&&N(!0)}),[N]),V=!m&&(0,I.jsx)(Rt.H,{"data-skip-in-keyboard-nav":!0,"aria-label":E?A.Ru.get("web-player.your-library-x.collapse-folder"):A.Ru.get("web-player.your-library-x.expand-folder"),iconOnly:Gi.y,size:"small",condensedAll:!0,onClick:U,onDoubleClick:B,tabIndex:-1,className:p()(fr,gr,(0,i.A)({},Ar,!E))}),H=xa({uri:d}),W=H.animateState,z=H.animateClassName,X=(0,I.jsx)(Ai,{title:f,type:g,animateState:W,animateClassName:z});return(0,I.jsxs)(I.Fragment,{children:[D,(0,I.jsx)(Ni,{onKeyDown:_,RowVariantComponent:a,uri:d,to:"/folder/".concat(null!==(t=null===(r=(0,mn.o_)(d))||void 0===r?void 0:r.id)&&void 0!==t?t:""),handleNavigate:S,folderDepth:y,cover:X,name:f,subtitle:j,alt:f,dragLabel:f,menu:P,canReorder:v,allowedDropTargetDropOnMimeTypes:ze,onDropTargetDropOn:w,onLongDragOver:M,togglePlay:O,openDeleteDialog:h,addedAt:n.addedAt,lastPlayedAt:n.lastPlayedAt,isPinned:b,shouldShowType:!1,type:g,isPlaying:C,isActive:R,expandFolderButton:V,spec:l,nrValidItems:s,index:c})]})},wa=function(e){var t,r,n=e.libraryItem,i=e.spec,a=e.index,o=n.uri,l=n.name,s=n.type,c=n.pinned,u=n.canReorder,d=Pa(n,i),p=d.togglePlay,y=d.menu,f=d.subtitleText,g=d.onDropTargetDropOn,m=d.handleNavigate,b=d.openDeleteDialog,v=d.isPlaying,x=d.isActive,h=xa({uri:o}),O=h.animateState,P=h.animateClassName,j=(0,I.jsx)(Di,{title:l,type:s,uri:o,togglePlay:p,spec:i,isActive:x,isPlaying:v});return(0,I.jsx)(mi,{uri:o,to:"/folder/".concat(null!==(t=null===(r=(0,mn.o_)(o))||void 0===r?void 0:r.id)&&void 0!==t?t:""),handleNavigate:m,cover:j,name:l,subtitle:f,menu:y,dragLabel:l,canReorder:u,allowedDropTargetDropOnMimeTypes:ze,onLongDragOver:m,onDropTargetDropOn:g,togglePlay:p,isPinned:c,shouldShowType:!1,type:s,openDeleteDialog:b,isPlaying:v,isActive:x,spec:i,index:a,animateState:O,animateClassName:P})},Sa=r(37339),Aa=u.memo((function(e){var t=e.uri,r=e.canPin,n=e.isPinned,i=e.downloadUri,a=(0,j.o)(t).spec;return(0,I.jsx)(O.pZ,{value:"generic",children:(0,I.jsxs)(h.W,{children:[i?(0,I.jsx)(Sa.d,{spec:a,uri:i}):null,r!==P.oT.NO&&(0,I.jsx)(ra.k,{uri:t,canPin:r,isPinned:n,type:z.c.PLAYLIST,spec:a})]})})})),Da=r(13147),Ca=[ae.fl.TRACKS,ae.fl.LOCAL_TRACKS];function Ta(e){var t=e.numberOfSongs,r="spotify:collection:tracks",i=(0,f.d4)(Da.Ht).user,a=(0,mn.fH)(null==i?void 0:i.id).toURI(),o=a,l=a,s=(0,pn.P)({uri:o},{featureIdentifier:"your_library",referrerIdentifier:"your_library"}).togglePlay,c=(0,u.useContext)(W.Z),d=(0,yn.l_)(o),p=d.isPlaying,y=d.isActive,g=(0,u.useCallback)((function(e){var t=e[ae.fl.TRACKS],r=void 0===t?[]:t,i=e[ae.fl.LOCAL_TRACKS],a=void 0===i?[]:i,o=[].concat((0,n.A)(r),(0,n.A)(a));null!=o&&o.length&&(null==c||c.add({uris:o}))}),[c]);return{isPlaying:p,isActive:y,togglePlay:s,menu:(0,I.jsx)(Aa,{uri:r,canPin:e.canPin,isPinned:e.pinned,downloadUri:l}),downloadButton:(0,I.jsx)(un.M,{uri:l,size:"xsmall",className:Tn.A.icon,as:"span"}),subtitleText:(0,I.jsx)(I.Fragment,{children:A.Ru.get("web-player.your-library-x.rows.liked-songs.subtitle",t)}),onDropTargetDropOn:g,playbackUri:o,uri:r}}var Ra=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.images,s=t.name,c=t.type,u=t.pinned,d=t.addedAt,p=t.lastPlayedAt,y=t.color,f=Ta(t),g=f.isPlaying,m=f.isActive,b=f.togglePlay,v=f.menu,x=f.subtitleText,h=f.onDropTargetDropOn,O=f.playbackUri,P=f.uri,j=f.downloadButton,w=xa({uri:"liked-songs"}),S=w.animateState,A=w.animateClassName,D=(0,I.jsx)(Ai,{title:s,type:c,images:l,color:y,animateState:S,animateClassName:A});return(0,I.jsx)(Ni,{RowVariantComponent:n,uri:P,cover:D,name:s,subtitle:x,alt:s,dragLabel:s,menu:v,allowedDropTargetDropOnMimeTypes:Ca,onDropTargetDropOn:h,togglePlay:b,addedAt:d,lastPlayedAt:p,isPlaying:g,isActive:m,isPinned:u,shouldShowType:r,type:c,playbackUri:O,downloadButton:j,spec:i,nrValidItems:a,index:o})},Ia=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.images,o=t.name,l=t.type,s=t.pinned,c=t.color,u=Ta(t),d=u.togglePlay,p=u.menu,y=u.subtitleText,f=u.onDropTargetDropOn,g=u.playbackUri,m=u.uri,b=u.downloadButton,v=u.isPlaying,x=u.isActive,h=xa({uri:"liked-songs"}),O=h.animateState,P=h.animateClassName,j=(0,I.jsx)(Di,{title:o,type:l,images:a,uri:g,togglePlay:d,color:c,spec:n,isActive:x,isPlaying:v});return(0,I.jsx)(mi,{uri:m,name:o,subtitle:y,menu:p,dragLabel:o,allowedDropTargetDropOnMimeTypes:Ca,onDropTargetDropOn:f,cover:j,togglePlay:d,isPinned:s,shouldShowType:r,type:l,playbackUri:g,downloadButton:b,isPlaying:v,isActive:x,spec:n,index:i,animateState:O,animateClassName:P})},ka=r(99497),La=r(4910),Ea=r(70003),Na=r(5264);function Fa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ma(e){var t=e.numberOfFiles,r=Na.bV,n=(0,Ea.Iu)().uri,i=(0,yn.l_)(r);return{playbackUri:r,uri:n,isPlaying:i.isPlaying,isActive:i.isActive,menu:(0,I.jsx)(Aa,{uri:n,canPin:e.canPin,isPinned:e.pinned}),downloadButton:(0,I.jsx)(ka.F,{size:"xsmall",className:Tn.A.icon,semanticColor:"textBrightAccent"}),subtitleText:A.Ru.get("web-player.your-library-x.rows.local-files.subtitle",t)}}var Ba=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.name,s=t.addedAt,c=t.lastPlayedAt,u=t.type,d=t.pinned,p=Ma(t),y=p.playbackUri,f=p.uri,g=p.isPlaying,m=p.menu,b=p.subtitleText,v=p.downloadButton,x=p.isActive,h=(0,I.jsx)("div",{className:mr,children:(0,I.jsx)(La.e,{iconSize:24,title:l})});return(0,I.jsx)(Ni,{RowVariantComponent:n,uri:f,name:l,subtitle:b,alt:l,dragLabel:l,menu:m,addedAt:s,lastPlayedAt:c,isPinned:d,isPlaying:g,isActive:x,shouldShowType:r,playbackUri:y,downloadButton:v,cover:h,type:u,spec:i,nrValidItems:a,index:o})},Ua=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,a=e.index,o=t.name,l=t.images,s=t.type,c=t.pinned,u=Ma(t),d=u.playbackUri,p=u.uri,y=u.menu,f=u.downloadButton,g=u.subtitleText,m=u.isPlaying,v=u.isActive,x=(0,b.NC)(On.AE),h=(0,I.jsx)("div",{className:ci,children:(0,I.jsx)(bi.M,{images:l,FallbackComponent:function(e){return(0,I.jsx)(La.e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fa(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({size:"xxlarge",className:x?si:""},e))}})});return(0,I.jsx)(mi,{uri:p,name:o,subtitle:g,menu:y,cover:h,type:s,playbackUri:d,downloadButton:f,isPinned:c,shouldShowType:r,isPlaying:m,isActive:v,spec:n,index:a})},_a=r(66403),Va=function(e){var t=e.index,r=e.type,n=(0,b.NC)(On.AE),a=ai();return(0,I.jsx)(_a.T,{columnIndex:0,children:(0,I.jsx)(fn.Z,{className:p()(oi,(0,i.A)({},li,a)),media:(0,I.jsx)(bi.M,{images:[],FallbackComponent:function(){return(0,I.jsx)(hi.s,{type:r,size:"xxlarge",className:n?si:"",semanticColor:"textSubdued"})},isCircular:r===z.c.ARTIST}),variant:"naked",id:t,title:"",padding:a?gn.vw:gn.CJ})})},Ha=r(77045),Wa=r(19467),za=r(52083),Xa=r(96833),Ka=r(44419),Ya=r(86678),Za=r(60103),Ga=r(24827),Ja=r(91799),qa=r(24971),Qa=r(5019),$a=r(76711),eo=r(39441),to=r(15879),ro=r(84804),no=r(14045),io=r(75369),ao=r(90464),oo=u.memo((function(e){var t,r,n,i,a,o=e.reference,l=e.isPublished,s=e.canPin,c=void 0===s?P.oT.NO:s,u=e.isPinned,d=void 0!==u&&u,p=e.useDialogForUnfollow,y=void 0!==p&&p,f=e.isInLibrary,g=o.uri,m=(0,za.J)(g),b=!(null==m||null===(t=m.permissions)||void 0===t||!t.isPrivate),v=null!==(r=null!==(n=(0,Xa.v)(g))&&void 0!==n?n:null==m?void 0:m.isPublished)&&void 0!==r?r:l,x=(0,j.o)(g).spec,S=null==m?void 0:m.hasSpotifyAudiobooks;return m&&(0,I.jsx)(O.pZ,{value:"playlist",children:(0,I.jsxs)(h.W,{children:[!S&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ya.K,{spec:x,uris:[g]}),(0,I.jsx)(Ka._,{uri:g,spec:x})]}),!b&&(0,I.jsx)(ro._,{spec:x,divider:m.isOwnedBySelf?"after":"both",uri:g,isPublished:v}),m.isOwnedBySelf&&(0,I.jsx)(Ja.T,{spec:x,uri:g,name:m.name,description:m.description,image:m.images[0]}),!m.isOwnedBySelf&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(no.P,{spec:x,uri:g}),(0,I.jsx)(Wa.ET,{uri:g,useDialog:y,initialState:f})]}),m.isOwnedBySelf&&(0,I.jsx)(Ga.u,{spec:x,uri:g}),!S&&(0,I.jsx)(Sa.d,{spec:x,uri:g}),(0,I.jsx)(N,{position:{after:o},divider:"before",spec:x}),(0,I.jsx)(w.j,{position:{after:o},spec:x}),(null===(i=m.permissions)||void 0===i?void 0:i.canAdministratePermissions)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(to.U,{spec:x,divider:"before",uri:g,isPrivate:b}),!S&&(0,I.jsx)(Qa.n,{uri:g,spec:x})]}),(null===(a=m.permissions)||void 0===a?void 0:a.canCancelMembership)&&(0,I.jsx)($a._,{spec:x,divider:"before",uri:g}),(0,I.jsx)(qa.w,{spec:x,uri:g}),(0,I.jsx)(fa.y,{uriToBeAdded:g,isInLibrary:!0,spec:x}),!S&&(0,I.jsx)(io.o,{spec:x,uris:[g],isPlaylist:!0}),(c!==P.oT.NO||d)&&(0,I.jsx)(ra.k,{uri:g,canPin:c,isPinned:d,type:z.c.PLAYLIST,spec:x}),(m.isOwnedBySelf||!b)&&(0,I.jsxs)(ao.h,{divider:"before",children:[(0,I.jsx)(Za.m,{spec:x,uri:g,displayText:A.Ru.get("contextmenu.share.copy-playlist-link"),isPrivatePlaylist:b}),(0,I.jsx)(eo.x,{spec:x,uri:g,type:z.c.PLAYLIST})]})]})})})),lo=u.memo((function(e){var t=e.reference,r=e.canPin,n=void 0===r?P.oT.NO:r,i=e.isPinned,a=void 0!==i&&i,o=t.uri,l=(0,j.o)(o).spec;return(0,I.jsx)(O.pZ,{value:"playlist",children:(0,I.jsxs)(h.W,{children:[(0,I.jsx)(N,{position:{after:t},divider:"before",spec:l}),(0,I.jsx)(w.j,{position:{after:t},spec:l}),n!==P.oT.NO&&(0,I.jsx)(ra.k,{uri:o,canPin:n,isPinned:a,type:z.c.PLAYLIST,spec:l})]})})})),so=r(21746),co=function(){return(0,u.useContext)(so.w).getCapabilities()};function uo(e,t){var r=e.uri,i=e.isLoading,a=e.owner,o=e.pinned,s=(0,u.useContext)(so.w),d=(0,u.useContext)(De.g).filter,p=co().canAddAudiobooks,y=[ae.fl.TRACKS,ae.fl.LOCAL_TRACKS,ae.fl.ALBUMS,ae.fl.EPISODES],g=p?[ae.fl.AUDIOBOOKS]:[];(0,u.useEffect)((function(){i&&s.resync(r)}),[s,r,i]);var m,b=(0,pn.P)({uri:r},{featureIdentifier:"playlist",referrerIdentifier:"your_library"}).togglePlay,v=(0,yn.l_)(r),x=v.isPlaying,O=v.isActive,P=(0,f.wA)(),j=(0,T.s)(),w=[],S=(0,u.useCallback)(function(){var e=(0,l.A)(c().mark((function e(i){var a,o,l,s,u,d,p,y,f,g,m,b;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i[ae.fl.TRACKS],l=void 0===o?[]:o,s=i[ae.fl.LOCAL_TRACKS],u=void 0===s?[]:s,d=i[ae.fl.ALBUMS],p=void 0===d?[]:d,y=i[ae.fl.EPISODES],f=void 0===y?[]:y,g=i[ae.fl.AUDIOBOOKS],m=void 0===g?[]:g,b=[].concat((0,n.A)(l),(0,n.A)(u),(0,n.A)(p),(0,n.A)(f),(0,n.A)(m)),P((0,Ha.io)(r,b)),j.logInteraction(t.yourLibraryItemFactory().dragAddToPlaylist({itemToBeAdded:null!==(a=b.at(0))&&void 0!==a?a:"",playlist:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P,j,t,r]);e.canAddTo&&(w=e.isEmpty?[].concat(g,y):e.isBooklist?g:y,m=S);var D,C=(0,u.useCallback)((function(){P((0,sn.O)(r))}),[P,r]),R=(0,on.c0)(r),k=i&&!e.name;D=R?(0,I.jsx)(lo,{reference:e,canPin:e.canPin,isPinned:o}):k?(0,I.jsx)(h.W,{children:(0,I.jsx)(Wa.ET,{uri:r,initialState:!0})}):(0,I.jsx)(oo,{reference:e,canPin:e.canPin,isPinned:o,useDialogForUnfollow:!0,isInLibrary:!0});var L=(0,I.jsx)(un.M,{uri:r,size:"xsmall",className:Tn.A.icon,as:"span"}),E=(0,on.c0)(r)?(0,I.jsx)(I.Fragment,{children:A.Ru.get("ylx.clicktoplay")}):(a.uri,(0,I.jsx)(dn.M,{searchWords:[d.trim()],textToHighlight:a.name}));return{openDeleteDialog:C,togglePlay:e.isBooklist?void 0:b,isPlaying:x,isActive:O,menu:D,downloadButton:L,subtitleText:E,allowedDropTargetDropOnMimeTypes:w,onDropTargetDropOn:m}}var po=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.folderDepth,u=t.name,d=t.type,p=t.pinned,y=t.addedAt,f=t.lastPlayedAt,g=t.color,m=t.canReorder,b=uo(t,i),v=b.openDeleteDialog,x=b.togglePlay,h=b.isPlaying,O=b.isActive,P=b.menu,j=b.downloadButton,w=b.subtitleText,S=b.allowedDropTargetDropOnMimeTypes,A=b.onDropTargetDropOn,D=xa({uri:l}),C=D.animateState,T=D.animateClassName,R=(0,I.jsx)(Ai,{title:u,type:d,images:s,color:g,animateState:C,animateClassName:T});return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(Ni,{RowVariantComponent:n,uri:l,folderDepth:c,cover:R,name:u,subtitle:w,alt:u,dragLabel:u,menu:P,canReorder:m,allowedDropTargetDropOnMimeTypes:S,onDropTargetDropOn:A,togglePlay:x,openDeleteDialog:v,addedAt:y,lastPlayedAt:f,isPlaying:h,isActive:O,isPinned:p,shouldShowType:r,type:d,downloadButton:j,spec:i,playInsteadOfNavigating:(0,on.c0)(l),nrValidItems:a,index:o})})},yo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=t.canReorder,p=uo(t,n),y=p.togglePlay,f=p.menu,g=p.downloadButton,m=p.subtitleText,b=p.onDropTargetDropOn,v=p.allowedDropTargetDropOnMimeTypes,x=p.openDeleteDialog,h=p.isPlaying,O=p.isActive,P=xa({uri:a}),j=P.animateState,w=P.animateClassName,S=(0,I.jsx)(Di,{title:l,type:s,images:o,uri:a,togglePlay:y,color:u,spec:n,isActive:O,isPlaying:h});return(0,I.jsx)(mi,{uri:a,name:l,subtitle:m,menu:f,dragLabel:l,canReorder:d,allowedDropTargetDropOnMimeTypes:v,onDropTargetDropOn:b,cover:S,togglePlay:y,isPinned:c,shouldShowType:r,type:s,downloadButton:g,openDeleteDialog:x,isPlaying:h,isActive:O,spec:n,playInsteadOfNavigating:(0,on.c0)(a),index:i,animateState:j,animateClassName:w})},fo=r(48389),go=r(99010),mo=r(16007),bo=r(52429),vo=u.memo((function(e){var t=e.uri,r=e.canPin,n=void 0===r?P.oT.NO:r,i=e.isPinned,a=void 0!==i&&i,o=e.canRemove,l=void 0!==o&&o,s=(0,j.o)(t).spec;return(0,I.jsx)(O.pZ,{value:"audiobook",children:(0,I.jsxs)(h.W,{children:[l&&(0,I.jsx)(bo.p,{uri:t,removeLabel:A.Ru.get("contextmenu.remove-from-library")}),n!==P.oT.NO&&(0,I.jsx)(ra.k,{uri:t,canPin:n,isPinned:a,type:z.c.PRE_RELEASE_BOOK,spec:s}),(0,I.jsx)(Za.m,{uri:t,spec:s,displayText:A.Ru.get("context-menu.copy-book-link")}),(0,I.jsx)(mo.q,{spec:s,divider:"before",uri:t})]})})}));function xo(e){var t,r=e.uri,n=e.canPin,i=e.pinned,a=e.type,o=(0,u.useContext)(De.g).filter,l=(0,f.wA)(),s=(0,u.useCallback)((function(){l((0,sn.aw)(r,!0))}),[l,r]),c="";if(a===z.c.PRE_RELEASE_ALBUM){var d,p,y=null===(d=e.artists)||void 0===d?void 0:d.at(0);c=null!==(p=null==y?void 0:y.name)&&void 0!==p?p:"",t=(0,I.jsx)(go.P,{uri:r,artistUri:null==y?void 0:y.uri,canPin:n,isPinned:i,canRemove:!0})}else c=e.authorName,t=(0,I.jsx)(vo,{uri:r,canPin:n,isPinned:i,canRemove:!0});return{openDeleteDialog:s,menu:t,subtitleText:(0,I.jsx)(dn.M,{searchWords:[o.trim()],textToHighlight:c})}}var ho=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.RowVariantComponent,a=e.spec,o=e.nrValidItems,l=e.index,s=t.uri,c=t.images,u=t.name,d=t.pinned,p=t.type,y=t.addedAt,f=t.lastPlayedAt,g=t.color,m=xo(t),b=m.openDeleteDialog,v=m.menu,x=m.subtitleText,h=(0,I.jsx)(Ai,{title:u,type:p,images:c,color:g});return(0,I.jsx)(Ni,{RowVariantComponent:i,uri:s,cover:h,name:u,subtitle:x,alt:u,type:p,dragLabel:u,menu:v,openDeleteDialog:b,addedAt:y,lastPlayedAt:f,isPinned:d,isPlaying:!1,isActive:!1,shouldShowType:n,spec:a,nrValidItems:o,index:l,preReleaseIcon:(0,I.jsx)(fo.t,{size:"xsmall",className:Tn.A.icon})})},Oo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=void 0!==r&&r,i=e.spec,a=e.index,o=t.uri,l=t.images,s=t.name,c=t.pinned,u=t.type,d=t.color,p=xo(t),y=p.menu,f=p.subtitleText,g=p.openDeleteDialog,m=(0,I.jsx)(Di,{title:s,type:u,images:l,uri:o,color:d,spec:i,isActive:!1,isPlaying:!1});return(0,I.jsx)(mi,{uri:o,name:s,subtitle:f,menu:y,dragLabel:s,cover:m,type:u,isPinned:c,shouldShowType:n,openDeleteDialog:g,isPlaying:!1,isActive:!1,spec:i,index:a,preReleaseIcon:(0,I.jsx)(fo.t,{size:"xsmall",className:Tn.A.icon})})},Po=r(26684);function jo(e){var t=e.uri,r=e.publisher,n=(0,u.useContext)(De.g).filter,i=(0,f.wA)(),a=(0,pn.P)({uri:t},{featureIdentifier:"show",referrerIdentifier:"your_library"}).togglePlay,o=(0,yn.l_)(t);return{isPlaying:o.isPlaying,isActive:o.isActive,openDeleteDialog:(0,u.useCallback)((function(){i((0,sn.aw)(t))}),[i,t]),togglePlay:a,menu:(0,I.jsx)(Po.H,{uri:t,canPin:e.canPin,isPinned:e.pinned,useDialogForUnfollow:!0,isInLibrary:!0}),downloadButton:(0,I.jsx)(un.M,{uri:t,size:"xsmall",className:Tn.A.icon,as:"span"}),subtitleText:(0,I.jsx)(dn.M,{autoEscape:!0,searchWords:[n.trim()],textToHighlight:r})}}var wo=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l=t.uri,s=t.images,c=t.name,u=t.type,d=t.addedAt,p=t.lastPlayedAt,y=t.pinned,f=t.color,g=jo(t),m=g.isPlaying,b=g.isActive,v=g.openDeleteDialog,x=g.togglePlay,h=g.menu,O=g.downloadButton,P=g.subtitleText,j=(0,I.jsx)(Ai,{title:c,type:u,images:s,color:f});return(0,I.jsx)(Ni,{RowVariantComponent:n,uri:l,cover:j,name:c,subtitle:P,alt:c,dragLabel:c,menu:h,togglePlay:x,openDeleteDialog:v,addedAt:d,lastPlayedAt:p,isPlaying:m,isActive:b,isPinned:y,shouldShowType:r,type:u,downloadButton:O,spec:i,nrValidItems:a,index:o})},So=function(e){var t=e.libraryItem,r=e.shouldShowType,n=e.spec,i=e.index,a=t.uri,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.color,d=jo(t),p=d.togglePlay,y=d.menu,f=d.downloadButton,g=d.subtitleText,m=d.openDeleteDialog,b=d.isPlaying,v=d.isActive,x=(0,I.jsx)(Di,{title:l,type:s,images:o,uri:a,togglePlay:p,color:u,spec:n,isActive:v,isPlaying:b});return(0,I.jsx)(mi,{uri:a,name:l,subtitle:g,menu:y,dragLabel:l,cover:x,togglePlay:p,isPinned:c,shouldShowType:r,type:s,downloadButton:f,openDeleteDialog:m,isPlaying:b,isActive:v,spec:n,index:i})},Ao=[ae.fl.EPISODES];function Do(e){var t=e.numberOfDownloadedEpisodes,r=(0,f.d4)(Da.Ht).user,n=(0,mn.fH)(null==r?void 0:r.id,"your-episodes").toURI(),i=P.Xn,a=(0,pn.P)({uri:n},{featureIdentifier:"episode",referrerIdentifier:"your_library"}).togglePlay,o=(0,yn.l_)(n),l=o.isPlaying,s=o.isActive,c=(0,u.useContext)(W.Z),d=(0,u.useCallback)((function(e){var t=e[ae.fl.EPISODES],r=void 0===t?[]:t;null!=r&&r.length&&(null==c||c.add({uris:r}))}),[c]);return{isPlaying:l,isActive:s,togglePlay:a,menu:(0,I.jsx)(Aa,{uri:i,canPin:e.canPin,isPinned:e.pinned}),downloadButton:t?(0,I.jsx)(ka.F,{size:"xsmall",className:Tn.A.icon,semanticColor:"textBrightAccent"}):null,subtitleText:A.Ru.get("web-player.your-library-x.subtitle-your-episodes"),onDropTargetDropOn:d,playbackUri:n,uri:i}}var Co=function(e){var t=e.libraryItem,r=e.RowVariantComponent,n=e.spec,i=e.nrValidItems,a=e.index,o=t.images,l=t.name,s=t.type,c=t.pinned,u=t.lastPlayedAt,d=t.addedAt,p=t.color,y=Do(t),f=y.isPlaying,g=y.isActive,m=y.togglePlay,b=y.menu,v=y.downloadButton,x=y.subtitleText,h=y.onDropTargetDropOn,O=y.playbackUri,P=y.uri,j=(0,I.jsx)(Ai,{title:l,type:s,images:o,color:p});return(0,I.jsx)(Ni,{RowVariantComponent:r,uri:P,cover:j,name:l,subtitle:x,alt:l,dragLabel:l,menu:b,allowedDropTargetDropOnMimeTypes:Ao,onDropTargetDropOn:h,togglePlay:m,addedAt:d,lastPlayedAt:u,isPlaying:f,isActive:g,isPinned:c,shouldShowType:!1,type:s,downloadButton:v,playbackUri:O,spec:n,nrValidItems:i,index:a})},To=function(e){var t=e.libraryItem,r=e.spec,n=e.index,i=t.images,a=t.name,o=t.type,l=t.pinned,s=t.color,c=Do(t),u=c.togglePlay,d=c.menu,p=c.downloadButton,y=c.subtitleText,f=c.onDropTargetDropOn,g=c.playbackUri,m=c.uri,b=c.isPlaying,v=c.isActive,x=(0,I.jsx)(Di,{title:a,type:o,images:i,uri:m,togglePlay:u,color:s,spec:r,isActive:v,isPlaying:b});return(0,I.jsx)(mi,{uri:m,name:a,subtitle:y,menu:d,dragLabel:a,allowedDropTargetDropOnMimeTypes:Ao,onDropTargetDropOn:f,cover:x,togglePlay:u,playbackUri:g,downloadButton:p,isPinned:l,shouldShowType:!1,type:o,isPlaying:b,isActive:v,spec:r,index:n})};function Ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ko=(0,be.g)(z.c),Lo=(0,u.memo)((function(e){var t=e.item,r=e.primaryFilter,n=e.spec,i=e.index,a={shouldShowType:!(0,on.c0)(t.uri)&&ti(t.type)!==r,spec:n,index:i},o=(0,b.NC)(me.lDH),l=(0,b.NC)(me.H8e);switch(t.type){case z.c.FOLDER:return(0,I.jsx)(wa,Io({libraryItem:t},a));case z.c.ALBUM:return(0,I.jsx)(_i,Io({libraryItem:t},a));case z.c.ARTIST:return(0,I.jsx)(zi,Io({libraryItem:t},a));case z.c.AUDIOBOOK:return(0,I.jsx)(Zi,Io({libraryItem:t},a));case z.c.SHOW:return(0,I.jsx)(So,Io({libraryItem:t},a));case z.c.PLAYLIST:return(0,I.jsx)(yo,Io({libraryItem:t},a));case z.c.LIKED_SONGS:return(0,I.jsx)(Ia,Io({libraryItem:t},a));case z.c.YOUR_EPISODES:return(0,I.jsx)(To,Io({libraryItem:t},a));case z.c.LOCAL_FILES:return(0,I.jsx)(Ua,Io({libraryItem:t},a));case z.c.PRE_RELEASE_ALBUM:return o?(0,I.jsx)(Oo,Io({libraryItem:t},a)):null;case z.c.PRE_RELEASE_BOOK:return l?(0,I.jsx)(Oo,Io({libraryItem:t},a)):null;default:(0,gt.d)(t)}})),Eo=function(e){var t,r=e.getItems,n=e.scrollNodeRef,i=e.primaryFilter,a=e.nrValidItems,o=e.spec,l=ln().gridScale,s=(0,en.s1)(en.yV.NEW_CARDS,l),c=(0,u.useRef)({}),d=function(){var e=ln().gridScale;return!!(0,b.NC)(me.AEN)&&e<.8}(),p=(0,u.useCallback)((function(e){return(0,I.jsx)(Va,{index:e,type:ko(i)?i:void 0},e)}),[i]),y=(0,u.useCallback)((function(e,t){return r(e,t).map((function(t,r){return t?(0,I.jsx)(Lo,{item:t,spec:o,primaryFilter:i,index:e+r},t.uri):p("".concat(e+r))}))}),[r,i,p,o]),f=(0,u.useCallback)((function(e,t){c.current={numColumns:e,rowHeight:t}}),[]);return(0,I.jsx)($r.x,{config:s,children:(0,I.jsx)(ii,{isCompact:d,children:(0,I.jsx)(an.R,{firstInteractiveIsWrapper:!0,"aria-label":A.Ru.get("web-player.your-library-x.your-library"),"aria-rowcount":Math.round(a/(null!==(t=c.current.numColumns)&&void 0!==t?t:1)),"aria-colcount":c.current.numColumns,children:(0,I.jsx)(nn,{renderItems:y,nrItems:a,estimatedItemMaxHeight:250,scrollNodeRef:n,onGridResize:f})})})})},No=r(95994),Fo=r(84556);const Mo="HjPqU_UW2egr14mRSom9",Bo="ILEuCdEH9mglJaM4gKuf",Uo="i_FRcsaqNCEJmoyObIP0",_o="tAfozCQs48q1JYdphYXi",Vo="iYP0xuQiJCgi7gx1jUPJ",Ho="FTiXRW7kAldHmLaxVQ2N",Wo="cljOO1tpzixzXctKJucK",zo="af749NDLYTDK_8LinKWD",Xo="nGWhztVvLY1BInXjcWYa",Ko="oZT8iKL42zhLAm_zE5F5",Yo="MdDY8fQ_j94mQZy7ZVXf",Zo="uNReR011bI8ML42Pgveg";var Go=function(e){switch(e){case V.fX.EXPANDED:return"expanded";case V.fX.COLLAPSED:return"collapsed";case V.fX.DEFAULT:return"default";default:throw(0,gt.k)(e)}},Jo=function(e){var t=e.folderUri,r=e.dropTargetClassName,n=e.spec,i=(0,V.$)(),a=i.isCollapsed,o=i.ylxSidebarState,l=i.setYlxSidebarState,s=i.lastUncollapsedYlxSidebarState,c=(0,T.s)(),d=(0,u.useCallback)((function(){var e=o===V.fX.COLLAPSED?s:V.fX.COLLAPSED;l(e),c.logInteraction(n.hitToggleState({stateBeforeToggle:Go(o),stateAfterToggle:Go(e)}))}),[o,s,l,c,n]),y=a?No.M:Fo.A;return(0,I.jsx)(kt.Zp,{label:a?A.Ru.get("web-player.your-library-x.expand-your-library"):A.Ru.get("web-player.your-library-x.collapse-your-library"),placement:a?"right":void 0,children:(0,I.jsx)(Rt.H,{"aria-label":a?A.Ru.get("web-player.your-library-x.expand-your-library"):A.Ru.get("web-player.your-library-x.collapse-your-library"),onClick:d,className:p()(Uo,Wo,r),condensed:!0,iconLeading:t||a?void 0:y,iconOnly:t||a?y:void 0,children:!t&&!a&&A.Ru.get("web-player.your-library-x.your-library")})})},qo=r(43757),Qo=r(80208),$o=function(e){var t=e.dropTargetClassName,r=e.spec,n=(0,V.$)(),i=n.ylxSidebarState,a=n.setYlxSidebarState,o=i===V.fX.DEFAULT,l=(0,T.s)();return(0,I.jsx)(kt.Zp,{label:o?A.Ru.get("web-player.your-library-x.show-more"):A.Ru.get("web-player.your-library-x.show-less"),children:(0,I.jsx)(Rt.H,{className:p()(Wo,Xo,t),iconOnly:o?qo.h:Qo.G,"aria-label":o?A.Ru.get("web-player.your-library-x.enlarge-your-library"):A.Ru.get("web-player.your-library-x.reduce-your-library"),onClick:function(){a(o?V.fX.EXPANDED:V.fX.DEFAULT),l.logInteraction(r.hitToggleState({stateBeforeToggle:o?"default":"expanded",stateAfterToggle:o?"expanded":"default"}))},size:"small"})})},el=r(60009),tl=r(60828),rl=function(e){var t=e.folderMenu,r=e.folderName,n=e.dropTargetClassName;return(0,I.jsx)(tl.b,{menu:t,children:(0,I.jsx)("span",{children:(0,I.jsx)(kt.Zp,{label:A.Ru.get("more.label.context",r),children:(0,I.jsx)(Rt.H,{className:p()(Wo,Xo,n),iconOnly:el.x,"aria-haspopup":"menu","aria-label":A.Ru.get("more.label.context",r),size:"small"})})})})},nl=r(28209),il=r(10573),al=function(e){var t=e.dropTargetClassName,r=e.spec,n=(0,rt.t)(),i=n.isGridView,a=n.setItemsView,o=(0,T.s)();return(0,I.jsx)(kt.Zp,{label:i?A.Ru.get("web-player.your-library-x.list-view"):A.Ru.get("web-player.your-library-x.grid-view"),children:(0,I.jsx)(Rt.H,{className:p()(Wo,t),iconOnly:i?nl.N:il.D,"aria-label":i?A.Ru.get("web-player.your-library-x.list-view"):A.Ru.get("web-player.your-library-x.grid-view"),onClick:function(){a(i?rt.X.LIST:rt.X.GRID),o.logInteraction(r.hitToggleState({stateBeforeToggle:i?"grid":"list",stateAfterToggle:i?"list":"grid"}))},size:"small"})})},ol=r(53980);var ll=r(29318),sl=r(70548),cl=r(93662),ul=function(e){var t=e.folderUri,r=e.spec,n=(0,C.A)().createPlaylist,i=(0,ha.Z)().createFolder,a=(0,T.s)(),o=(0,Ne.V)(),l=t?{after:{uri:t}}:{before:"start"};return(0,I.jsxs)(h.W,{children:[(0,I.jsx)(D.D,{onClick:function(){n(void 0,l),a.logInteraction(r.createPlaylistOptionFactory().hitCreatePlaylist())},role:"menuitem",leadingIcon:(0,I.jsx)(S.u,{size:"small"}),children:A.Ru.get("web-player.your-library-x.create.create-a-new-playlist")}),!o&&(0,I.jsx)(D.D,{onClick:function(){i(A.Ru.get("web-player.your-library-x.default_folder_name"),l),a.logInteraction(r.createFolderOptionFactory().hitCreateFolder())},role:"menuitem",leadingIcon:(0,I.jsx)(cl.h,{size:"small"}),children:A.Ru.get("web-player.your-library-x.create.create-a-playlist-folder")})]})},dl=["className","dropPosition"];function pl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fl=function(e){var t=e.className,r=void 0===t?"":t,o=e.folderUri,l=e.tooltipPlacement,s=e.spec,c=A.Ru.get("web-player.your-library-x.create.button-label"),d=(0,T.s)(),y=co().canAddAudiobooks,f=(0,C.A)(),g=f.createPlaylistFromAlbum,m=f.createPlaylistFromTracks,b=f.createPlaylistFromPlaylist,v=(0,le.A)({allowedMimeTypesByDropPosition:(0,i.A)({},oe.Nz.ON,[ae.fl.TRACKS,ae.fl.EPISODES,ae.fl.ALBUMS,ae.fl.PLAYLISTS_V2].concat((0,n.A)(y?[ae.fl.AUDIOBOOKS]:[]))),onDrop:(0,u.useCallback)((function(e){var t=e[ae.fl.TRACKS],r=void 0===t?[]:t,i=e[ae.fl.LOCAL_TRACKS],a=void 0===i?[]:i,l=e[ae.fl.EPISODES],s=void 0===l?[]:l,c=e[ae.fl.AUDIOBOOKS],u=void 0===c?[]:c,d=e[ae.fl.ALBUMS],p=void 0===d?[]:d,y=e[ae.fl.PLAYLISTS_V2],f=void 0===y?[]:y,v=o?{after:{uri:o}}:{before:"start"},x=[].concat((0,n.A)(r),(0,n.A)(a),(0,n.A)(s));u.length>0?m(u,v):x.length?m(x,v):p.length>0?g(p[0],v):f.length>0&&b(f[0],v)}),[g,b,m,o])}),x=v.className,h=v.dropPosition,O=(0,a.A)(v,dl);return(0,I.jsx)(sl.t,{renderInline:!0,menu:(0,I.jsx)(ul,{folderUri:o,spec:s.createMenuFactory()}),preventScrollingWhileOpen:!1,children:function(e,t,n){return(0,I.jsx)(kt.Zp,{label:c,placement:l,children:(0,I.jsx)(Rt.H,yl({ref:n,iconOnly:ll.u,className:p()(r,x,(0,i.A)({},Nr,h===oe.Nz.ON)),"aria-label":c,onClick:function(e){t(e),d.logInteraction(s.hitUiReveal())},size:"small"},O))})}})},gl=r(58618),ml=["dropPosition","className"];function bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xl=function(e){var t,r=e.handleNavigateBack,n=Yn({dropTargetUri:e.parentFolderUri,spec:e.spec}).handleDropBeforeOrAfterRootlistItem,o=(0,le.A)({allowedMimeTypesByDropPosition:(0,i.A)({},oe.Nz.ON,He),onDrop:(t=(0,l.A)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t,oe.Nz.BEFORE);case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onLongDragOver:r}),s=o.dropPosition,u=o.className,d=(0,a.A)(o,ml);return(0,I.jsx)(kt.Zp,{label:A.Ru.get("web-player.your-library-x.navigate-back-folder"),children:(0,I.jsx)(Rt.H,vl({className:p()(Wo,zo,u,(0,i.A)({},Nr,s===oe.Nz.ON)),"aria-label":A.Ru.get("web-player.your-library-x.navigate-back-folder"),onClick:r,iconOnly:gl.g,size:"small"},d))})},hl=(0,u.forwardRef)((function(e,t){var r=e.folderUri,n=e.folderName,i=e.folderMenu,a=e.onRename,o=e.spec,l=e.className,s=(0,yn.l_)(null!=r?r:"not-a-folder").isActive,c=(0,f.wA)(),d=(0,T.s)(),y=(0,u.useCallback)((function(){c((0,sn.O2)(n,a)),d.logInteraction(o.hitRenameFolder({uri:r}))}),[c,n,r,d,a,o]);return(0,I.jsx)(kt.Zp,{label:n,showDelay:kt.uF,children:(0,I.jsx)("div",{className:p()(Yo,l),children:(0,I.jsx)(x.h,{menu:i,children:(0,I.jsx)(Rt.H,{"aria-label":n,onClick:y,size:"small",condensed:!0,className:p()(Wo),ref:t,children:(0,I.jsx)(ke.E,{variant:"bodyMediumBold",semanticColor:s?"textBrightAccent":void 0,className:Zo,children:n})})})})})})),Ol=r(37742),Pl=r(31710),jl=r(25990);const wl="fJrnaZd0QWm65978IgD2",Sl="yCpl0fAaEYj7E8F_Oabw";var Al=function(){var e,t,r,n,i,a,l=(e=(0,u.useState)({syncing:!1,percentage:0,totalItems:0,currentItem:0}),t=(0,o.A)(e,2),r=t[0],n=t[1],i=Pl.I.UPDATE_TOTAL_PROGRESS,a=(0,u.useCallback)((function(e){return n(e.data.progress)}),[]),(0,jl.b)(i,a),r),s=l.syncing,c=l.percentage,d=l.currentItem,p=l.totalItems;return s?(0,I.jsxs)("div",{className:wl,children:[(0,I.jsxs)("div",{className:Sl,children:[(0,I.jsx)(ke.E,{variant:"bodySmallBold",semanticColor:"textBase",children:A.Ru.get("web-player.your-library-x.download-progress-title")}),(0,I.jsx)(ke.E,{variant:"bodySmallBold",semanticColor:"textBase",children:A.Ru.get("web-player.your-library-x.download-progress-count-out-of-total",d,p)})]}),(0,I.jsx)(Ol.z,{value:c})]}):null},Dl=function(e){var t=e.parentDropTargetClassName,r=e.isLibraryCompletelyEmpty,n=e.folderUri,a=e.folderName,o=e.spec,l=(0,V.$)(),s=l.isCollapsed,c=l.ylxSidebarState,d=l.canExpand,y=(0,ha.Z)().renameFolder,f=(0,u.useContext)(Je).popFolder,g=(0,u.useCallback)((function(){n&&y({uri:n},arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}),[n,y]),v=(0,u.useCallback)((function(){f()}),[f]),x=n?(0,I.jsx)(ga,{reference:{uri:n},name:a,onRename:g,onDeleteCallback:v}):null,h=Ke().dropOriginIsYLX,O=!s&&n&&void 0!==a,P=(0,u.useRef)(null),j=(0,u.useRef)(null),w=(0,u.useRef)(null);!function(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),a=3;a<n;a++)i[a-3]=arguments[a];var o=(0,m.U0)((function(){if(e.current)if(t.current instanceof HTMLElement){e.current.style.display="block";var r=t.current,n=r.scrollWidth>r.offsetWidth;e.current.style.display=n?"none":"block"}else e.current.style.display="block"}),[i]);(0,u.useLayoutEffect)(o,[o]),(0,Oi.w)({refOrElement:r,observeOnly:"width",onResize:o})}(w,(0,u.useMemo)((function(){return{get current(){var e,t;return(null===(e=j.current)||void 0===e?void 0:e.firstElementChild)instanceof HTMLElement?null===(t=j.current)||void 0===t?void 0:t.firstElementChild:null}}}),[]),P,a,O);var S=(0,b.NC)(me.AEN),A=(0,ol.A)(),D=!s||r&&s;return(0,I.jsxs)("header",{className:p()(Mo,(0,i.A)((0,i.A)({},Bo,A),Ko,s)),ref:P,children:[!s&&(0,I.jsx)(Al,{}),(0,I.jsxs)("div",{className:p()(_o,(0,i.A)({},Vo,s)),children:[(0,I.jsxs)("div",{className:p()(Ho,(0,i.A)({},Vo,s)),children:[(0,I.jsx)(Jo,{folderUri:n,dropTargetClassName:t,spec:o.toggleCollapsedModeButtonFactory({identifier:""})}),n&&(0,I.jsx)(xl,{handleNavigateBack:v,parentFolderUri:n,spec:o.folderBackButtonFactory()}),O&&(0,I.jsx)(hl,{folderUri:n,folderName:a,folderMenu:x,onRename:g,spec:o.folderTitleFactory(),className:h?t:void 0,ref:j},n)]}),D&&(0,I.jsx)("span",{ref:w,children:(0,I.jsx)(fl,{className:p()(Wo,Xo),folderUri:n,tooltipPlacement:s?"right":void 0,spec:o.createMenuButtonFactory()})}),n&&!s&&(0,I.jsx)(rl,{folderName:a,folderMenu:x,dropTargetClassName:t}),c===V.fX.EXPANDED&&!S&&(0,I.jsx)(al,{dropTargetClassName:t,spec:o.viewDensityToggleFactory({identifier:""})}),(c===V.fX.DEFAULT&&d||c===V.fX.EXPANDED)&&(0,I.jsx)($o,{dropTargetClassName:t,spec:o.toggleExpandedModeButtonFactory({identifier:""})})]})]})},Cl=r(95147),Tl=r(41861),Rl=r(21560),Il=r(49674),kl=function(e){var t=e.date;return(0,I.jsx)(ke.E,{variant:"bodySmall",semanticColor:"textSubdued",className:Pr,children:t&&A.Ru.formatRelativeDate(new Date(t),{year:"numeric",month:"short",day:"numeric",timeZone:"UTC"})})};function Ll(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function El(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ll(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Nl=function(e){var t,r=e.handleNavigate,n=(0,I.jsx)(Un,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:r,playbackUri:e.playbackUri}),i=null!==(t=e.expandFolderButton)&&void 0!==t?t:e.isPlaying&&(0,I.jsx)(hn,{}),a=(0,I.jsx)(Rn,{leading:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ri.g,{pinned:e.isPinned}),e.preReleaseIcon,e.downloadButton,e.lockedIcon]}),subtitle:(0,I.jsxs)(I.Fragment,{children:[e.shouldShowType&&ei(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),o=e.logRightClick,l=(0,I.jsx)(x.h,{menu:e.menu,onShow:o,children:(0,I.jsx)(vn.E,{uri:e.uri,trigger:vn.l.OnMouseDown,children:(0,I.jsx)(Rl.v,{className:ur,media:e.cover,title:n,subtitle:a,trailing:i,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:gn.v4,onClick:e.onClick,hoverAnimationDuration:"0ms"})})});return(0,on.c0)(e.uri)?(0,I.jsx)(Pn.cW,{parentRef:e.parentRef,children:l}):l},Fl=function(e){var t=e.handleNavigate,r=(0,I.jsx)(Un,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:t,playbackUri:e.playbackUri}),n=(0,I.jsx)(Rn,{leading:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ri.g,{pinned:e.isPinned}),e.preReleaseIcon,e.downloadButton,e.lockedIcon]}),subtitle:(0,I.jsxs)(I.Fragment,{children:[e.shouldShowType&&ei(e.type),!!e.subtitle&&e.shouldShowType&&" • ",e.subtitle]}),uri:e.uri}),i=e.logRightClick;return(0,I.jsx)(An,El(El({},e),{},{title:r,subtitleSlot:n,parentRef:e.parentRef,children:(0,I.jsxs)("div",{children:[(0,I.jsx)(x.h,{menu:e.menu,onShow:i,children:(0,I.jsx)(vn.E,{uri:e.uri,trigger:vn.l.OnMouseDown,children:(0,I.jsx)(Rl.v,{className:p()(ur,pr),media:e.cover,id:e.uri,padding:gn.v4,onClick:e.onClick,variant:void 0,title:void 0,hoverAnimationDuration:"0ms"})})}),(0,I.jsxs)("span",{className:Cr,children:[r," ",n]})]})}))},Ml=function(e){var t=(0,u.useRef)(null),r=e.logRightClick;return(0,I.jsx)(x.h,{menu:e.menu,onShow:r,children:(0,I.jsxs)("div",{className:Or,ref:t,children:[(0,I.jsx)(Nl,El(El({},e),{},{parentRef:t})),(0,I.jsx)(kl,{date:e.addedAt}),(0,I.jsx)(kl,{date:e.lastPlayedAt})]})})},Bl=function(e){var t,r=e.handleNavigate,n=(0,I.jsxs)("div",{className:Sr,children:[(0,I.jsx)(Un,{uri:e.uri,title:e.name,menu:e.menu,handleNavigate:r,playbackUri:e.playbackUri}),e.shouldShowType&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Il.v,{children:"•"}),(0,I.jsx)(Il.v,{lineClamp:1,children:ei(e.type)})]}),(!e.shouldShowType&&e.type===z.c.ALBUM||(0,on.c0)(e.uri))&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Il.v,{children:"•"}),(0,I.jsx)(Rn,{leading:null,uri:e.uri,subtitle:e.subtitle})]})]}),i=(0,I.jsx)(ri.g,{pinned:e.isPinned}),a=null!==(t=e.expandFolderButton)&&void 0!==t?t:e.isPlaying?(0,I.jsx)(hn,{iconSize:"xsmall"}):(0,I.jsxs)(I.Fragment,{children:[e.downloadButton&&(0,I.jsx)("div",{className:fr,children:e.downloadButton}),e.preReleaseIcon&&(0,I.jsx)("div",{className:fr,children:e.preReleaseIcon}),e.lockedIcon&&(0,I.jsx)("div",{className:fr,children:e.lockedIcon})]}),o=e.logRightClick;return(0,I.jsx)(x.h,{menu:e.menu,onShow:o,children:(0,I.jsx)(vn.E,{uri:e.uri,trigger:vn.l.OnMouseDown,children:(0,I.jsx)(Rl.v,{className:p()(ur,dr),title:n,leading:e.isPinned?i:void 0,trailing:a,id:e.uri,variant:e.isViewActive?"tinted":void 0,padding:"".concat(gn.vw," ").concat(gn.v4),onClick:e.onClick,size:"sm",hoverAnimationDuration:"0ms"})})})},Ul=function(e){var t=e.logRightClick;return(0,I.jsx)(x.h,{menu:e.menu,onShow:t,children:(0,I.jsxs)("div",{className:Or,children:[(0,I.jsx)(Bl,El({},e)),(0,I.jsx)(kl,{date:e.addedAt}),(0,I.jsx)(kl,{date:e.lastPlayedAt})]})})},_l=function(e){var t=e.height,r=e.isCompact,n=e.primaryFilter;return(0,I.jsx)(Ci.c,{className:p()((0,i.A)((0,i.A)((0,i.A)({},br,!r),xr,r),vr,n===z.c.ARTIST)),style:{height:t}})};function Vl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vl(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wl=(0,u.memo)((function(e){var t=e.item,r=e.primaryFilter,n=e.RowVariantComponent,i=e.spec,a=e.nrValidItems,o=e.index,l={shouldShowType:!(0,on.c0)(t.uri)&&ti(t.type)!==r,RowVariantComponent:n,spec:i,nrValidItems:a,index:o},s=(0,b.NC)(me.lDH),c=(0,b.NC)(me.H8e);switch(t.type){case z.c.FOLDER:return(0,I.jsx)(ja,Hl({libraryItem:t},l));case z.c.ALBUM:return(0,I.jsx)(Ui,Hl({libraryItem:t},l));case z.c.ARTIST:return(0,I.jsx)(Wi,Hl({libraryItem:t},l));case z.c.AUDIOBOOK:return(0,I.jsx)(Yi,Hl({libraryItem:t},l));case z.c.SHOW:return(0,I.jsx)(wo,Hl({libraryItem:t},l));case z.c.PLAYLIST:return(0,I.jsx)(po,Hl({libraryItem:t},l));case z.c.LIKED_SONGS:return(0,I.jsx)(Ra,Hl({libraryItem:t},l));case z.c.YOUR_EPISODES:return(0,I.jsx)(Co,Hl({libraryItem:t},l));case z.c.LOCAL_FILES:return(0,I.jsx)(Ba,Hl({libraryItem:t},l));case z.c.PRE_RELEASE_ALBUM:return s?(0,I.jsx)(ho,Hl({libraryItem:t},l)):null;case z.c.PRE_RELEASE_BOOK:return c?(0,I.jsx)(ho,Hl({libraryItem:t},l)):null;default:(0,gt.d)(t)}})),zl=function(e){var t=e.getItems,r=e.scrollNodeRef,n=e.primaryFilter,i=e.nrValidItems,a=e.spec,o=(0,V.vW)(),l=it(),s=l.rowHeight,c=l.libraryRowMode===nt.COMPACT,d=function(e,t){switch(e){case V.fX.COLLAPSED:return Fl;case V.fX.DEFAULT:return t?Bl:Nl;case V.fX.EXPANDED:return t?Ul:Ml;default:(0,gt.d)(e)}}(o,c),p=(0,u.useCallback)((function(e,t){return(0,I.jsx)(_l,{height:e,isCompact:c,primaryFilter:n},t)}),[c,n]),y=(0,u.useCallback)((function(e,r){return t(e,r).map((function(t,r){return t?(0,I.jsx)(Wl,{item:t,spec:a,RowVariantComponent:d,primaryFilter:n,nrValidItems:i,index:e+r},t.uri):p("".concat(s,"px"),"".concat(e+r))}))}),[d,t,n,p,s,a,i]);return(0,I.jsx)(Tl.$,{circular:!1,allowsMultipleInteractiveChildrenInItem:!0,"aria-label":A.Ru.get("web-player.your-library-x.your-library"),children:(0,I.jsx)(Cl.L,{renderRows:y,nrRows:i,rowHeight:s,scrollNodeRef:r,renderPlaceholder:p})})},Xl=r(77700),Kl=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,Ze.x)("onboarding-dismissed:ylx-playlist-ordering",!1),n=(0,o.A)(r,2),i=n[0],a=n[1],l=(0,Ze.x)("onboarding-dismissed-amount:ylx-playlist-ordering",0),s=(0,o.A)(l,2),c=s[0],d=s[1],p=(0,u.useState)(!1),y=(0,o.A)(p,2),f=y[0],g=y[1],m=Ke().dropOriginIsYLX,b=(0,u.useContext)(ce.O_).draggingIsInProgress;(0,u.useEffect)((function(){b&&m&&g(!0)}),[b,m]);var v=(0,u.useCallback)((function(){a(!0),g(!1),d(c+1)}),[c,d,a]);return{show:e&&c<3&&(!i||f)&&(t||f),onHide:v}},Yl=r(8143),Zl=r(19006),Gl=r(88728);const Jl="cZ3IJprhLYLVtLoxVtDe",ql="C8nlESBb6d0huyAhMq2v",Ql="yclq4HDmRA_euiUYwB9O";var $l=function(e){var t,r,n=e.title,i=e.bodyText,a=e.children,l=e.root,s=e.show,c=e.childrenWrapperClassName,d=e.onHide,p=(0,u.useState)(null),y=(0,o.A)(p,2),f=y[0],g=y[1],m=(0,u.useState)(null),v=(0,o.A)(m,2),x=v[0],h=v[1],O=(0,b.NC)(me.zJD),P=(0,u.useCallback)((function(){d()}),[d]);(0,u.useEffect)((function(){if(!s)return function(){};var e=function(e){"Escape"===e.key&&P()};return window.addEventListener("keydown",e,!0),function(){window.removeEventListener("keydown",e,!0)}}),[P,x,s]);var j=null==f?void 0:f.getBoundingClientRect();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("span",{ref:g,className:c,children:a}),j&&s&&O&&(0,Yl.createPortal)((0,I.jsx)("div",{className:Jl,style:{top:null!==(t=null==j?void 0:j.top)&&void 0!==t?t:0,left:null!==(r=null==j?void 0:j.left)&&void 0!==r?r:0,width:null==j?void 0:j.width,height:null==j?void 0:j.height},ref:h,children:(0,I.jsxs)(Zl.A,{popoverTitle:n,arrow:Zl.A.left,colorSet:"announcement",className:ql,children:[(0,I.jsx)(ke.E,{as:"p",dangerouslySetInnerHTML:{__html:i||""}}),(0,I.jsx)(Rt.H,{size:"small",onClick:P,iconOnly:Gl.M,"aria-label":A.Ru.get("close"),className:Ql})]})}),l||document.body)]})},es=r(65791),ts=r(35248),rs=r(20347),ns=r(17739),is=function(e,t,r){var n,i=t.closest('li[role="presentation"]'),a=null===(n=e.parentElement)||void 0===n?void 0:n.querySelectorAll('ul[role="menu"]');if(r===ns.O.UP){var o,l=null==a?void 0:a[a.length-1],s=e.previousElementSibling,c=null==i||null===(o=i.previousElementSibling)||void 0===o?void 0:o.previousElementSibling;if(t instanceof HTMLUListElement||!c){if(s&&s instanceof HTMLUListElement)return s;if(l&&l instanceof HTMLUListElement)return l}}else{if(!(null==i?void 0:i.nextElementSibling)){var u=e.nextElementSibling;return u&&u instanceof HTMLUListElement?u:null==a?void 0:a[0]}}};const as="GvHaMehoYEIaLhHafB4F",os="GG5skerNjHXAO6tXyyY0",ls="ijaSPbJ8wd3RNiyukjlh",ss="w0nWe_59HwsG7nQLoibF",cs="LbAtRPub21imosz1Xjht";var us=[{itemsViewState:rt.X.LIST,compactModeState:nt.COMPACT},{itemsViewState:rt.X.LIST,compactModeState:nt.DEFAULT},{itemsViewState:rt.X.GRID,compactModeState:nt.DEFAULT}],ds=function(e,t,r){return Math.round((e+t)*r)/r},ps=function(e){return e.itemsViewState===rt.X.GRID?A.Ru.get("web-player.your-library-x.sort-and-view-picker.grid"):e.compactModeState===nt.COMPACT?A.Ru.get("web-player.your-library-x.sort-and-view-picker.compact"):A.Ru.get("web-player.your-library-x.sort-and-view-picker.list")},ys=function(e){var t=e.selectedSort,r=e.selectedView,n=e.onSortSelect,i=e.onViewSelect,a=e.sortOptions,o=e.spec,l=e.id,s=(0,T.s)(),c=(0,u.useCallback)((function(e){return e.itemsViewState===rt.X.GRID?(0,I.jsx)(il.D,{size:"small"}):e.compactModeState===nt.COMPACT?(0,I.jsx)(es.d,{size:"small"}):(0,I.jsx)(nl.N,{size:"small"})}),[]),d=ln(),p=d.gridScale,y=d.setGridScale,f=function(e){var t=ds(e,.5,100);y(t),s.logInteraction(o.gridDensitySliderFactory().dragSetSliderPosition({position:t}))},g=(0,u.useCallback)((function(e){y(e),s.logInteraction(o.gridDensitySliderFactory().hitSetSliderPosition({position:e}))}),[s,y,o]),m=function(e){var t;return null==e||null===(t=e.parentElement)||void 0===t?void 0:t.querySelector("ul")},b=(0,u.useRef)(null);return(0,I.jsxs)("div",{id:l,className:ls,ref:b,children:[(0,I.jsxs)(h.W,{"aria-label":A.Ru.get("web-player.your-library-x.sort_by"),onFocusVerticalItem:is,getInitialFocusElement:m,children:[(0,I.jsx)(ts.y,{children:A.Ru.get("web-player.your-library-x.sort_by")}),a.map((function(e,r){var i=e.key,o=e.value;return(0,I.jsx)(D.D,{role:"menuitemradio","aria-checked":i===t.key,onClick:function(){return n(i,r)},divider:r===a.length-1?"after":void 0,autoClose:!1,children:o},i)}))]}),(0,I.jsxs)(h.W,{"aria-label":A.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as"),onFocusVerticalItem:is,getInitialFocusElement:m,children:[(0,I.jsx)(ts.y,{children:A.Ru.get("web-player.your-library-x.sort-and-view-picker.view-as")}),us.map((function(e){var t=ps(e),n=e.itemsViewState===r.itemsViewState&&e.compactModeState===r.compactModeState;return(0,I.jsx)(D.D,{role:"menuitemradio","aria-checked":n,onClick:function(){return i(e)},leadingIcon:c(e),autoClose:!1,children:t},t)})),rt.X.GRID===r.itemsViewState&&(0,I.jsx)("li",{role:"presentation",children:(0,I.jsx)("div",{role:"menuitem",className:cs,children:(0,I.jsx)(rs.z2,{labelText:A.Ru.get("web-player.your-library-x.sort-and-view-picker.grid-density-label"),value:ds(p,-.5,100),max:1,step:.1,onDragStart:f,onDragMove:f,onDragEnd:f,onStepBackward:function(){return g(ds(p,-.1,10))},onStepForward:function(){return g(ds(p,.1,10))},forceActiveStyles:!0,"data-roving-interactive":"1"})})})]})]})},fs=function(e){var t,r,n,i=e.sortOptions,a=e.selectedSort,l=e.onSortSelect,s=e.root,c=e.showReorderingOnboarding,d=e.scrollNodeRef,p=e.spec,y=(0,rt.t)(),f=y.itemsView,g=y.setItemsView,m=it(),b=m.libraryRowMode,v=m.setLibraryRowMode,x=(0,T.s)(),h=(0,u.useCallback)((function(){x.logInteraction(p.hitUiReveal())}),[x,p]),O=(0,u.useMemo)((function(){return f===rt.X.GRID?{itemsViewState:rt.X.GRID,compactModeState:nt.DEFAULT}:b===nt.COMPACT?{itemsViewState:rt.X.LIST,compactModeState:nt.COMPACT}:{itemsViewState:rt.X.LIST,compactModeState:nt.DEFAULT}}),[f,b]),P=(0,u.useCallback)((function(e){var t=p.viewAsOptionFactory({identifier:"grid",position:3}).hitUiElementToggle();e.itemsViewState===rt.X.GRID?g(rt.X.GRID):e.compactModeState===nt.COMPACT?(t=p.viewAsOptionFactory({identifier:"compact",position:1}).hitUiElementToggle(),g(rt.X.LIST),v(nt.COMPACT)):(t=p.viewAsOptionFactory({identifier:"list",position:2}).hitUiElementToggle(),g(rt.X.LIST),v(nt.DEFAULT)),x.logInteraction(t)}),[x,g,v,p]),j=(0,u.useRef)(null),w=(0,Te.y)(d,"0px 0px 0px 0px",.75,j),S=(0,Ze.x)("sort-view-picker-onboarding-seen",!1),D=(0,o.A)(S,2),C=D[0],R=D[1],k=Kl(C&&c,!w),L=k.show,E=k.onHide,N=(0,u.useCallback)((function(){h(),R(!0)}),[h,R]);return(0,I.jsx)($l,{bodyText:A.Ru.get("web-player.your-library-x.sort-and-view-picker.view-onboarding"),root:s,show:!C&&!w,childrenWrapperClassName:os,onHide:function(){return R(!0)},children:(0,I.jsx)($l,{bodyText:A.Ru.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:s,show:L,childrenWrapperClassName:os,onHide:E,children:(0,I.jsx)(tl.b,{menu:(0,I.jsx)(ys,{selectedSort:a,selectedView:{itemsViewState:null!==(t=O.itemsViewState)&&void 0!==t?t:rt.X.LIST,compactModeState:null!==(r=O.compactModeState)&&void 0!==r?r:nt.DEFAULT},sortOptions:i,onSortSelect:l,onViewSelect:P,spec:p,id:"sort-and-view-picker"}),placement:"bottom-end",children:(0,I.jsx)(Rt.H,{"aria-label":A.Ru.get("web-player.your-library-x.sort-and-view-picker.button-aria-label",a.value,ps(O)),onClick:N,size:"small",iconTrailing:(n=O,n.itemsViewState===rt.X.GRID?il.D:n.compactModeState===nt.COMPACT?es.d:nl.N),ref:j,role:"combobox","aria-controls":"sort-and-view-picker",children:(0,I.jsx)(ke.E,{variant:"bodySmall",className:ss,children:a.value})})})})})},gs=function(e){var t,r,n,i,a,o=e.sortOrders,l=e.activeSortOrderId,s=e.setActiveSortOrderId,c=e.root,d=e.showReorderingOnboarding,p=e.spec,y=e.scrollNodeRef,f=(0,u.useMemo)((function(){return p.sortMenuButtonFactory()}),[p]),g=(0,u.useMemo)((function(){return p.sortbyViewasMenuButtonFactory()}),[p]),m=(0,T.s)(),v=(0,at.t)(),x=null!==(t=o.find((function(e){return e.id===l})))&&void 0!==t?t:null==o?void 0:o.at(0),h=(0,u.useRef)(null),O=(0,b.NC)(me.AEN),P=(0,u.useCallback)((function(e,t){s(e);var r=v.getSortOrderLabel(e);O?m.logInteraction(g.sortOptionFactory({identifier:r,position:t}).hitSort()):m.logInteraction(f.sortMenuFactory().sortOptionFactory({identifier:r,position:t}).hitSort())}),[v,m,s,g,f,O]),j=Kl(d),w=j.show,S=j.onHide;return O?(0,I.jsx)(fs,{sortOptions:o.map((function(e){return{key:e.id,value:e.name}})),selectedSort:{key:null!==(i=null==x?void 0:x.id)&&void 0!==i?i:"",value:null!==(a=null==x?void 0:x.name)&&void 0!==a?a:""},onSortSelect:P,root:c,showReorderingOnboarding:d,scrollNodeRef:y,spec:g}):(0,I.jsx)("div",{className:as,ref:h,children:(0,I.jsx)($l,{bodyText:A.Ru.get("web-player.your-library-x.custom-ordering-onboarding-text"),root:c,show:w,childrenWrapperClassName:os,onHide:S,children:(0,I.jsx)(Xl.g,{options:o.map((function(e){return{key:e.id,value:e.name}})),onClick:function(){m.logInteraction(f.hitUiReveal())},onSelect:P,selected:{key:null!==(r=null==x?void 0:x.id)&&void 0!==r?r:"",value:null!==(n=null==x?void 0:x.name)&&void 0!==n?n:""},heading:A.Ru.get("web-player.your-library-x.sort_by"),ariaLabel:A.Ru.get("web-player.your-library-x.sort_by")})})})},ms=r(19008),bs=r(43724);var vs=function(e){var t=e.clearOnEscapeInElementRef,r=e.primaryFilter,n=e.spec,i=(0,at.t)(),a=(0,T.s)(),o=function(e){switch(e){case z.c.PRE_RELEASE_ALBUM:case z.c.ALBUM:return A.Ru.get("web-player.your-library-x.text-filter.albums-placeholder");case z.c.ARTIST:return A.Ru.get("web-player.your-library-x.text-filter.artists-placeholder");case z.c.PLAYLIST:return A.Ru.get("web-player.your-library-x.text-filter.playlists-placeholder");case z.c.SHOW:return A.Ru.get("web-player.your-library-x.text-filter.shows-placeholder");case z.c.PRE_RELEASE_BOOK:case z.c.AUDIOBOOK:return A.Ru.get("web-player.your-library-x.text-filter.audiobooks-placeholder");case"downloaded":return A.Ru.get("web-player.your-library-x.text-filter.downloaded-placeholder");case void 0:return A.Ru.get("web-player.your-library-x.text-filter.generic-placeholder");default:return void(0,gt.k)(e)}}(r),l=(0,u.useCallback)((function(){return a.logInteraction(n.searchButtonFactory().hitUiReveal()),!0}),[a,n]),s=(0,u.useCallback)((function(){return a.logInteraction(n.textFilterFactory().keyStrokeClearFilter()),!0}),[a,n]);return(0,I.jsx)(ms.S,{placeholder:o,clearOnEscapeInElementRef:t,debounceFilterChangeTimeout:null!=i&&i.getCapabilities().canTextFilterContentsInRealtime?0:void 0,expandDirection:"right",onActivate:l,onClear:s,useExpandCallback:function(e){(0,bs.f)(U.gO.FOCUS_YLX_TEXT_FILTER,e)}})};const xs="hgJel0bLlS_1Uf0EIfSA",hs="uBqliBvyhxGsiql8_OJv",Os="iwhVJuPipY1lrQIjaA1k",Ps="WxM1eb7qnneSkMiT4dvw",js="_W_0W9Uld1vxrRfsgdQR",ws="sikBfynL1Y6I25nVpbAg",Ss="KwShd3RdVrsX6dGLJNxT",As="msaOP0MYt3paJGpbdeJs",Ds="qOtD4rsRpIMhQLCjJ4K3",Cs="RHRitk6QC3rvuG24RAdj",Ts="paiZmlAHHhmZonuGJRAr";var Rs=["dropPosition","className"],Is=["offset","limit","items"];function ks(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ks(Object(r),!0).forEach((function(t){(0,i.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ks(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Es={items:[],totalLength:0},Ns=function(){return null},Fs=function(){var e,t,r,s,d,f,h,O=(0,u.useContext)(De.g).filter,j=(0,u.useState)(null),w=(0,o.A)(j,2),S=w[0],A=w[1],D=function(e){var t=(0,u.useContext)(Je),r=t.openedFolderUri,n=void 0===r?Ge:r,a=t.change,l=t.resetFolder,s=(0,u.useRef)(n),c=(0,Ze.x)("ylx-active-filter-ids",(0,i.A)({},n,[])),d=(0,o.A)(c,2),p=d[0],y=d[1],f=(0,u.useRef)(!0),g=(0,m.U0)((function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=new Set(e);a.has(t)?a.delete(t):a.add(t),f.current=r,y($e($e({},p),{},(0,i.A)({},n,Array.from(a))))}),[e,y,n]),b=(0,u.useCallback)((function(){return y($e($e({},p),{},(0,i.A)({},n,[])))}),[n,p,y]),v=(0,u.useCallback)((function(e){n&&l(),y($e($e({},p),{},(0,i.A)({},Ge,e?[e]:[])))}),[n,l,p,y]);return(0,u.useLayoutEffect)((function(){n!==s.current&&n!==Ge&&"PUSH"===a&&y($e($e({},p),{},(0,i.A)({},n,p[s.current]))),s.current=n}),[a,n,p,y]),{filtersPickedByUserRef:f,selectedFilterIds:p[n],resetFilterIds:b,resetAndToggleRootFilter:v,toggleFilterId:g}}(null!==(e=null==S||null===(t=S.selectedFilters)||void 0===t?void 0:t.map((function(e){return e.id})))&&void 0!==e?e:[]),C=D.filtersPickedByUserRef,R=D.selectedFilterIds,k=D.resetFilterIds,L=D.resetAndToggleRootFilter,E=D.toggleFilterId,N=function(e){var t=(0,at.t)().getContentsPrimaryFilterId(z.c.PLAYLIST),r=(0,u.useContext)(Je).openedFolderUri,n=void 0===r?"":r,a=(0,Ze.x)("ylx-active-sort-order-by-filter-id",{}),l=(0,o.A)(a,2),s=l[0],c=l[1],d="".concat(n&&t?t:e);return{selectedSortOrderId:s[d],setSelectedSortOrderId:(0,u.useCallback)((function(e){c(vt(vt({},s),{},(0,i.A)({},d,e)))}),[d,s,c])}}(null==R?void 0:R[0]),M=N.selectedSortOrderId,J=N.setSelectedSortOrderId,q=(0,u.useRef)(null),Q=(0,u.useRef)(null),ee=(0,u.useRef)(null),te=function(){var e=(0,u.useContext)(Ye);if(!e)throw new Error("useExpandedFolders must be used within a ExpandedFoldersProvider");return e}().expandedFolders,de=(0,u.useContext)(Je),pe=de.openedFolderUri,ye=de.resetFolder,fe=(0,Ce.p)(),ge=(0,Y.P)(),be=(0,u.useContext)(W.Z),ve=(0,Z.g)(),xe=(0,B.e)(),he=ut(),Oe=(0,u.useState)(!1),Pe=(0,o.A)(Oe,2),je=Pe[0],we=Pe[1],Se=(0,V.$)(),Ie=Se.isCollapsed,ke=Se.isExpanded,Le=Se.setYlxSidebarState;!function(e){var t=(0,u.useContext)(W.Z),r=(0,V.$)(),n=r.isCollapsed,i=r.setYlxSidebarState,a=r.lastUncollapsedYlxSidebarState,o=(0,H.W)(),l=(0,u.useCallback)((function(){var e=n?a:V.fX.COLLAPSED;i(e)}),[n,a,i]),s=(0,u.useCallback)((function(){e(null),n&&i(a)}),[n,a,e,i]),c=(0,u.useCallback)((function(r){return function(){e(t.getContentsPrimaryFilterId(r)),n&&i(a)}}),[n,a,t,e,i]),d=c(z.c.PLAYLIST),p=c(z.c.SHOW),y=c(z.c.ARTIST),f=c(z.c.ALBUM),g=c(z.c.AUDIOBOOK);(0,_.Nx)(o?U.gO.TOGGLE_NPV_SIDEBAR:U.gO.TOGGLE_YLX_SIDEBAR,l),(0,_.Nx)(U.gO.GO_TO_LIBRARY,s),(0,_.Nx)(U.gO.GO_TO_PLAYLISTS,d),(0,_.Nx)(U.gO.GO_TO_PODCASTS,p),(0,_.Nx)(U.gO.GO_TO_ARTISTS,y),(0,_.Nx)(U.gO.GO_TO_ALBUMS,f),(0,_.Nx)(U.gO.GO_TO_AUDIOBOOKS,g)}(L);var Ee,Ne=(0,rt.t)().isGridView,Fe=it().libraryRowMode===nt.COMPACT,Me=(0,ie.r)(v.j,{data:{identifier:"yourlibraryx"}}),Be=Me.spec,Ue=Me.UBIFragment;Ee=Ie?"collapsed":Ne?ke?"expanded_grid":"default_grid":Fe?ke?"expanded_compact":"default_compact":ke?"expanded_list":"default_list";var _e=(0,u.useMemo)((function(){return Be.sidebarFactory({uri:null!=pe?pe:Ge,identifier:Ee})}),[Be,pe,Ee]),Ve=(0,ne.t)(_e),ze=(0,u.useMemo)((function(){return _e.headerFactory()}),[_e]),qe=(0,u.useMemo)((function(){return ze.filtersFactory()}),[ze]),Qe=(0,u.useMemo)((function(){return ze.searchBarFactory()}),[ze]),ot=(0,u.useMemo)((function(){return _e.listFactory()}),[_e]),lt=(0,T.s)();!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,n=(0,Xe.n)(),i=(0,u.useContext)(W.Z).getContentsPrimaryFilterId("downloaded"),a=(0,u.useRef)(e);a.current=e;var o=(0,u.useRef)(t);o.current=t;var l=(0,u.useRef)(r);l.current=r;var s=(0,u.useRef)(!1);(0,u.useEffect)((function(){if(i){var e=o.current.includes(i),t=a.current.includes(i),r=o.current.length>1,c=!n&&!r&&!e&&t,u=n&&e&&s.current;(c||u)&&(c&&(s.current=!0),l.current(i,!1))}}),[i,n]);var c=(0,u.useRef)(t);(0,m.Ij)((function(){i&&(t.includes(i)&&!c.current.includes(i)&&s.current||(s.current=!1),c.current=t)}),[i,t])}(null==S||null===(r=S.availableFilters)||void 0===r?void 0:r.map((function(e){return e.id})),null==S||null===(s=S.selectedFilters)||void 0===s?void 0:s.map((function(e){return e.id})),E);var st=dt(ot,pe),ct=st.handleDropOnFolder,pt=st.unpinConfirmationDialog,yt=Ke(),ft=yt.dropOriginIsYLX,gt=yt.entityIsInFolder,bt=(0,u.useContext)(ce.O_).setDraggingIsInProgress;(0,ue.g)(q);var xt=pe?We:He,ht=!gt||null!=S&&S.reorderAllowed?[]:[ae.fl.PLAYLISTS_V2,ae.fl.FOLDERS],Ot=(0,le.A)({allowedMimeTypesByDropPosition:(0,i.A)({},oe.Nz.ON,ft?ht:xt),onDrop:(0,u.useCallback)(function(){var e=(0,l.A)(c().mark((function e(t){var r,i,a,o,l,s,u,d,p,y,f,g,m,b,v,x,h,O,P;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe?ct(t):(r=t[ae.fl.TRACKS],i=void 0===r?[]:r,a=t[ae.fl.LOCAL_TRACKS],o=void 0===a?[]:a,l=t[ae.fl.ALBUMS],s=t[ae.fl.ARTISTS],u=t[ae.fl.EPISODES],d=t[ae.fl.SHOWS],p=t[ae.fl.PLAYLISTS_V2],y=void 0===p?[]:p,f=t[ae.fl.FOLDERS],g=t[ae.fl.AUDIOBOOKS],(m=[].concat((0,n.A)(i),(0,n.A)(o))).length&&(null==be||be.add({uris:m}),lt.logInteraction(ot.dragCreatePlaylist())),null!=l&&l.length&&(null==be||be.add({uris:l}),lt.logInteraction(ot.dragLike({itemToBeLiked:null!==(b=l.at(0))&&void 0!==b?b:""}))),null!=s&&s.length&&(null==be||be.add({uris:s}),lt.logInteraction(ot.dragLike({itemToBeLiked:null!==(v=s.at(0))&&void 0!==v?v:""}))),null!=u&&u.length&&(null==be||be.add({uris:u}),lt.logInteraction(ot.dragLike({itemToBeLiked:null!==(x=u.at(0))&&void 0!==x?x:""}))),null!=d&&d.length&&(null==be||be.add({uris:d}),lt.logInteraction(ot.dragLike({itemToBeLiked:null!==(h=d.at(0))&&void 0!==h?h:""}))),null!=g&&g.length&&(null==be||be.add({uris:g}),lt.logInteraction(ot.dragLike({itemToBeLiked:null!==(O=g.at(0))&&void 0!==O?O:""}))),y.length&&(he(y,{before:"start"}),ft?lt.logInteraction(ot.dragSort()):lt.logInteraction(ot.dragLike({itemToBeLiked:null!==(P=y.at(0))&&void 0!==P?P:""}))),null!=f&&f.length&&(ve.moveFolder({uri:f[0]},{before:"start"}),lt.logInteraction(ot.dragSort())));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[pe,ct,be,lt,ot,he,ft,ve]),onLongDragOver:(0,u.useCallback)((function(){Ie&&Le(V.fX.DEFAULT)}),[Ie,Le])}),Pt=Ot.dropPosition,jt=Ot.className,wt=(0,a.A)(Ot,Rs),St=(0,b.NC)(me.H8e),At=(0,b.NC)(me.lDH),Ct=St||At,Tt=(0,u.useMemo)((function(){return{filters:R,sortOrder:M,textFilter:O,includeLocalFiles:ge,includeYourEpisodes:!0,includeLikedSongs:!0,includePreReleases:Ct,expandedFolders:Ie||Ne?[]:te,filtersPickedByUser:C.current,folderUri:pe}}),[R,M,O,ge,Ct,Ie,Ne,te,C,pe]),Rt=(0,u.useCallback)(function(){var e=(0,l.A)(c().mark((function e(t,r){var n,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,be.getContents(Ls({offset:t,limit:r},Tt));case 3:return n=e.sent,n.offset,n.limit,n.items,i=(0,a.A)(n,Is),we(!1),e.abrupt("return",Ls({fetchedId:Tt.folderUri,onCacheSuccess:function(){A((function(e){return(0,y.j)(i,e)?e:i}))}},n));case 9:if(e.prev=9,e.t0=e.catch(0),!(e.t0 instanceof P.c_)){e.next=16;break}return k(),e.abrupt("return",Es);case 16:if(!(e.t0 instanceof P.IU)){e.next=21;break}return J(void 0),e.abrupt("return",Es);case 21:if(!(e.t0 instanceof P.db)){e.next=24;break}return ye(),e.abrupt("return",Es);case 24:return(0,G.UD)(e.t0),we(!0),e.abrupt("return",Es);case 27:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}(),[Tt,be,k,ye,J]),It=!1===(null==S?void 0:S.hasUnfilteredItems),kt=(null==S?void 0:S.hasTextFilter)&&0===S.totalLength&&""!==O,Lt=(0,u.useContext)(De.g).setFilter;(0,u.useEffect)((function(){kt&&Ie&&Lt("")}),[kt,Ie,Lt]);var Et=0===(null==S?void 0:S.totalLength)&&S.selectedFilters.length>0&&!S.passedFolderUri&&!S.hasTextFilter;(0,m.Ij)((function(){var e=null==S?void 0:S.selectedFilters.at(-1);Et&&e&&E(e.id,!1)}),[Et,null==S?void 0:S.selectedFilters]);var Nt=(0,b.NC)(me.HbK,{loadingValue:!1})&&(null==be?void 0:be.getCapabilities().canFetchAllItems),Ft=(0,K.E)({nrItems:50,fetch:Rt,limit:50,cacheAllOnInvalidation:Nt,cacheAllLimit:5e4}),Bt=Ft.fetchedId,Ut=Ft.getItems,Vt=Ft.nrValidItems,Ht=Ft.invalidateCache,Wt=(0,g.YQ)(Ht,200,{leading:!0,trailing:!0,maxWait:1e3});Dt(null==S?void 0:S.primaryFilter,Wt);var zt=!pe&&!Bt||pe===Bt;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=(0,u.useRef)({});(0,u.useLayoutEffect)((function(){if(!e.current)return function(){};var n=e.current,i=r.current[t];n.scrollTop=null!=i?i:0;var a=function(){r.current[t]=n.scrollTop};return null==n||n.addEventListener("scroll",a),function(){null==n||n.removeEventListener("scroll",a)}}),[e,t])}(q,Bt);var Xt,Kt=(0,u.useCallback)((function(){Ht(),we(!1)}),[Ht]),Yt=(0,Te.y)(q),Zt=!(null==S||!S.openedFolderName),Gt=(0,b.NC)(me._p8,{loadingValue:!1})&&Nt,Jt=function(e,t,r){var n=(0,rt.t)().isGridView,i=it().rowHeight;return(0,u.useCallback)(function(){var a=(0,l.A)(c().mark((function a(o){var l,s,u,d,p,y,f,g,m;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s=i,u=1,n&&(y=null===(d=e.current)||void 0===d?void 0:d.querySelector('li[role="row"]'),s=null!==(p=null==y?void 0:y.getBoundingClientRect().height)&&void 0!==p?p:0,null!=y&&y.parentElement&&(u=getComputedStyle(y.parentElement).getPropertyValue("grid-template-columns").split(" ").length)),s){a.next=5;break}return a.abrupt("return",null);case 5:return f=r(0,5e4,{cachedOnly:!0}),g=f.find((function(e){return(null==e?void 0:e.name)&&(0,et.u)(o,e.name)})),-1!==(m=g?f.indexOf(g):-1)&&t.current&&tt(t.current,e.current,Math.floor(m/u)*s,s),a.abrupt("return",null!==(l=null==g?void 0:g.uri)&&void 0!==l?l:null);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),[e,t,i,r,n])}(ee,q,Ut),qt=je?(0,I.jsx)(sr,{onClick:Kt}):null;(0,u.useEffect)((function(){je&&Ie&&Le(V.fX.DEFAULT)}),[je,Ie,Le]),It&&!Ie&&(Xt=Zt?(0,I.jsx)(_t,{className:jt}):(0,I.jsx)($t,{className:jt}));var Qt=kt?(0,I.jsx)(ir,{query:O,className:jt}):null,er=(0,b.NC)(me.AEN),tr=!Ie&&!Xt&&(0,I.jsxs)("div",{className:p()(hs,jt,(0,i.A)({},Os,er)),children:[(0,I.jsx)(vs,{clearOnEscapeInElementRef:Q,primaryFilter:null==S?void 0:S.primaryFilter,spec:Qe},pe),(0,I.jsx)(gs,{sortOrders:null!==(d=null==S?void 0:S.availableSortOrders)&&void 0!==d?d:[],activeSortOrderId:null==S||null===(f=S.selectedSortOrder)||void 0===f?void 0:f.id,setActiveSortOrderId:J,root:Q.current,showReorderingOnboarding:(null==S?void 0:S.primaryFilter)===z.c.PLAYLIST&&!(null!=S&&S.reorderAllowed),spec:ze,scrollNodeRef:q})]}),rr=je&&!S,nr=ke&&!Ne&&!qt&&!Xt,ar=(null!==(h=null==S?void 0:S.selectedFilters)&&void 0!==h?h:[]).length>0,or=xe&&!ar&&!pe;return(0,I.jsx)($,{containerRef:Q,findMatchingTypeaheadUid:Jt,isEnabled:Gt,children:(0,I.jsxs)(Ue,{spec:Be,children:[(0,I.jsx)(Ae,{}),(0,I.jsx)(x.h,{menu:(0,I.jsx)(F,{folderUri:pe}),children:(0,I.jsxs)("div",Ls(Ls({className:p()(xs,(0,i.A)((0,i.A)({},Er,Pt===oe.Nz.ON),ws,Ie)),ref:function(e){Q.current=e,Ve(e)}},wt),{},{tabIndex:-1,onDragStart:function(){return bt(!0)},onDragEnd:function(){return bt(!1)},children:[pt,(0,I.jsxs)("div",{className:p()((0,i.A)({},Cs,Yt)),children:[(0,I.jsx)(Dl,{parentDropTargetClassName:jt,isLibraryCompletelyEmpty:It,folderUri:null==S?void 0:S.passedFolderUri,folderName:null==S?void 0:S.openedFolderName,spec:ze.titleRowFactory()}),!fe&&(0,I.jsx)(Ue,{spec:ze,children:(0,I.jsx)(Mt,{})}),!Ie&&!rr&&(0,I.jsxs)("div",{className:Ts,children:[or&&(0,I.jsx)(Ns,{availableFilters:null==S?void 0:S.availableFilters}),(0,I.jsx)(Qr,{selectedFilters:null==S?void 0:S.selectedFilters,availableFilters:null==S?void 0:S.availableFilters,toggleFilterId:E,resetFilterIds:k,className:p()(As,(0,i.A)({},Ds,!zt)),scrollNodeRef:q,spec:qe},Bt),ke&&tr]}),nr&&(0,I.jsx)(Tr,{isScrolled:Yt})]}),(0,I.jsx)(se.a,{className:Ps,onInstanceCreated:function(e){q.current=e.elements().viewport},children:(0,I.jsx)(X.L,{containerRef:Q,children:(0,I.jsxs)("div",{className:p()(js,(0,i.A)((0,i.A)((0,i.A)({},Ds,!je&&!zt),ws,Ie),Ss,nr)),children:[!ke&&tr,!Ie&&(null==S?void 0:S.tagPlaylist)&&(0,I.jsx)(Re,{playlist:S.tagPlaylist}),qt||Xt||Qt,(0,I.jsx)("div",{ref:ee,children:Ne?(0,I.jsx)(Eo,{getItems:Ut,scrollNodeRef:q,primaryFilter:null==S?void 0:S.primaryFilter,nrValidItems:Vt,spec:ot}):(0,I.jsx)(zl,{getItems:Ut,scrollNodeRef:q,primaryFilter:null==S?void 0:S.primaryFilter,nrValidItems:Vt,spec:ot})})]})})}),mt(),(0,I.jsx)(re,{})]}))})]})})},Ms=function(){var e=(0,f.d4)((function(e){return e.session})).isAnonymous;return(0,I.jsx)(M.s,{onError:function(e){(0,G.Jy)(e,"YourLibraryX")},children:(0,I.jsx)(De.s,{uri:P.gv,children:(0,I.jsx)(cr,{children:(0,I.jsxs)(qe,{children:[(0,I.jsx)(Fs,{}),(0,I.jsx)(Ve,{isAnonymous:e})]})})})})}},55730:(e,t,r)=>{r.d(t,{P:()=>i});var n=r(49805);function i(){return(0,n.y)()[0]}},49805:(e,t,r)=>{r.d(t,{y:()=>o});var n=r(26017),i=r(30758),a=r(77159);function o(){var e=(0,i.useContext)(a._),t=(0,i.useState)(e.getIsEnabled()),r=(0,n.A)(t,2),o=r[0],l=r[1];return(0,i.useEffect)((function(){var t=e.subscribeIsEnabled(l);return function(){return t()}}),[e]),[o,(0,i.useCallback)((function(t){return e.setIsEnabled(t)}),[e])]}}}]);
//# sourceMappingURL=536.js.map